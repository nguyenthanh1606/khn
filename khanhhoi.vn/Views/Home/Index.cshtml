@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Share/_Layout.cshtml";
}

<style>
    .form-date {
        display: flex;
    }

        .form-date label {
            vertical-align: middle;
            display: table;
            margin: 5px;
        }

    .Config_data {
        border-style: solid;
        border-color: rgb(193, 193, 193);
        border-width: 1px;
        background-color: rgb(250, 249, 249);
        padding: 5px;
    }

    #map {
        overflow: hidden;
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: -1;
    }

    .select2-container .select2-selection--single {
        height: 34px !important;
    }

    .select2-container--default .select2-selection--single {
        border: 1px solid #ccc !important;
        border-radius: 0px !important;
    }

    .btn-cus-player {
        display: inline-block;
        margin-bottom: 0;
        font-weight: 400;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        -ms-touch-action: manipulation;
        touch-action: manipulation;
        cursor: pointer;
        background-image: none;
        border: 1px solid transparent;
        padding: 5px 11px;
        font-size: 10px;
        line-height: 1.42857143;
        border-radius: 4px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }

    .selected {
        background-color: brown;
        color: #FFF;
    }

    .panel-footer {
        border-top: 0;
    }

    .table > tbody > tr > td, .table > tbody > tr > th, .table > tfoot > tr > td, .table > tfoot > tr > th, .table > thead > tr > td, .table > thead > tr > th {
        vertical-align: baseline;
    }
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>
<link href="https://vjs.zencdn.net/7.6.5/video-js.css" rel="stylesheet">
<link href="~/Content/css/Toast.css" rel="stylesheet" />
<link href="~/Content/css/sidebar_.css" rel="stylesheet" />
<!-- If you'd like to support IE8 (for Video.js versions prior to v7) -->
<script src="https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>
<script src="~/Scripts/Gmap/Line_BienGioiBienVN.js"></script>
<script type="text/javascript">
    var positionView = 0;
    var map;
    var dataListStatus;
    var w = 0, t, obj, inner, page;
    var activeAutoLoad = 0;
    var ArrMarkerSelect = [];
    var lotrinhpoint = [], _ArrMarkerDes = [], infowindows = [], arrayMarker = [], infowindowcop = [];
    var Gmarker_lotrinh_end;
    var _stt_rows = 0, pagination_num = 0;
    var flag_interval = false;
    var _danhgia = 0;
    var load_exp_dv = 0;
    var Arr_username = [];
    var _dstaikhoan_loginname = "";
    var _arr_dstaikhoan_select = [], _arr_loginname = [], _arr_info_row_select = [];
    var _first_click = true;
    var _arr_dsxe_byuserid = [];
    var _dsxe_ofuser_change = "", _dsxe_ofuser_change_delete = "";
    var _arr_tonghop_select = [], _arr_tonghop_unselect = [];
    var list_infoDevice = [];
    var _dstaikhoan_length = 0;
    var list_thietbi_loaixe, list_thietbi_tinh, list_thietbi_loaivantai, list_thietbi_nhomxe;
    var _arr_info_allrow_saved = [];
    var valueItem_current = 0;
    var _arr_list_deviceid = [];
    var _arr_dsxe_select = [];
    var _arr_dsxe_unselect = [];
    var _arr_dstaixe_select = [];
    var _arr_dsthietbi_select = [];
    var line, line1, _distance, listdata, listData_PauseStop;
    var status_btn = 1, speed_btn = 0, speed = 60, count = 0, count_max = 0, intervalForAnimation;
    var _CategoryID;
    var _infowindow = new google.maps.InfoWindow();
    var imageURL_ = '';
    var armarker = [];
    var armarkerTemp = [];
    var imgArr = [];
    var flag_ = 0;
    var old_lat = -1;
    var old_long = -1;
    var _moveMarker;
    var distance;
    var _marker_dir;
    //================ new =====================
    var directionDisplay;
    var directionsService;
    var stepDisplay;
    var position;
    var marker = [];
    var polyline = [];
    var poly2 = [];
    var poly = null;
    var startLocation = [];
    var endLocation = [];
    var timerHandle = [];
    var speed = 0.000005, wait = 1;
    var infowindow = null;
    var myPano;
    var panoClient;
    var nextPanoId;
    var Colors = ["#FF0000", "#00FF00", "#0000FF"];
    var rendererOptions;
    var lastVertex = 1;
    var stepnum = 0;
    var step = 50; // 5; // metres
    var tick = 100; // milliseconds
    var eol = [];
    var requestArray = [], renderArray = [];
    //var cur = 0;
    var service = new google.maps.DirectionsService();
    var directionsDisplay = [];
    var check_status = false;
    var id__;
    var heading = 0;// rotation: lưu hướng đi của xe
    var imgUrl; // link hinh anh xe hien tai
    const limit_trongngay = 0; // giới hạn ngày cho quá tốc độ, báo cáo thời gian lái xe liên tục và thời gian lái xe liên tục
    const limit_2_ngay = 2; // giới hạn ngày cho hành trình xe chạy và tốc độ xe chạy
    const limit_15_ngay = 15; // giới hạn ngày cho báo cáo dừng đỗ
    const limit_30_ngay = 30; // giới hạn ngày cho báo cáo tổng hợp theo xe và tổng hợp theo lái xe
    const _MS_PER_DAY = 1000 * 60 * 60 * 24;
    var strStatus = '';
    var sideBar_Status = '';

    $(document).ready(function () {
        //var Arr_point_ = convertJson();
        //  console.log(Arr_point_[0].length);
        //  return;
        document.getElementById("player").disabled = true;
        document.getElementById("speed").disabled = true;

        setupMap(10.85586, 106.67961, 8);
        //Bien gioi bien
        //for (var k = 0; k < Arr_point_[1].length; k++) {
        //    // console.log(Arr_point_[1][k].X);
        //    var point = new google.maps.LatLng(Arr_point_[1][k].L, Arr_point_[1][k].N);
        //    var markerLB = new MarkerWithLabel({
        //        position: point,
        //        labelContent: Arr_point_[1][k].X,
        //        title: Arr_point_[1][k].X,
        //        map: map,
        //        //labelAnchor: new window.google.maps.Point(22, 0),
        //        labelClass: "markerlabels", // the CSS class for the label
        //        labelStyle: { opacity: 0.7 }
        //    });
        //    markerLB.setIcon("/images/icon/flag.png");
        //    markerLB.setMap(map);
        //}
        //var flightPath = new google.maps.Polyline({
        //    path: Arr_point_[0],
        //    geodesic: true,
        //    strokeColor: "#FF0000",
        //    strokeOpacity: 1.0,
        //    strokeWeight: 2
        //});
        //flightPath.setMap(map);
        //-----------------------//
        ajaxGetdata();

        setInterval(function () {
            ajaxGetdata();
        }, 16000);

        $("#show_info_device_exp").click(function () {
            document.getElementById("btn_modal_exp").click();
            $('.blur').addClass('active');
        });
        $('#exampleModalCenter').click(function () {
            $('.blur.active').removeClass('active');
        })

        $("#item-doithongtin-thietbi").click(function () {
            alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchucnangdangtamkhoa)");
        });

        // Gửi phản hồi không được để trống
        $("#feedback_send").click(function (e) { // feedback get value textarea
            e.preventDefault();
            var cm = $.trim($("#feedback_comment").val());
            var _chude = $("#feedback_chude").val();

            if (_chude === "") {
                $("#feedback_chude").focus();
                $("#feedback_chude").attr("placeholder", "Vui lòng nhập chủ đề");
                return;
            } else if (cm === "") {
                $("#feedback_comment").focus();
                $("#feedback_comment").attr("placeholder", "Vui lòng nhập nội dung");
                return;
            } else if (cm.length >= 1024) {
                alert("Nội dung không quá 1024 ký tự");
                return;
            }
            alert('Chức năng đang trong quá trình hoàn thiện! Vui lòng quay lại sau nhé :)');
            // insertDB_Provider(cm, _danhgia, _chude);
        });
        // Send feedback again
        $("#send_Feedbackreply").click(function (e) { // feedback get value textarea
            var cm = $.trim($("#feedback_commentreply").val());

            if (cm === "") {
                $("#feedback_commentreply").focus();
                $("#feedback_commentreply").attr("placeholder", "Vui lòng nhập nội dung");
                return;
            } else if (cm.length >= 1024) {
                alert("Nội dung không quá 1024 ký tự");
                return;
            }
            alert('Chức năng đang trong quá trình hoàn thiện! Vui lòng quay lại sau nhé :)');
            // insertDB_Provider(cm, _danhgia, _chude);
        });
        $("#show_admin_reload").click(function () {
            getinfoUser();
            $("#list-admin").show()
        })
        // menu
        $(".close-tab").click(function () {
            $("#list-bgt").hide()
            $("#rounded").show()
            $("#list_business").hide()
            $("#content_comment").hide()
            $("#list-admin").hide()
            $("#list-quantri").hide()
            $("#list-tienich").hide()
            $("#content-taikhoan").hide()
            $("#content-thietbi-taixe").hide()
            $(".main.show").removeClass('active')
            $("#header-wrapper").removeClass('tran-left-nav');
        })

        $("#show_bgt").click(function () {
            $("#list-bgt").show()
            $("#content-bgt-chitiet-vipham4h").show()
            $("#rounded").hide()
            $("#list_business").hide()
            $("#content_comment").hide()
            $("#list-admin").hide()
            $("#list-quantri").hide()
            $("#list-tienich").hide()
            $("#content-taikhoan").hide()
            $("#content-thietbi-taixe").hide()
            $('.navbar_icon.active') ? $('.navbar_icon.active').removeClass('active') : ''
            $(".main.show").addClass('active')
            $("#header-wrapper").addClass('tran-left-nav');
            $('#content-status.active') ? $('#content-status').removeClass('active') : '';
            $('#content-status').removeClass('active');
            check_status = false;
            setDayFilter();
            chiTietViPham();
        });
        $("#show_business").click(function () {
            $("#list_business").show()
            $("#content-dn-tonghop").show()
            $("#content_comment").hide()
            $("#list-bgt").hide()
            $("#rounded").hide()
            $("#list-quantri").hide()
            $("#list-admin").hide()
            $("#list-tienich").hide()
            $("#content-taikhoan").hide()
            $("#content-thietbi-taixe").hide()
            $(".main.show").addClass('active')
            $("#header-wrapper").addClass('tran-left-nav');
            $('.navbar_icon.active') ? $('.navbar_icon.active').removeClass('active') : '';
            $('#content-status').removeClass('active');
            check_status = false;
            showStatus(strStatus, sideBar_Status);
            reportBussiness();
        });
        $("#show_comment").click(function () {
            $("#content_comment").show()
            $("#list_business").hide()
            $("#list-bgt").hide()
            $("#rounded").hide()
            $("#list-quantri").hide()
            $("#list-admin").hide()
            $("#list-tienich").hide()
            $("#content-taikhoan").hide()
            $("#content-thietbi-taixe").hide()
            $(".main.show").addClass('active')
            $("#header-wrapper").addClass('tran-left-nav');
            $('.navbar_icon.active') ? $('.navbar_icon.active').removeClass('active') : ''
            check_status = false;
            showStatus(strStatus, sideBar_Status);
            $('#content-status').removeClass('active');
        });
        $("#show_admin").click(function () {
            getinfoUser();
            $("#list-admin").show()
            $("#list-bgt").hide()
            $("#list_business").hide()
            $("#rounded").hide()
            $("#content_comment").hide()
            $("#list-quantri").hide()
            $("#list-tienich").hide()
            $("#content-taikhoan").hide()
            $("#content-thietbi-taixe").hide()
            $(".main.show").addClass('active')
            $("#header-wrapper").addClass('tran-left-nav');
            $('.navbar_icon.active') ? $('.navbar_icon.active').removeClass('active') : ''
            check_status = false;
            showStatus(strStatus, sideBar_Status);
            $('#content-status').removeClass('active');
        });
        $("#show_tienich").click(function () {
            $("#list-tienich").show()
            $("#list-quantri").hide()
            $("#list-admin").hide()
            $("#list-bgt").hide()
            $("#list_business").hide()
            $("#rounded").hide()
            $("#content_comment").hide()
            $("#content-taikhoan").hide()
            $("#content-thietbi-taixe").hide()
            $(".main.show").addClass('active')
            $("#header-wrapper").addClass('tran-left-nav');
            $('.navbar_icon.active') ? $('.navbar_icon.active').removeClass('active') : ''
            check_status = false;
            showStatus(strStatus, sideBar_Status);
            $('#content-status').removeClass('active');
        });
        $("#show_taikhoan").click(function () {
            $("#content-taikhoan").show();
            $("#content-thietbi-taixe").hide();
            $("#list-tienich").hide();
            $("#list-quantri").hide();
            $("#list-admin").hide();
            $("#list-bgt").hide();
            $("#list_business").hide();
            $("#rounded").hide();
            $("#content_comment").hide();
            $("#item-taikhoan-save").hide();
            $("#item-taikhoan-back").hide();
            $(".main.show").addClass('active')
            $("#header-wrapper").addClass('tran-left-nav');
            $('.navbar_icon.active') ? $('.navbar_icon.active').removeClass('active') : ''
            $('#content-status').addClass('blur_layer');
            showStatus(strStatus, sideBar_Status);
            GetInfo_User();
        });
        $("#show_thietbi_taixe").click(function () {
            $("#content-thietbi-taixe").show()
            $("#content-taikhoan").hide()
            $("#list-tienich").hide()
            $("#list-quantri").hide()
            $("#list-admin").hide()
            $("#list-bgt").hide()
            $("#list_business").hide()
            $("#rounded").hide()
            $("#content_comment").hide()
            $(".main.show").addClass('active')
            $("#header-wrapper").addClass('tran-left-nav');
            $('.navbar_icon.active') ? $('.navbar_icon.active').removeClass('active') : ''
            check_status = false;
            showStatus(strStatus, sideBar_Status);
            GetList_Devices();
            GetList_loaixe_forDDL();
            GetList_tinh_forDDL();
            GetList_loaivantai_forDDL();
            GetList_nhomxe_forDDL();
        });

        // tiện ích
        $("#menu-tienich-thongtinthietbi").click(function () {
            $("#content-tienich-thongtinthietbi").show()
            $(".main.show").addClass('active')
            $("#header-wrapper").addClass('tran-left-nav');
            $('.navbar_icon.active') ? $('.navbar_icon.active').removeClass('active') : ''
            $('#content-status').addClass('blur_layer');
        });
        // report bộ giao thông
        $("#menu-bgt-chitiet-vipham4h").click(function () {
            check_status = false;
            $('#content-status').removeClass('active');
            chiTietViPham();
        });
        // function chi tiết vi phạm
        function chiTietViPham() {
            $("#content-bgt-chitiet-vipham4h").show()
            $("#content-bgt-chitiet-vipham10h").hide()
            $("#content-bgt-hanhtrinh").hide()
            $("#content-bgt-tocdo").hide()
            $("#content-bgt-quatocdogioihan").hide()
            $("#content-bgt-thoigianlaixelientuc").hide()
            $("#content-bgt-dungdo").hide()
            $("#content-bgt-laixe").hide()
            $("#content-bgt-tonghopxe").hide()
            $("#content-bgt-thoigianlaixetrongngay").hide()
            $(".main.show").addClass('active')
            $("#header-wrapper").addClass('tran-left-nav');
            $('.navbar_icon.active') ? $('.navbar_icon.active').removeClass('active') : ''
            showStatus(strStatus, sideBar_Status);
            CreateSelect_bgt_vipham4h(dataListStatus);
        }

        $("#menu-bgt-chitiet-vipham10h").click(function () {
            $("#content-bgt-chitiet-vipham10h").show()
            $("#content-bgt-chitiet-vipham4h").hide()
            $("#content-bgt-hanhtrinh").hide()
            $("#content-bgt-tocdo").hide()
            $("#content-bgt-quatocdogioihan").hide()
            $("#content-bgt-thoigianlaixelientuc").hide()
            $("#content-bgt-dungdo").hide()
            $("#content-bgt-laixe").hide()
            $("#content-bgt-tonghopxe").hide()
            $("#content-bgt-thoigianlaixetrongngay").hide()
            $(".main.show").addClass('active')
            $("#header-wrapper").addClass('tran-left-nav');
            $('.navbar_icon.active') ? $('.navbar_icon.active').removeClass('active') : ''

            CreateSelect_bgt_vipham10h(dataListStatus);
        });
        $("#menu-bgt-hanhtrinh").click(function () {
            $("#content-bgt-hanhtrinh").show()
            $("#content-bgt-chitiet-vipham4h").hide()
            $("#content-bgt-chitiet-vipham10h").hide()
            $("#content-bgt-tocdo").hide()
            $("#content-bgt-quatocdogioihan").hide()
            $("#content-bgt-thoigianlaixelientuc").hide()
            $("#content-bgt-dungdo").hide()
            $("#content-bgt-laixe").hide()
            $("#content-bgt-tonghopxe").hide()
            $("#content-bgt-thoigianlaixetrongngay").hide()
            $(".main.show").addClass('active')
            $('.navbar_icon.active') ? $('.navbar_icon.active').removeClass('active') : ''

            CreateSelect_bgt_hanhtrinh(dataListStatus);
        });
        $("#menu-bgt-tocdo").click(function () {
            $("#content-bgt-tocdo").show()
            $("#content-bgt-chitiet-vipham4h").hide()
            $("#content-bgt-chitiet-vipham10h").hide()
            $("#content-bgt-hanhtrinh").hide()
            $("#content-bgt-quatocdogioihan").hide()
            $("#content-bgt-thoigianlaixelientuc").hide()
            $("#content-bgt-dungdo").hide()
            $("#content-bgt-laixe").hide()
            $("#content-bgt-tonghopxe").hide()
            $("#content-bgt-thoigianlaixetrongngay").hide()
            $(".main.show").addClass('active')
            $('.navbar_icon.active') ? $('.navbar_icon.active').removeClass('active') : ''
            $("#header-wrapper").addClass('tran-left-nav');

            CreateSelect_bgt_tocdo(dataListStatus);
        });
        $("#menu-bgt-quatocdogioihan").click(function () {
            $("#content-bgt-quatocdogioihan").show()
            $("#content-bgt-chitiet-vipham4h").hide()
            $("#content-bgt-chitiet-vipham10h").hide()
            $("#content-bgt-hanhtrinh").hide()
            $("#content-bgt-tocdo").hide()
            $("#content-bgt-thoigianlaixelientuc").hide()
            $("#content-bgt-dungdo").hide()
            $("#content-bgt-laixe").hide()
            $("#content-bgt-tonghopxe").hide()
            $("#content-bgt-thoigianlaixetrongngay").hide()
            $(".main.show").addClass('active')
            $("#header-wrapper").addClass('tran-left-nav');

            CreateSelect_bgt_quatocdogioihan(dataListStatus);
        });
        $("#menu-bgt-thoigianlaixelientuc").click(function () {
            $("#content-bgt-thoigianlaixelientuc").show()
            $("#content-bgt-chitiet-vipham4h").hide()
            $("#content-bgt-chitiet-vipham10h").hide()
            $("#content-bgt-hanhtrinh").hide()
            $("#content-bgt-tocdo").hide()
            $("#content-bgt-quatocdogioihan").hide()
            $("#content-bgt-dungdo").hide()
            $("#content-bgt-laixe").hide()
            $("#content-bgt-tonghopxe").hide()
            $("#content-bgt-thoigianlaixetrongngay").hide()
            $(".main.show").addClass('active')
            $("#header-wrapper").addClass('tran-left-nav');

            CreateSelect_bgt_laixelientuc(dataListStatus);
        });
        $("#menu-bgt-thoigianlaixetrongngay").click(function () {
            $("#content-bgt-thoigianlaixetrongngay").show()
            $("#content-bgt-thoigianlaixelientuc").hide()
            $("#content-bgt-chitiet-vipham4h").hide()
            $("#content-bgt-chitiet-vipham10h").hide()
            $("#content-bgt-hanhtrinh").hide()
            $("#content-bgt-tocdo").hide()
            $("#content-bgt-quatocdogioihan").hide()
            $("#content-bgt-dungdo").hide()
            $("#content-bgt-laixe").hide()
            $("#content-bgt-tonghopxe").hide()
            $(".main.show").addClass('active')
            $("#header-wrapper").addClass('tran-left-nav');

            CreateSelect_bgt_laixetrongngay(dataListStatus);
        });
        $("#menu-bgt-dungdo").click(function () {
            $("#content-bgt-dungdo").show() // toggle
            $("#content-bgt-thoigianlaixelientuc").hide()
            $("#content-bgt-thoigianlaixetrongngay").hide()
            $("#content-bgt-chitiet-vipham4h").hide()
            $("#content-bgt-chitiet-vipham10h").hide()
            $("#content-bgt-hanhtrinh").hide()
            $("#content-bgt-tocdo").hide()
            $("#content-bgt-quatocdogioihan").hide()
            $("#content-bgt-laixe").hide()
            $("#content-bgt-tonghopxe").hide()
            $(".main.show").addClass('active')

            CreateSelect_bgt_dungdo(dataListStatus);
        });
        $("#menu-bgt-laixe").click(function () {
            $("#content-bgt-laixe").show()
            $("#content-bgt-dungdo").hide() // toggle
            $("#content-bgt-thoigianlaixelientuc").hide()
            $("#content-bgt-chitiet-vipham4h").hide()
            $("#content-bgt-chitiet-vipham10h").hide()
            $("#content-bgt-hanhtrinh").hide()
            $("#content-bgt-tocdo").hide()
            $("#content-bgt-quatocdogioihan").hide()
            $("#content-bgt-tonghopxe").hide()
            $("#content-bgt-thoigianlaixetrongngay").hide()
            $(".main.show").addClass('active')

            CreateSelect_bgt_laixe(dataListStatus);
        });
        $("#menu-bgt-tonghopxe").click(function () {
            $("#content-bgt-tonghopxe").show()
            $("#content-bgt-laixe").hide()
            $("#content-bgt-dungdo").hide() // toggle
            $("#content-bgt-thoigianlaixelientuc").hide()
            $("#content-bgt-thoigianlaixetrongngay").hide()
            $("#content-bgt-chitiet-vipham4h").hide()
            $("#content-bgt-chitiet-vipham10h").hide()
            $("#content-bgt-hanhtrinh").hide()
            $("#content-bgt-tocdo").hide()
            $("#content-bgt-quatocdogioihan").hide()
            $(".main.show").addClass('active')

            CreateSelect_bgt_tonghopxe(dataListStatus);
        });

        // report doanh nghiệp
        $("#menu-dn-tonghop").click(reportBussiness);
        // function report doanh nghiệp
        function reportBussiness() {
            $("#content-dn-tonghop").show()
            $("#content-dn-dungdo").hide()
            $("#content-dn-chitiet").hide()
            $("#content-dn-nhienlieu-tonghop").hide()
            $("#content-dn-mototai").hide()
            $("#content-dn-khoadien").hide()
            $("#content-dn-tonghopkm").hide()
            $("#content-dn-maylanh").hide()
            $("#content-dn-camerahanhtrinh").hide()
            $("#content-dn-ngugat").hide()
            setDayFilter();
            CreateSelect_dn_tonghop(dataListStatus);
        }
        $("#menu-dn-chitiet").click(function () {
            $("#content-dn-chitiet").show()
            $("#content-dn-tonghop").hide()
            $("#content-dn-dungdo").hide()
            $("#content-dn-nhienlieu-tonghop").hide()
            $("#content-dn-mototai").hide()
            $("#content-dn-khoadien").hide()
            $("#content-dn-tonghopkm").hide()
            $("#content-dn-maylanh").hide()
            $("#content-dn-camerahanhtrinh").hide()
            $("#content-dn-ngugat").hide()
            setDayFilter();
            CreateSelect_dn_chitiet(dataListStatus);
        });
        $("#menu-dn-nhienlieu-tonghop").click(function () {
            $("#content-dn-nhienlieu-tonghop").show()
            $("#content-dn-dungdo").hide()
            $("#content-dn-tonghop").hide()
            $("#content-dn-chitiet").hide()
            $("#content-dn-mototai").hide()
            $("#content-dn-khoadien").hide()
            $("#content-dn-tonghopkm").hide()
            $("#content-dn-maylanh").hide()
            $("#content-dn-camerahanhtrinh").hide()
            $("#content-dn-ngugat").hide()
            setDayFilter();
            CreateSelect_dn_nhienlieu_tonghop(dataListStatus);
        });
        $("#menu-dn-khoadien").click(function () {
            $("#content-dn-khoadien").show()
            $("#content-dn-mototai").hide()
            $("#content-dn-dungdo").hide()
            $("#content-dn-tonghop").hide()
            $("#content-dn-chitiet").hide()
            $("#content-dn-nhienlieu-tonghop").hide()
            $("#content-dn-tonghopkm").hide()
            $("#content-dn-maylanh").hide()
            $("#content-dn-camerahanhtrinh").hide()
            $("#content-dn-ngugat").hide()
            setDayFilter();
            CreateSelect_dn_khoadien(dataListStatus);
        });
        $("#menu-dn-mototai").click(function () {
            $("#content-dn-mototai").show()
            $("#content-dn-khoadien").hide()
            $("#content-dn-dungdo").hide()
            $("#content-dn-tonghop").hide()
            $("#content-dn-chitiet").hide()
            $("#content-dn-nhienlieu-tonghop").hide()
            $("#content-dn-tonghopkm").hide()
            $("#content-dn-maylanh").hide()
            $("#content-dn-camerahanhtrinh").hide()
            $("#content-dn-ngugat").hide()
            setDayFilter();
            CreateSelect_dn_mototai(dataListStatus);
        });
        $("#menu-dn-dungdo").click(function () {
            $("#content-dn-dungdo").show()
            $("#content-dn-mototai").hide()
            $("#content-dn-khoadien").hide()
            $("#content-dn-tonghop").hide()
            $("#content-dn-chitiet").hide()
            $("#content-dn-nhienlieu-tonghop").hide()
            $("#content-dn-tonghopkm").hide()
            $("#content-dn-maylanh").hide()
            $("#content-dn-camerahanhtrinh").hide()
            $("#content-dn-ngugat").hide()
            setDayFilter();
            CreateSelect_dn_dungdo(dataListStatus);
        });
        $("#menu-dn-tonghopkm").click(function () {
            $("#content-dn-tonghopkm").show()
            $("#content-dn-dungdo").hide()
            $("#content-dn-mototai").hide()
            $("#content-dn-khoadien").hide()
            $("#content-dn-tonghop").hide()
            $("#content-dn-chitiet").hide()
            $("#content-dn-nhienlieu-tonghop").hide()
            $("#content-dn-maylanh").hide()
            $("#content-dn-camerahanhtrinh").hide()
            $("#content-dn-ngugat").hide()

            CreateSelect_dn_tonghopkm(dataListStatus);
        });
        $("#menu-dn-maylanh").click(function () {
            $("#content-dn-maylanh").show()
            $("#content-dn-dungdo").hide()
            $("#content-dn-mototai").hide()
            $("#content-dn-khoadien").hide()
            $("#content-dn-tonghop").hide()
            $("#content-dn-chitiet").hide()
            $("#content-dn-nhienlieu-tonghop").hide()
            $("#content-dn-camerahanhtrinh").hide()
            $("#content-dn-ngugat").hide()
            $("#content-dn-tonghopkm").hide()

            CreateSelect_dn_maylanh(dataListStatus);
        });
        $("#menu-dn-camerahanhtrinh").click(function () {
            //index được mở bằng window.open lần đầu tiên khi chạy project.
            // index tạo tab con bằng window.open.
            window.open('PlayBackJourney?Cur=&im=&d=', "_blank"); //"width=400, height=450" => mini window

            //try { self.close(); } catch (e) { } //self.close áp dụng cho window.open đang được gọi mở.
            //location.href = "PlayBackJourney?Cur=&im=&d=";
        });
        $("#menu-dn-ngugat").click(function () {
            $("#content-dn-ngugat").show()
            var currentdate_dozy = new Date();
            var curentMonth_dozy = (currentdate_dozy.getMonth() + 1) < 10 ? "0" + (currentdate_dozy.getMonth() + 1) : (currentdate_dozy.getMonth() + 1);
            var curentdate_dozy = currentdate_dozy.getDate() < 10 ? "0" + currentdate_dozy.getDate() : currentdate_dozy.getDate();
            var datetimeDozy = curentdate_dozy + "-" + curentMonth_dozy + "-" + currentdate_dozy.getFullYear();
            document.getElementById("date_form_dozy").value = datetimeDozy;
            $("#content-dn-camerahanhtrinh").hide()
            $("#content-dn-dungdo").hide()
            $("#content-dn-mototai").hide()
            $("#content-dn-khoadien").hide()
            $("#content-dn-tonghop").hide()
            $("#content-dn-chitiet").hide()
            $("#content-dn-nhienlieu-tonghop").hide()
            $("#content-dn-tonghopkm").hide()
            $("#content-dn-maylanh").hide()
            $('#content-status.active') ? $('#content-status').removeClass('active') : '';

            CreateSelect_dn_ngugat(dataListStatus);
        });
    });
    function setDayFilter() {
        var current_date = new Date();
        var curent_Month = (current_date.getMonth() + 1) < 10 ? "0" + (current_date.getMonth() + 1) : (current_date.getMonth() + 1);
        var curent_date = current_date.getDate() < 10 ? "0" + current_date.getDate() : current_date.getDate();
        var current_ddmmyyyy = curent_date + "/" + curent_Month + "/" + current_date.getFullYear();
        document.querySelectorAll(".report_dn").forEach(day => day.value = current_ddmmyyyy);
    }
    function taikhoan_them_selectrow(_tr) {
        var _table = document.getElementById("table_taikhoan_them");
        var _stt_value = _table.rows[_tr + 1].cells[0].innerHTML;
        var _deviceid_value = _table.rows[_tr + 1].cells[3].innerHTML;
        var _id_tr = document.getElementById("tk_them_row" + _tr);
        _id_tr.setAttribute("style", "background-color:burlywood;");
        var _arr_color = [_stt_value, _deviceid_value];

        if (_arr_list_deviceid.length > 0) {
            var _check = false;
            for (var i = 0; i < _arr_list_deviceid.length; i++) {
                if (_arr_list_deviceid[i][0] == _stt_value) {
                    _id_tr.setAttribute("style", "background-color:white;");
                    _arr_list_deviceid.splice(i, 1);
                    _check = true;
                    break;
                } else { _check = false; }
            }
        } else { _arr_list_deviceid.push(_arr_color); }

        if (_check === false) {
            _arr_list_deviceid.push(_arr_color);
        }
    };
    function taikhoan_dsxe_selectrow(_tr, _userid) {
        var _userid_deviceid = [];
        if (_first_click == true && _arr_dsxe_byuserid.length > 0) {
            for (var k = 0; k < _arr_dsxe_byuserid.length; k++) {
                _userid_deviceid = [_userid + "", _arr_dsxe_byuserid[k][1] + "", _arr_dsxe_byuserid[k][2]]; // thêm VehicleNumber
                _arr_dsxe_select.push(_userid_deviceid);
            }
            _first_click = false;
        }
        var _id_tr = document.getElementById("tk_dsxe_row" + _tr);
        var _table = document.getElementById("table_taikhoan_dsxe");
        var _vehiclenmuber_value = _table.rows[_tr + 1].cells[1].innerHTML;
        var _deviceid_value = _table.rows[_tr + 1].cells[3].innerHTML;
        _userid_deviceid = [_userid + "", _deviceid_value, _vehiclenmuber_value];
        if (_arr_dsxe_select.length > 0) {
            var is_select = false;
            for (var i = 0; i < _arr_dsxe_select.length; i++) {
                if (_arr_dsxe_select[i][1] == _deviceid_value) {
                    _id_tr.setAttribute("style", "background-color:white;");
                    if (_arr_dsxe_unselect.length > 0) {
                        for (var j = 0; j < _arr_dsxe_unselect.length; j++) {
                            if (_arr_dsxe_unselect[j][1] != _deviceid_value) {
                                _arr_dsxe_unselect.push(_userid_deviceid);
                            }
                        }
                    } else { _arr_dsxe_unselect.push(_userid_deviceid); }
                    _arr_dsxe_select.splice(i, 1);
                    is_select = true;
                    break;
                }
            }
        } else {
            _arr_dsxe_select.push(_userid_deviceid);
            _id_tr.setAttribute("style", "background-color:burlywood;");
        }

        if (is_select === false) {
            _arr_dsxe_select.push(_userid_deviceid);
            _id_tr.setAttribute("style", "background-color:burlywood;");
        }

    };
    function taixe_select_row(_tr) {
        var _table = document.getElementById("table_taixe");
        var _id_tr = document.getElementById("taixe_row_id" + _tr);
        _id_tr.setAttribute("style", "background-color:burlywood;");
        var _stt_value = _table.rows[_tr + 1].cells[0].innerHTML;
        var _tenlaixe_value = _table.rows[_tr + 1].cells[1].innerHTML;
        var _sodienthoai_value = _table.rows[_tr + 1].cells[2].innerHTML;
        var _GPLX_value = _table.rows[_tr + 1].cells[3].innerHTML;
        var _driverid_value = _table.rows[_tr + 1].cells[4].innerHTML;
        var _socmnd_value = _table.rows[_tr + 1].cells[5].innerHTML;
        var _hang_value = _table.rows[_tr + 1].cells[6].innerHTML;
        var _ngaycap_value = _table.rows[_tr + 1].cells[7].innerHTML;
        var _hethan_value = _table.rows[_tr + 1].cells[8].innerHTML;
        var _noicap_value = _table.rows[_tr + 1].cells[9].innerHTML;
        var _ghichu_value = _table.rows[_tr + 1].cells[10].innerHTML;
        var _deviceid_value = _table.rows[_tr + 1].cells[10].innerHTML;
        var _ddid_value = _table.rows[_tr + 1].cells[11].innerHTML;

        var _arr_list_taixe = [_id_tr, _stt_value, _tenlaixe_value, _sodienthoai_value, _GPLX_value, _driverid_value, _socmnd_value, _hang_value, _ngaycap_value, _hethan_value, _noicap_value, _ghichu_value, _deviceid_value, _ddid_value];

        if (_arr_dstaixe_select.length > 0) {
            if (_arr_dstaixe_select[0][1] === _stt_value) { return; }
            else {
                var _idtr = _arr_dstaixe_select[0][0];
                _idtr.setAttribute("style", "background-color:white;");
                _arr_dstaixe_select.splice(0, 1);
                _arr_dstaixe_select.push(_arr_list_taixe);
            }
        }
        else { _arr_dstaixe_select.push(_arr_list_taixe); }
    };
    function thietbi_select_row(_tr, _deviceid) {
        _arr_dstaixe_select = []; //refersh new
        var _table = document.getElementById("table_thietbi");

        var _id_tr = document.getElementById("thietbi_row_id" + _tr);
        _id_tr.setAttribute("style", "background-color:#58b680;");
        var _stt_value = _table.rows[_tr + 1].cells[1].innerHTML;
        var _bienso_value = _table.rows[_tr + 1].cells[2].innerHTML;
        var _tenthietbi_value = _table.rows[_tr + 1].cells[3].innerHTML;
        var _version = _table.rows[_tr + 1].cells[4].innerHTML;
        var _imei_value = _table.rows[_tr + 1].cells[5].innerHTML;
        var _nhomxe_value = _table.rows[_tr + 1].cells[6].innerHTML;
        var _ngayhethan_value = _table.rows[_tr + 1].cells[7].innerHTML;
        var _DeviceID = _table.rows[_tr + 1].cells[8].innerHTML;
        var _VehicleID = _table.rows[_tr + 1].cells[9].innerHTML;
        var _VehicleGroupIDChild = _table.rows[_tr + 1].cells[10].innerHTML;
        var _VehicleCategoryID = _table.rows[_tr + 1].cells[11].innerHTML;
        var _Capacity = _table.rows[_tr + 1].cells[12].innerHTML;
        var _BarrelNumber = _table.rows[_tr + 1].cells[13].innerHTML;
        var _SimNumber = _table.rows[_tr + 1].cells[14].innerHTML;
        var _SimID = _table.rows[_tr + 1].cells[15].innerHTML;
        var _ProvinceID = _table.rows[_tr + 1].cells[16].innerHTML;
        var _TypeTransportID = _table.rows[_tr + 1].cells[17].innerHTML;
        var _Business = _table.rows[_tr + 1].cells[18].innerHTML;
        var _Chassis = _table.rows[_tr + 1].cells[19].innerHTML;
        var _Grosston = _table.rows[_tr + 1].cells[20].innerHTML;
        var _ParentGroupID = _table.rows[_tr + 1].cells[21].innerHTML;
        var _CurrentChildID = _table.rows[_tr + 1].cells[22].innerHTML;
        var _Switch_ = _table.rows[_tr + 1].cells[23].innerHTML;
        var _Switch_Door = _table.rows[_tr + 1].cells[24].innerHTML;
        var _FuelConsumption = _table.rows[_tr + 1].cells[25].innerHTML;
        var _FuelCapacity = _table.rows[_tr + 1].cells[26].innerHTML;

        var _arr_list_thietbi = [_id_tr, _stt_value, _bienso_value, _tenthietbi_value, _version, _imei_value, _nhomxe_value, _ngayhethan_value, _DeviceID, _VehicleID, _VehicleGroupIDChild, _VehicleCategoryID, _Capacity, _BarrelNumber, _SimNumber, _SimID, _ProvinceID, _TypeTransportID, _Business, _Chassis, _Grosston, _ParentGroupID, _CurrentChildID, _Switch_, _Switch_Door, _FuelConsumption, _FuelCapacity];

        if (_arr_dsthietbi_select.length > 0) {
            if (_arr_dsthietbi_select[0][1] === _stt_value) { return; }
            else {
                var _idtr = _arr_dsthietbi_select[0][0];
                _idtr.setAttribute("style", "background-color:white;");
                _arr_dsthietbi_select.splice(0, 1);
                _arr_dsthietbi_select.push(_arr_list_thietbi);
            }
        }
        else { _arr_dsthietbi_select.push(_arr_list_thietbi); }
    };
    function taikhoan_select_row(_tr) {
        var _table = document.getElementById("table_taikhoan");
        var _stt_value = _table.rows[_tr + 1].cells[0].innerHTML;
        var _loginname_value = _table.rows[_tr + 1].cells[1].innerHTML;
        var _pass_value = _table.rows[_tr + 1].cells[2].innerHTML;
        var _fullname_value = _table.rows[_tr + 1].cells[3].innerHTML;
        var _phone_value = _table.rows[_tr + 1].cells[4].innerHTML;
        var _address_value = _table.rows[_tr + 1].cells[5].innerHTML;
        var _email_value = _table.rows[_tr + 1].cells[6].innerHTML;
        var _ghichu_value = _table.rows[_tr + 1].cells[7].innerHTML;
        var _userid_value = _table.rows[_tr + 1].cells[8].innerHTML;
        var _id_tr = document.getElementById("taikhoan_row_id" + _tr);
        _id_tr.setAttribute("style", "background-color:burlywood;");
        var _arr_idrow = [_stt_value, _userid_value];
        var _arr_userid = [_stt_value, _loginname_value];
        var _dsxe = _table.rows[_tr + 1].cells[9].innerHTML;

        var _arr_row_select = [_stt_value, _loginname_value, _pass_value, _fullname_value, _phone_value, _address_value, _email_value, _ghichu_value, _userid_value, _dsxe];

        if (_arr_dstaikhoan_select.length > 0) {
            var _check = false;
            for (var i = 0; i < _arr_dstaikhoan_select.length; i++) {
                if (_arr_dstaikhoan_select[i][0] == _stt_value) {
                    _id_tr.setAttribute("style", "background-color:white;");
                    _arr_dstaikhoan_select.splice(i, 1);
                    _arr_loginname.splice(i, 1);
                    _check = true;
                    break;
                } else { _check = false; }
            }
        } else {
            _arr_dstaikhoan_select.push(_arr_row_select);
            _arr_loginname.push(_arr_userid);
            _arr_info_row_select.push(_arr_row_select);
        }

        if (_check === false) {
            _arr_dstaikhoan_select.push(_arr_row_select);
            _arr_loginname.push(_arr_userid);
            _arr_info_row_select.push(_arr_row_select);
        }
    };
    function DeleteInfo_Acc() {
        if (_arr_dstaikhoan_select.length > 0) {
            for (var i = 0; i < _arr_dstaikhoan_select.length; i++) {
                $.ajax({
                    type: 'POST',
                    dataType: "json",
                    url: '@(Url.Action("DeleteAcc_byUserLogin", "Home"))',
                    data: { list_userid: _arr_dstaikhoan_select[i][8] },
                    success: function (data, txtStatus, XMLHttpRequest) {
                        if (data != null) {
                            if (data.length > 0) { } // thanh cong
                        }
                        else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbketnoidulieuthatbai)"); }
                    }
                });
            }
            alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbxoataikhoan) " + _dstaikhoan_loginname + " @Html.Raw(khanhhoi.vn.Resources.Language.tbthanhcong)."); // dich
            _arr_dstaikhoan_select = [];
            _arr_loginname = [];
        }
    };
    // begin: quan ly - tài khoản
    function EditInfo_Acc() {
        $("#item-taikhoan-them").show();
        $("#item-taikhoan-sua").show();
        $("#item-taikhoan-xoa").show();
        $("#item-taikhoan-back").hide();
        $("#item-taikhoan-save").hide();
        var _table = document.getElementById("table_taikhoan");
        var _edit_sucess = false;
        var obj = document.querySelector('.preloader'), inner = document.querySelector('.preloader_inner'), page = document.querySelector('.main');
        obj.classList.add('show');
        page.classList.remove('show');

        var _table = document.getElementById("table_taikhoan");
        var _edit_sucess = false;
        _arr_info_allrow_saved = [];

        for (var i = 0; i < _arr_info_row_select.length; i++) {
            var _stt = _table.rows[_arr_info_row_select[i][0]].cells[0].innerHTML;
            var _password = _table.rows[_arr_info_row_select[i][0]].cells[2].innerHTML;
            var _fullname = _table.rows[_arr_info_row_select[i][0]].cells[3].innerHTML;
            var _phone = _table.rows[_arr_info_row_select[i][0]].cells[4].innerHTML;
            var _address = _table.rows[_arr_info_row_select[i][0]].cells[5].innerHTML;
            var _email = _table.rows[_arr_info_row_select[i][0]].cells[6].innerHTML;
            var _notes = _table.rows[_arr_info_row_select[i][0]].cells[7].innerHTML;
            var _userid = _table.rows[_arr_info_row_select[i][0]].cells[8].innerHTML;
            var _vehiclenumber = _table.rows[_arr_info_row_select[i][0]].cells[9].innerHTML;
            var _selected = "";
            var _unselect = "";

            if (_arr_tonghop_select.length > 0) {
                for (var s = 0; s < _arr_tonghop_select.length; s++) {
                    if (_arr_tonghop_select[s][0] == _userid) {
                        _selected += _arr_tonghop_select[s][1] + ",";
                    }
                }
            }
            if (_arr_tonghop_unselect.length > 0) {
                for (var u = 0; u < _arr_tonghop_unselect.length; u++) {
                    if (_arr_tonghop_unselect[u][0] == _userid) {
                        _unselect += _arr_tonghop_unselect[u][1] + ",";
                    }
                }
            }

            var _arr_info_row_saved = [_stt, _password, _fullname, _phone, _address, _email, _notes, _vehiclenumber];
            _arr_info_allrow_saved.push(_arr_info_row_saved);

            $.ajax({
                type: 'POST',
                dataType: "json",
                url: '@(Url.Action("EditAcc_byUserLogin", "Home"))',
                async: false, // chờ ajax xử lý xong mới chạy tiếp
                data: {
                    userid: _userid, password: _password, fullname: _fullname, email: _email, phone: _phone, address: _address, note: _notes,
                    Selected: _selected, Unselect: _unselect
                },
                success: function (data, txtStatus, XMLHttpRequest) {

                    if (data != null) {
                        if (data === "1") { _edit_sucess = true; }
                        else { _edit_sucess = false; }
                    }
                }
            });
        }

        if (_edit_sucess == true) {
            GetList_User_Refresh();
            $("#item-taikhoan-them").show();
            $("#item-taikhoan-sua").show();
            $("#item-taikhoan-xoa").show();
            $("#item-taikhoan-back").hide();
            $("#item-taikhoan-save").hide();
            BackList_User_Saved();
            alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchinhsuathongtinthanhcong)");
        } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchinhsuathongtinthatbai)"); }
        obj.classList.remove('show');
        page.classList.add('show');
    };
    function dsthietbi_sua_click() {
        var a = document.getElementById("thietbi_sua_bienso").value = _arr_dsthietbi_select[0][2];
        var b = document.getElementById("thietbi_sua_sokhung").value = _arr_dsthietbi_select[0][19];

        if (list_thietbi_loaixe.length > 0) {
            var _selected = false;
            var _list = document.getElementById("thietbi_sua_loaixe");
            _list.innerHTML = "";
            for (var i = 0; i < list_thietbi_loaixe.length; i++) {
                var _option = document.createElement("option");
                _option.value = list_thietbi_loaixe[i].VehicleCategoryID;
                _option.innerHTML = list_thietbi_loaixe[i].VehicleCategory;
                if (_selected == false) {
                    if (list_thietbi_loaixe[i].VehicleCategoryID == _arr_dsthietbi_select[0][11]) {
                        _option.selected = true;
                        _selected = true;
                    }
                }
                _list.appendChild(_option);
            }
        }
        if (list_thietbi_nhomxe.length > 0) {
            var _selected = false;
            var list_nhomxe = document.getElementById("thietbi_sua_nhomxe");
            list_nhomxe.innerHTML = "";
            for (var i = 0; i < list_thietbi_nhomxe.length; i++) {
                var _option = document.createElement("option");
                _option.value = list_thietbi_nhomxe[i].VehicleGroupID;
                _option.innerHTML = list_thietbi_nhomxe[i].VehicleGroup;
                if (_selected == false) {
                    if (list_thietbi_nhomxe[i].VehicleCategoryID == _arr_dsthietbi_select[0][21]) {
                        _option.selected = true;
                        _selected = true;
                    }
                }
                list_nhomxe.appendChild(_option);
            }
        }
        if (list_thietbi_tinh.length > 0) {
            var _selected = false;
            var list_tinh = document.getElementById("thietbi_sua_tinh");
            list_tinh.innerHTML = "";
            for (var i = 0; i < list_thietbi_tinh.length; i++) {
                var _option = document.createElement("option");
                _option.value = list_thietbi_tinh[i].ProvinceID;
                _option.innerHTML = list_thietbi_tinh[i].ProvinceName;
                if (_selected == false) {
                    if (list_thietbi_tinh[i].VehicleCategoryID == _arr_dsthietbi_select[0][16]) {
                        _option.selected = true;
                        _selected = true;
                    }
                }
                list_tinh.appendChild(_option);
            }
        }
        if (list_thietbi_loaivantai.length > 0) {
            var _selected = false;
            var list_loaivantai = document.getElementById("thietbi_sua_loaivantai");
            list_loaivantai.innerHTML = "";
            for (var i = list_thietbi_loaivantai.length - 1; i >= 0; i--) {
                var _option = document.createElement("option");
                _option.value = list_thietbi_loaivantai[i].TypeTransportID;
                _option.innerHTML = list_thietbi_loaivantai[i].TypeTransportName;
                if (_selected == false) {
                    if (list_thietbi_loaivantai[i].VehicleCategoryID == _arr_dsthietbi_select[0][17]) {
                        _option.selected = true;
                        _selected = true;
                    }
                }
                list_loaivantai.appendChild(_option);
            }
        }

        document.getElementById("thietbi_sua_sothung").value = _arr_dsthietbi_select[0][13];
        document.getElementById("thietbi_sua_dungtich").value = _arr_dsthietbi_select[0][12];
        document.getElementById("thietbi_sua_taitrong").value = _arr_dsthietbi_select[0][20];
        document.getElementById("thietbi_sua_muctieuhao").value = _arr_dsthietbi_select[0][25];
        document.getElementById("thietbi_sua_dungtich_binh").value = _arr_dsthietbi_select[0][26];
        document.getElementById("thietbi_sua_dnquanly").value = _arr_dsthietbi_select[0][18];

        if (_arr_dsthietbi_select[0][23] === "1") { document.getElementById("thietbi_sua_daokhoa").checked = true; }
        else { document.getElementById("thietbi_sua_daokhoa").checked = false; }
        if (_arr_dsthietbi_select[0][24] === "1") { document.getElementById("thietbi_sua_daocua").checked = true; }
        else { document.getElementById("thietbi_sua_daocua").checked = false; }

        document.getElementById("btn_modal_dsthietbi_sua").click();
    };
    function modal_taikhoan_dsxe_confirm_click() {
        document.getElementById("modal_taikhoan_dsxe_close").click();
        _arr_tonghop_select = [];
        _arr_tonghop_unselect = [];
        if (_arr_dsxe_select.length > 0) {
            for (var i = 0; i < _arr_dsxe_select.length; i++) {
                _arr_tonghop_select.push(_arr_dsxe_select[i]);
            }
        }
        if (_arr_dsxe_unselect.length > 0) {
            for (var j = 0; j < _arr_dsxe_unselect.length; j++) {
                _arr_tonghop_unselect.push(_arr_dsxe_unselect[j]);
            }
        }
        var selected_ = "", _rowid = "";

        if (_arr_dsxe_select.length > 0) {
            for (var i = 0; i < _arr_dsxe_select.length; i++) { selected_ += _arr_dsxe_select[i][2] + ","; }
            selected_ = selected_.substring(0, (selected_.length - 1));

            for (var r = 0; r < _arr_dstaikhoan_select.length; r++) {
                if (_arr_dsxe_select[0][0] == _arr_dstaikhoan_select[r][8]) {
                    _rowid = _arr_dstaikhoan_select[r][0];
                }
            }
            var _table = document.getElementById("table_taikhoan");
            var _dsxe = _table.rows[_rowid].cells[9];
            _dsxe.innerHTML = selected_;
        }

    };
    function CreateInfo_Acc() {
        var _username = document.getElementById("taikhoan_tendangnhap");
        var _pass = document.getElementById("taikhoan_matkhau");
        var _fullname = document.getElementById("taikhoan_hoten").value;
        var _email = document.getElementById("taikhoan_email").value;
        var _phone = document.getElementById("taikhoan_dienthoai").value;
        var _address = document.getElementById("taikhoan_diachi").value;
        var _notes = document.getElementById("taikhoan_ghichu").value;
        if (_username.value == "") {
            _username.placeholder = "@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongnhaptendangnhap)";
            _username.focus();
            return;
        } else if (_username.value.length > 50) {
            alert("Tên đăng nhập không quá 50 ký tự");
            return;
        }
        else if (_pass.value.length > 50) {
            alert("Mật khẩu không quá 50 ký tự");
            return;
        }
        else {
            if (Arr_username.length > 0) {
                for (var i = 0; i < Arr_username.length; i++) {
                    if (Arr_username[i].localeCompare(_username.value) === 0) {
                        document.getElementById("taikhoan_tendangnhap").value = "";
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbtaikhoandacovuilongchontkkhac)");
                        return;
                    }
                }
            }
        }

        if (_pass.value == "") {
            _pass.placeholder = "@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongnhapmatkhau)";
            _pass.focus();
            return;
        }

        var _list_deviceid = "";
        if (_arr_list_deviceid.length > 0) {
            for (var a = 0; a < _arr_list_deviceid.length; a++) {
                _list_deviceid += _arr_list_deviceid[a][1] + ",";
            }
        } else {
            alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongchondsxe)");
            return;
        }

        var obj = document.querySelector('.preloader'), inner = document.querySelector('.preloader_inner'), page = document.querySelector('.main');
        obj.classList.add('show');
        page.classList.remove('show');

        $.ajax({
            type: 'POST',
            dataType: "json",
            url: '@(Url.Action("InsertAcc_byUserLogin", "Home"))',
            data: { list_deviceid: _list_deviceid, username: _username.value, pass: _pass.value, fullname: _fullname, email: _email, phone: _phone, address: _address, note: _notes },
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data.length > 0) {
                        GetList_User_Refresh();
                        obj.classList.remove('show');
                        page.classList.add('show');
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbthemtaikhoanthanhcong)");
                        document.getElementById("modal_taikhoan_close").click();
                    }
                } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbthemtaikhoanthatbai)"); }
            }
        });

    };
    function GetInfo_User() {
        var obj = document.querySelector('.preloader'), inner = document.querySelector('.preloader_inner'), page = document.querySelector('.main');
        obj.classList.add('show');
        page.classList.remove('show');

        $.ajax({
            type: 'POST',
            dataType: "json",
            url: '@(Url.Action("sp_GetUser_ByID", "Home"))',
            data: {},
            success: function (data, txtStatus, XMLHttpRequest) {
                var obj = document.querySelector('.preloader'), inner = document.querySelector('.preloader_inner'), page = document.querySelector('.main');
                obj.classList.add('show');
                page.classList.remove('show');
                if (data != null) {
                    if (data.length > 0) {

                        if (data[0].RoleID == 3) {
                            $("#item-taikhoan-them").show()
                            $("#item-taikhoan-sua").show()
                            $("#item-taikhoan-xoa").show()
                            $("#item-taikhoan-status").hide()
                            GetList_User_Refresh();
                        }
                        else if (data[0].RoleID == 4) { // khong dc them, xoa, sua tai khoan
                            $("#item-taikhoan-them").hide()
                            $("#item-taikhoan-sua").hide()
                            $("#item-taikhoan-xoa").hide()
                            $("#item-taikhoan-status").show()
                            var _tbody_taikhoan = document.getElementById("tbody_taikhoan");
                            _tbody_taikhoan.innerHTML = "";
                            var _tr = document.createElement("tr");
                            var _td = document.createElement("td");
                            _td.setAttribute("colspan", "9");
                            _td.innerHTML = "@Html.Raw(khanhhoi.vn.Resources.Language.tbbankhongcoquyenxemdstk)";
                            _tr.appendChild(_td);
                            _tbody_taikhoan.appendChild(_tr);
                        }

                        var _thongtin_nguoitao = document.getElementById("thongtin_nguoitao");
                        _thongtin_nguoitao.value = data[0].WhoCreate;

                        var _thongtin_taikhoan = document.getElementById("thongtin_taikhoan");
                        _thongtin_taikhoan.value = data[0].LoginName;

                        var _thongtin_tenkhachhang = document.getElementById("thongtin_tenkhachhang");
                        _thongtin_tenkhachhang.value = data[0].FullName;

                        var _thongtin_sodienthoai = document.getElementById("thongtin_sodienthoai");
                        _thongtin_sodienthoai.value = data[0].PhoneNumber;

                        var _thongtin_email = document.getElementById("thongtin_email");
                        _thongtin_email.value = data[0].Email;

                        var _thongtin_diachi = document.getElementById("thongtin_diachi");
                        _thongtin_diachi.value = data[0].Address;
                    }

                } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbkhongcodulieuthongtintk)"); }
                obj.classList.remove('show');
                page.classList.add('show');
            }
        });

    };
    function taikhoan_back_click() {
        $("#item-taikhoan-them").show();
        $("#item-taikhoan-sua").show();
        $("#item-taikhoan-xoa").show();
        $("#item-taikhoan-back").hide();
        $("#item-taikhoan-save").hide();
        //GetInfo_User();
        BackList_User_Current();
    };
    function taikhoan_them_click() {
        document.getElementById("btn_modal_taikhoan_them").click();
        document.getElementById("taikhoan_tendangnhap").value = "";
        document.getElementById("taikhoan_matkhau").value = "";
        document.getElementById("taikhoan_hoten").value = "";
        document.getElementById("taikhoan_email").value = "";
        document.getElementById("taikhoan_dienthoai").value = "";
        document.getElementById("taikhoan_diachi").value = "";
        document.getElementById("taikhoan_ghichu").value = "";

        if (dataListStatus.length > 0) {
            var _tbody = document.getElementById("tbody_taikhoan_them");
            _tbody.innerHTML = ""; //refesh
            _stt_rows = 0; // stt

            for (var r = 0; r < dataListStatus.length; r++) {
                var _tr = document.createElement("tr");
                _tr.setAttribute("id", "tk_them_row" + r);
                _tr.setAttribute("onclick", "taikhoan_them_selectrow(" + r + ");");

                var _td0 = document.createElement("td");
                _td0.setAttribute("class", "alignCenter");
                _td0.setAttribute("align", "center");
                _td0.setAttribute("valign", "middle");
                _td0.innerHTML = _stt_rows + 1;
                _tr.appendChild(_td0);

                var _td1 = document.createElement("td");
                _td1.setAttribute("valign", "middle");
                _td1.innerHTML = dataListStatus[r].VehicleNumber;
                _tr.appendChild(_td1);

                var _td2 = document.createElement("td");
                _td2.setAttribute("valign", "middle");
                _td2.innerHTML = dataListStatus[r].VehicleGroup;
                _tr.appendChild(_td2);

                var _td3 = document.createElement("td");
                _td3.setAttribute("style", "display:none;");
                _td3.innerHTML = dataListStatus[r].DeviceID;
                _tr.appendChild(_td3);

                _tbody.appendChild(_tr);
                _stt_rows++;
            }
        } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)"); }
    };
    function taikhoan_xoa_click() {
        _dstaikhoan_loginname = "";
        if (_arr_dstaikhoan_select.length > 0) {
            for (var i = 0; i < _arr_loginname.length; i++) { _dstaikhoan_loginname += "[" + _arr_loginname[i][1] + "]"; }
            var _confirm = confirm("@Html.Raw(khanhhoi.vn.Resources.Language.tbbanchacchanmuonxoatk) " + _dstaikhoan_loginname);
            if (_confirm == true) { DeleteInfo_Acc(); GetList_User_Refresh(); }
            else { BackList_User_Current(); }
        }
        else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongchondstaikhoan)" + "."); }

    };
    function taikhoan_sua_click() {
        if (_arr_dstaikhoan_select.length > 0) {
            $("#item-taikhoan-them").hide();
            $("#item-taikhoan-sua").hide();
            $("#item-taikhoan-xoa").hide();
            $("#item-taikhoan-back").show();
            $("#item-taikhoan-save").show();

            for (var r = 0; r < _dstaikhoan_length; r++) {
                var _idrow = document.getElementById("taikhoan_row_id" + r);
                _idrow.setAttribute("onclick", "");
            }

            var _table = document.getElementById("table_taikhoan");
            for (var i = 0; i < _arr_dstaikhoan_select.length; i++) {
                _table.rows[_arr_info_row_select[i][0]].cells[0].contentEditable = false;
                _table.rows[_arr_info_row_select[i][0]].cells[1].contentEditable = false;
                _table.rows[_arr_info_row_select[i][0]].cells[9].contentEditable = false;
                _table.rows[_arr_info_row_select[i][0]].cells[9].setAttribute(
                    "onclick", "GetDevice_byUserID(" + _arr_dstaikhoan_select[i][8] + ");modal_dsxe_click(" + _arr_dstaikhoan_select[i][8] + ");");

                var _select_row = document.getElementById("taikhoan_row_id" + (_arr_dstaikhoan_select[i][0] - 1));
                _select_row.contentEditable = true;
                _select_row.setAttribute("onclick", "");
                _select_row.setAttribute("style", "background-color:#F8E0E0;");
                _select_row.focus();

            }
        } else {
            $("#item-taikhoan-save").hide();
            alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongchondstaikhoan)");
        }
    };
    function BackList_User_Current() {
        if (_arr_dstaikhoan_select.length > 0) {
            for (var i = 0; i < _arr_dstaikhoan_select.length; i++) {
                var _id_tr = document.getElementById("taikhoan_row_id" + (_arr_dstaikhoan_select[i][0] - 1));
                _id_tr.setAttribute("style", "background-color:white;");
                var _table = document.getElementById("table_taikhoan");
                _table.rows[_arr_dstaikhoan_select[i][0]].cells[9].innerHTML = _arr_dstaikhoan_select[i][9];
            }
        }
        if (_dstaikhoan_length > 0) {
            for (var r = 0; r < _dstaikhoan_length; r++) {
                var _idrow = document.getElementById("taikhoan_row_id" + r);
                _idrow.setAttribute("onclick", "taikhoan_select_row(" + r + ");");
            }
        }

        _arr_dstaikhoan_select = []; // using item-taikhoan-xoa: select row
        _arr_loginname = []; // using item-taikhoan-xoa: show name delete
        _arr_info_row_select = []; // select row: lưu tất cả thông tin
    };
    function BackList_User_Saved() {
        if (_arr_loginname.length > 0) {
            var _table = document.getElementById("table_taikhoan");
            for (var k = 0; k < _arr_info_allrow_saved.length; k++) {
                for (var i = 0; i < _arr_loginname.length; i++) {
                    if (_arr_info_allrow_saved[k][0] == _arr_loginname[i][0]) {
                        _table.rows[_arr_loginname[i][0]].cells[2].innerHTML = _arr_info_allrow_saved[k][1];
                        _table.rows[_arr_loginname[i][0]].cells[3].innerHTML = _arr_info_allrow_saved[k][2];
                        _table.rows[_arr_loginname[i][0]].cells[4].innerHTML = _arr_info_allrow_saved[k][3];
                        _table.rows[_arr_loginname[i][0]].cells[5].innerHTML = _arr_info_allrow_saved[k][4];
                        _table.rows[_arr_loginname[i][0]].cells[6].innerHTML = _arr_info_allrow_saved[k][5];
                        _table.rows[_arr_loginname[i][0]].cells[7].innerHTML = _arr_info_allrow_saved[k][6];
                        _table.rows[_arr_loginname[i][0]].cells[9].innerHTML = _arr_info_allrow_saved[k][7];
                        break;
                    }
                }
            }
        }

        if (_arr_dstaikhoan_select.length > 0) {
            for (var i = 0; i < _arr_dstaikhoan_select.length; i++) {
                var _id_tr = document.getElementById("taikhoan_row_id" + (_arr_dstaikhoan_select[i][0] - 1));
                _id_tr.setAttribute("style", "background-color:white;");
                var _table = document.getElementById("table_taikhoan");
            }
        }
        if (_dstaikhoan_length > 0) {
            for (var r = 0; r < _dstaikhoan_length; r++) {
                var _idrow = document.getElementById("taikhoan_row_id" + r);
                _idrow.setAttribute("onclick", "taikhoan_select_row(" + r + ");");
            }
        }

        _arr_dstaikhoan_select = []; // using item-taikhoan-xoa: select row
        _arr_loginname = []; // using item-taikhoan-xoa: show name delete
        _arr_info_row_select = []; // select row: lưu tất cả thông tin
    };
    function GetList_User_Refresh() {
        $.ajax({
            type: 'POST',
            dataType: "json",
            url: '@(Url.Action("GetUser_ByWhoCreateID", "Home"))',
            async: false,
            data: {},
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data.length > 0) {
                        var _tbody = document.getElementById("tbody_taikhoan");
                        _tbody.innerHTML = ""; //refesh
                        _stt_rows = 0; // stt
                        Arr_username = []; // using item-taikhoan-them: compare acc
                        _arr_dstaikhoan_select = []; // using item-taikhoan-xoa: select row
                        _arr_loginname = []; // using item-taikhoan-xoa: show name delete
                        _arr_info_row_select = []; // select row: lưu tất cả thông tin
                        _dstaikhoan_length = data.length; // using item-taikhoan-sua: bỏ onclick row khi đang trong chế độ sửa
                        //_arr_GetList_User = data; // return list user

                        for (var r = 0; r < data.length; r++) {
                            var _tr = document.createElement("tr");
                            _tr.setAttribute("id", "taikhoan_row_id" + r);
                            _tr.setAttribute("onclick", "taikhoan_select_row(" + r + ");");

                            var _td_stt = document.createElement("td");
                            _td_stt.setAttribute("class", "alignCenter");
                            _td_stt.setAttribute("align", "center");
                            _td_stt.setAttribute("valign", "middle");
                            _td_stt.innerHTML = _stt_rows + 1;
                            _tr.appendChild(_td_stt);

                            var _td_taikhoan = document.createElement("td");
                            _td_taikhoan.setAttribute("valign", "middle");
                            _td_taikhoan.innerHTML = data[r].LoginName;
                            _tr.appendChild(_td_taikhoan);
                            Arr_username.push(data[r].LoginName); // using compare acc

                            var _td_matkhau = document.createElement("td");
                            _td_matkhau.setAttribute("valign", "middle");
                            _td_matkhau.innerHTML = data[r].Password_;
                            _tr.appendChild(_td_matkhau);

                            var _td_hoten = document.createElement("td");
                            _td_hoten.setAttribute("valign", "middle");
                            _td_hoten.innerHTML = data[r].FullName;
                            _tr.appendChild(_td_hoten);

                            var _td_dienthoai = document.createElement("td");
                            _td_dienthoai.setAttribute("valign", "middle");
                            _td_dienthoai.innerHTML = data[r].PhoneNumber;
                            _tr.appendChild(_td_dienthoai);

                            var _td_diachi = document.createElement("td");
                            _td_diachi.setAttribute("valign", "middle");
                            _td_diachi.innerHTML = data[r].Address;
                            _tr.appendChild(_td_diachi);

                            var _td_email = document.createElement("td");
                            _td_email.setAttribute("valign", "middle");
                            _td_email.innerHTML = data[r].Email;
                            _tr.appendChild(_td_email);

                            var _td_ghichu = document.createElement("td");
                            _td_ghichu.setAttribute("valign", "middle");
                            _td_ghichu.innerHTML = data[r].Details;
                            _tr.appendChild(_td_ghichu);

                            var _td_userid = document.createElement("td");
                            _td_userid.setAttribute("style", "display:none");
                            _td_userid.innerHTML = data[r].UserID;
                            _tr.appendChild(_td_userid);

                            var _td_dsxe = document.createElement("td");
                            _td_dsxe.setAttribute("valign", "middle");

                            GetDevice_byUserID(data[r].UserID); // có sử dụng async: false để chờ xử lý list dsxe được chọn bởi user.
                            var _dsxeofuser = "";
                            for (var x = 0; x < _arr_dsxe_byuserid.length; x++) {
                                _dsxeofuser += "[" + _arr_dsxe_byuserid[x][2] + "],";
                            }
                            _dsxeofuser = _dsxeofuser.substring(0, (_dsxeofuser.length - 1));
                            _td_dsxe.innerHTML = _dsxeofuser;
                            _tr.appendChild(_td_dsxe);

                            _tbody.appendChild(_tr);
                            _stt_rows++;
                        }
                    } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbkhongcodulieudstk)"); }
                } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbketnoidulieuthatbai)"); }
            }
        });

    };
    function GetDevice_byUserID(_userid) {
        $.ajax({
            type: 'POST',
            dataType: "json",
            url: '@(Url.Action("sp_GetDevice_byUserID", "Home"))',
            async: false,
            data: { UserID: _userid },
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data.length > 0) {
                        _arr_dsxe_byuserid = [];
                        for (var r = 0; r < data.length; r++) {
                            var _arr_u_d = [_userid, data[r].DeviceID, data[r].VehicleNumber, data[r].VehicleGroupID];
                            _arr_dsxe_byuserid.push(_arr_u_d);
                        }
                    }
                }
            }
        });
    };
    // end: quan ly - tài khoản

    // begin: quan ly - thiết bị tài xế
    function GetList_Devices() {
        var obj = document.querySelector('.preloader'), inner = document.querySelector('.preloader_inner'), page = document.querySelector('.main');
        obj.classList.add('show');
        page.classList.remove('show');

        $.ajax({
            type: 'POST',
            dataType: "json",
            url: '@(Url.Action("sp_GetDevice_byUserIDT", "Home"))',
            data: {},
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data.length > 0) {

                        obj.classList.remove('show');
                        page.classList.add('show');

                        //if ($.fn.DataTable.isDataTable('#table_thietbi')) {
                        //    $('#table_thietbi').DataTable().clear().destroy();
                        //}

                        _arr_dsthietbi_select = [];
                        _arr_dstaixe_select = [];

                        var _tbody_taixe = document.getElementById("tbody_taixe");
                        _tbody_taixe.innerHTML = ""; //refesh list

                        var _tbody_thietbi = document.getElementById("tbody_thietbi");
                        _tbody_thietbi.innerHTML = ""; //refesh
                        _stt_rows = 0; // stt

                        for (var r = 0; r < data.length; r++) {
                            var _tr = document.createElement("tr");
                            _tr.setAttribute("id", "thietbi_row_id" + r);
                            _tr.setAttribute("onclick", "GetInfo_driver(" + data[r].DeviceID + ");thietbi_select_row(" + r + "," + data[r].DeviceID + ");");
                            //_tr.setAttribute("class", "tr_hover_select");

                            var _i_iconedit = document.createElement("i");
                            _i_iconedit.setAttribute("class", "fa fa-pencil-square-o fa-2x");
                            var _a_hrefedit = document.createElement("a");
                            _a_hrefedit.appendChild(_i_iconedit);
                            var _td_btnsua = document.createElement("td");
                            _td_btnsua.setAttribute("class", "alignCenter");
                            _td_btnsua.setAttribute("onclick", "thietbi_select_row(" + r + "," + data[r].DeviceID + ");dsthietbi_sua_click();");
                            _td_btnsua.appendChild(_a_hrefedit);
                            _tr.appendChild(_td_btnsua);

                            var _td_stt = document.createElement("td");
                            _td_stt.setAttribute("class", "alignCenter");
                            _td_stt.innerHTML = _stt_rows + 1;
                            _tr.appendChild(_td_stt);

                            var _td_bienso = document.createElement("td");
                            _td_bienso.setAttribute("class", "alignLeft");
                            _td_bienso.innerHTML = data[r].VehicleNumber;
                            _tr.appendChild(_td_bienso);

                            var _td_tenthietbi = document.createElement("td");
                            _td_tenthietbi.setAttribute("class", "alignLeft");
                            _td_tenthietbi.innerHTML = data[r].NameDevice;
                            _tr.appendChild(_td_tenthietbi);

                            var _td_version01 = document.createElement("td");
                            _td_version01.setAttribute("class", "alignLeft");
                            _td_version01.innerHTML = data[r].Version;
                            _tr.appendChild(_td_version01);

                            var _td_imei = document.createElement("td");
                            _td_imei.setAttribute("class", "alignLeft");
                            _td_imei.innerHTML = data[r].Imei;
                            _tr.appendChild(_td_imei);

                            var _td_nhomxe = document.createElement("td");
                            _td_nhomxe.setAttribute("class", "alignLeft");
                            _td_nhomxe.innerHTML = data[r].VehicleGroup;
                            _tr.appendChild(_td_nhomxe);

                            var _td_ngayhethan = document.createElement("td");
                            _td_ngayhethan.setAttribute("class", "alignLeft");
                            try {
                                var dt = new Date(parseInt(data[r].DateExpired.replace('/Date(', '')));
                                var _convert_date = dt.getDate() + '/' + (dt.getMonth() + 1) + '/' + dt.getFullYear();
                            } catch (e) { }
                            _td_ngayhethan.innerHTML = _convert_date;
                            _tr.appendChild(_td_ngayhethan);

                            var _td_deviceid = document.createElement("td");
                            _td_deviceid.setAttribute("class", "alignLeft");
                            _td_deviceid.setAttribute("style", "display:none");
                            _td_deviceid.innerHTML = data[r].DeviceID;
                            _tr.appendChild(_td_deviceid);

                            var _td_vehicleid = document.createElement("td");
                            _td_vehicleid.setAttribute("class", "alignLeft");
                            _td_vehicleid.setAttribute("style", "display:none");
                            _td_vehicleid.innerHTML = data[r].VehicleID;
                            _tr.appendChild(_td_vehicleid);

                            var _td_vehiclegroup = document.createElement("td");
                            _td_vehiclegroup.setAttribute("class", "alignLeft");
                            _td_vehiclegroup.setAttribute("style", "display:none");
                            _td_vehiclegroup.innerHTML = data[r].VehicleGroupIDChild;
                            _tr.appendChild(_td_vehiclegroup);

                            var _td_vehiclecategory = document.createElement("td");
                            _td_vehiclecategory.setAttribute("class", "alignLeft");
                            _td_vehiclecategory.setAttribute("style", "display:none");
                            _td_vehiclecategory.innerHTML = data[r].VehicleCategoryID;
                            _tr.appendChild(_td_vehiclecategory);

                            var _td_capacity = document.createElement("td");
                            _td_capacity.setAttribute("class", "alignLeft");
                            _td_capacity.setAttribute("style", "display:none");
                            _td_capacity.innerHTML = data[r].Capacity;
                            _tr.appendChild(_td_capacity);

                            var _td_version1 = document.createElement("td");
                            _td_version1.setAttribute("class", "alignLeft");
                            _td_version1.setAttribute("style", "display:none");
                            _td_version1.innerHTML = data[r].BarrelNumber;
                            _tr.appendChild(_td_version1);

                            var _td_version2 = document.createElement("td");
                            _td_version2.setAttribute("class", "alignLeft");
                            _td_version2.setAttribute("style", "display:none");
                            _td_version2.innerHTML = data[r].SimNumber;
                            _tr.appendChild(_td_version2);

                            var _td_version3 = document.createElement("td");
                            _td_version3.setAttribute("class", "alignLeft");
                            _td_version3.setAttribute("style", "display:none");
                            _td_version3.innerHTML = data[r].SimID;
                            _tr.appendChild(_td_version3);

                            var _td_version4 = document.createElement("td");
                            _td_version4.setAttribute("class", "alignLeft");
                            _td_version4.setAttribute("style", "display:none");
                            _td_version4.innerHTML = data[r].ProvinceID;
                            _tr.appendChild(_td_version4);

                            var _td_version5 = document.createElement("td");
                            _td_version5.setAttribute("class", "alignLeft");
                            _td_version5.setAttribute("style", "display:none");
                            _td_version5.innerHTML = data[r].TypeTransportID;
                            _tr.appendChild(_td_version5);

                            var _td_version6 = document.createElement("td");
                            _td_version6.setAttribute("class", "alignLeft");
                            _td_version6.setAttribute("style", "display:none");
                            _td_version6.innerHTML = data[r].Business;
                            _tr.appendChild(_td_version6);

                            var _td_version7 = document.createElement("td");
                            _td_version7.setAttribute("class", "alignLeft");
                            _td_version7.setAttribute("style", "display:none");
                            _td_version7.innerHTML = data[r].Chassis;
                            _tr.appendChild(_td_version7);

                            var _td_version8 = document.createElement("td");
                            _td_version8.setAttribute("class", "alignLeft");
                            _td_version8.setAttribute("style", "display:none");
                            _td_version8.innerHTML = data[r].Grosston;
                            _tr.appendChild(_td_version8);

                            var _td_version9 = document.createElement("td");
                            _td_version9.setAttribute("class", "alignLeft");
                            _td_version9.setAttribute("style", "display:none");
                            _td_version9.innerHTML = data[r].ParentGroupID;
                            _tr.appendChild(_td_version9);

                            var _td_version10 = document.createElement("td");
                            _td_version10.setAttribute("class", "alignLeft");
                            _td_version10.setAttribute("style", "display:none");
                            _td_version10.innerHTML = data[r].CurrentChildID;
                            _tr.appendChild(_td_version10);

                            var _td_version11 = document.createElement("td");
                            _td_version11.setAttribute("class", "alignLeft");
                            _td_version11.setAttribute("style", "display:none");
                            _td_version11.innerHTML = data[r].Switch_;
                            _tr.appendChild(_td_version11);

                            var _td_version12 = document.createElement("td");
                            _td_version12.setAttribute("class", "alignLeft");
                            _td_version12.setAttribute("style", "display:none");
                            _td_version12.innerHTML = data[r].Switch_Door;
                            _tr.appendChild(_td_version12);

                            var _td_version14 = document.createElement("td");
                            _td_version14.setAttribute("class", "alignLeft");
                            _td_version14.setAttribute("style", "display:none");
                            _td_version14.innerHTML = data[r].FuelConsumption;
                            _tr.appendChild(_td_version14);

                            var _td_version15 = document.createElement("td");
                            _td_version15.setAttribute("class", "alignLeft");
                            _td_version15.setAttribute("style", "display:none");
                            _td_version15.innerHTML = data[r].FuelCapacity;
                            _tr.appendChild(_td_version15);

                            _tbody_thietbi.appendChild(_tr);
                            _stt_rows++;
                        }
                        //$('#table_thietbi').DataTable();
                    }
                    else {
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbkhongcodulieudstk)");
                    }
                }
                else {
                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbkhongketnoiduocdulieu)");
                }
            }
        });
    };
    function GetInfo_driver(Input_DeviceID) {
        var obj = document.querySelector('.preloader'), inner = document.querySelector('.preloader_inner'), page = document.querySelector('.table');
        obj.classList.add('show');
        page.classList.remove('show');

        $.ajax({
            type: 'POST',
            dataType: "json",
            url: '@(Url.Action("sp_GetDriver_byDeviceID", "Home"))',
            data: { _DeviceID: Input_DeviceID },
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data.length > 0) {
                        obj.classList.remove('show');
                        page.classList.add('show');

                        //if ($.fn.DataTable.isDataTable('#table_taixe')) {
                        //    $('#table_taixe').DataTable().clear().destroy();
                        //}

                        var _tbody = document.getElementById("tbody_taixe");
                        _tbody.innerHTML = ""; //refesh
                        _stt_rows = 0; // stt

                        for (var r = 0; r < data.length; r++) {
                            var _tr = document.createElement("tr");
                            _tr.setAttribute("id", "taixe_row_id" + r);
                            _tr.setAttribute("onclick", "taixe_select_row(" + r + ");");

                            var _td_stt = document.createElement("td");
                            _td_stt.setAttribute("class", "alignCenter");
                            _td_stt.setAttribute("align", "center");
                            _td_stt.setAttribute("valign", "middle");
                            _td_stt.innerHTML = _stt_rows + 1;
                            _tr.appendChild(_td_stt);

                            var _td_tentaixe = document.createElement("td");
                            _td_tentaixe.setAttribute("valign", "middle");
                            _td_tentaixe.innerHTML = data[r].NameDriver;
                            _tr.appendChild(_td_tentaixe);

                            var _td_dienthoai = document.createElement("td");
                            _td_dienthoai.setAttribute("valign", "middle");
                            _td_dienthoai.innerHTML = data[r].PhoneDriver;
                            _tr.appendChild(_td_dienthoai);

                            var _td_GPLX = document.createElement("td");
                            _td_GPLX.setAttribute("valign", "middle");
                            _td_GPLX.innerHTML = data[r].DriverLicense;
                            _tr.appendChild(_td_GPLX);

                            var _td_driverid = document.createElement("td");
                            _td_driverid.setAttribute("valign", "middle");
                            _td_driverid.setAttribute("style", "display:none");
                            _td_driverid.innerHTML = data[r].DriverID;
                            _tr.appendChild(_td_driverid);

                            var _td_socmnd = document.createElement("td");
                            _td_socmnd.setAttribute("valign", "middle");
                            _td_socmnd.innerHTML = data[r].IdCard;
                            _tr.appendChild(_td_socmnd);

                            var _td_hang = document.createElement("td");
                            _td_hang.setAttribute("valign", "middle");
                            _td_hang.innerHTML = data[r].Rank;
                            _tr.appendChild(_td_hang);

                            var _td_ngaycapgplx = document.createElement("td");
                            _td_ngaycapgplx.setAttribute("valign", "middle");
                            try {
                                var dt = new Date(parseInt(data[r].DayCreateLicense.replace('/Date(', '')));
                                var _ngaycap_convert = dt.getDate() + '/' + (dt.getMonth() + 1) + '/' + dt.getFullYear();
                            } catch (e) { }
                            _td_ngaycapgplx.innerHTML = _ngaycap_convert;
                            _tr.appendChild(_td_ngaycapgplx);

                            var _td_hethangplx = document.createElement("td");
                            _td_hethangplx.setAttribute("valign", "middle");
                            try {
                                var dt = new Date(parseInt(data[r].DayExpiredLicense.replace('/Date(', '')));
                                var _hethan_convert = dt.getDate() + '/' + (dt.getMonth() + 1) + '/' + dt.getFullYear();
                            } catch (e) { }
                            _td_hethangplx.innerHTML = _hethan_convert;
                            _tr.appendChild(_td_hethangplx);

                            var _td_noicap = document.createElement("td");
                            _td_noicap.setAttribute("valign", "middle");
                            _td_noicap.innerHTML = data[r].RegPlace;
                            _tr.appendChild(_td_noicap);

                            var _td_ghichu = document.createElement("td");
                            _td_ghichu.setAttribute("valign", "middle");
                            _td_ghichu.innerHTML = data[r].Details;
                            _tr.appendChild(_td_ghichu);

                            var _td_chonxe = document.createElement("td");
                            _td_chonxe.setAttribute("valign", "middle");
                            _td_chonxe.setAttribute("style", "display:none");
                            _td_chonxe.innerHTML = data[r].DeviceID;
                            _tr.appendChild(_td_chonxe);

                            var _td_DDID = document.createElement("td");
                            _td_DDID.setAttribute("valign", "middle");
                            _td_DDID.setAttribute("style", "display:none");
                            _td_DDID.innerHTML = data[r].DeviceID;
                            _tr.appendChild(_td_DDID);

                            _tbody.appendChild(_tr);
                            _stt_rows++;
                        }
                        //$('#table_taixe').DataTable();
                    }
                    else {
                        obj.classList.remove('show');
                        page.classList.add('show');

                        var _tbody2 = document.getElementById("tbody_taixe");
                        _tbody2.innerHTML = "";
                        var _tr2 = document.createElement("tr");
                        var _td_nodata = document.createElement("td");
                        _td_nodata.setAttribute("colspan", "10");
                        _td_nodata.innerHTML = "@Html.Raw(khanhhoi.vn.Resources.Language.lbkhongcodulieutttaixe)";
                        _tr2.appendChild(_td_nodata);
                        _tbody2.appendChild(_tr2);
                    }

                }
                else {
                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbkhongketnoiduocdulieu)");
                }
            }
        });
    };
    // end: quan ly - thiết bị tài xế
    function GiamSat() {
        if (positionView == 1) {
            positionView = 0;
            if (line) line.setMap(null);
            if (line1) line1.setMap(null);
            ClearMap();
            if (dataListStatus != null) {
                if (dataListStatus.length > 0) {
                    createTable(dataListStatus);
                }
            }
        }
    };
    // hàm tính khoàn thời gian giữa 2 ngày
    function diffDates(fromDate, toDate) {
        return ((toDate - fromDate) / _MS_PER_DAY);
    }
    // Chuyển ngày theo dạng mm/dd/yyy để tính khoảng cách 2 ngày
    function changFormatDate(_x) {
        var _x = _x.split('/');
        var temp = _x[0];
        _x[0] = _x[1];
        _x[1] = temp;
        _x.join('/');
        return _x.join('/');
    }
    // bộ giao thông
    function Report_BGT_ViPham4h() {
        var _tbody_bgt_vipham4h = document.getElementById('tbody_bgt_vipham4h');
        _tbody_bgt_vipham4h.innerHTML = "";
        var vehicleidrSelect = document.getElementById('bgt_listxe_vipham4h').options[document.getElementById('bgt_listxe_vipham4h').selectedIndex].value;
        var _ngay = document.getElementById("content-bgt-vipham4h-date").value;
        //var Arr_ngay_vipham4h = _ngay.split("-");
        //var _tungay = Arr_ngay_vipham4h[0].trim();
        //var _denngay = Arr_ngay_vipham4h[1].trim();
        ajaxReportAll(203, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_BGT_ViPham10h() {
        var _tbody_bgt_vipham10h = document.getElementById('tbody_bgt_vipham10h');
        _tbody_bgt_vipham10h.innerHTML = "";
        var vehicleidrSelect = document.getElementById('bgt_listxe_vipham10h').options[document.getElementById('bgt_listxe_vipham10h').selectedIndex].value;
        var _ngay = document.getElementById("content-bgt-vipham10h-date").value;
        //var Arr_ngay_vipham10h = _ngay.split("-");
        //var _tungay = Arr_ngay_vipham10h[0].trim();
        //var _denngay = Arr_ngay_vipham10h[1].trim();
        ajaxReportAll(204, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_BGT_HanhTrinhXeChay() {
        var _tbody_bgt_hanhtrinhxechay = document.getElementById('tbody_bgt_hanhtrinh');
        _tbody_bgt_hanhtrinhxechay.innerHTML = "";
        var vehicleidrSelect = document.getElementById('bgt_listxe_hanhtrinh').options[document.getElementById('bgt_listxe_hanhtrinh').selectedIndex].value;
        var _ngay = document.getElementById("content-bgt-hanhtrinh-date").value;
        var Arr_ngay_vipham10h = _ngay.split("-");
        var _tungay = Arr_ngay_vipham10h[0].trim();
        var _denngay = Arr_ngay_vipham10h[1].trim();

        // chuyển ngày sang dạng mm/dd/yyyy
        var _newToDay = changFormatDate(_tungay);
        var _newFromDay = changFormatDate(_denngay)

        var _fromDay = new Date(_newFromDay);
        var _toDay = new Date(_newToDay);

        diffDates(_toDay, _fromDay) >= limit_2_ngay ? alert(`Xem tối đa: ${limit_2_ngay} ngày`) : ajaxReportAll(207, vehicleidrSelect, _tungay, _denngay);
    };
    function Report_BGT_TocDoXeChay() {
        var _tbody_bgt_tocdo = document.getElementById('tbody_bgt_tocdo');
        _tbody_bgt_tocdo.innerHTML = "";
        var vehicleidrSelect = document.getElementById('bgt_listxe_tocdo').options[document.getElementById('bgt_listxe_tocdo').selectedIndex].value;
        var _ngay = document.getElementById("content-bgt-tocdo-date").value;
        //var Arr_ngay_vipham10h = _ngay.split("-");
        //var _tungay = Arr_ngay_vipham10h[0].trim();
        //var _denngay = Arr_ngay_vipham10h[1].trim();
        ajaxReportAll(208, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_BGT_QuaTocDoGioiHan() {
        var _tbody_bgt_quatocdo = document.getElementById('tbody_bgt_quatocdogioihan');
        _tbody_bgt_quatocdo.innerHTML = "";
        var vehicleidrSelect = document.getElementById('bgt_listxe_quatocdogioihan').options[document.getElementById('bgt_listxe_quatocdogioihan').selectedIndex].value;
        var _ngay = document.getElementById("content-bgt-quatocdogioihan-date").value;
        //var Arr_ngay_vipham10h = _ngay.split("-");
        //var _tungay = Arr_ngay_vipham10h[0].trim();
        //var _denngay = Arr_ngay_vipham10h[1].trim();

        ajaxReportAll(209, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_BGT_ThoiGianLaiXeLienTuc() {
        var _tbody_bgt_quatocdo = document.getElementById('tbody_bgt_thoigianlaixelientuc');
        _tbody_bgt_quatocdo.innerHTML = "";
        var vehicleidrSelect = document.getElementById('bgt_listxe_thoigianlaixelientuc').options[document.getElementById('bgt_listxe_thoigianlaixelientuc').selectedIndex].value;
        var _ngay = document.getElementById("content-bgt-thoigianlaixelientuc-date").value;
        //var Arr_ngay_vipham10h = _ngay.split("-");
        //var _tungay = Arr_ngay_vipham10h[0].trim();
        //var _denngay = Arr_ngay_vipham10h[1].trim();

        ajaxReportAll(210, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_BGT_ThoiGianLaiXeTrongNgay() {
        var _tbody_bgt_quatocdo = document.getElementById('tbody_bgt_thoigianlaixetrongngay');
        _tbody_bgt_quatocdo.innerHTML = "";
        var vehicleidrSelect = document.getElementById('bgt_listxe_thoigianlaixetrongngay').options[document.getElementById('bgt_listxe_thoigianlaixetrongngay').selectedIndex].value;
        var _ngay = document.getElementById("content-bgt-thoigianlaixetrongngay-date").value;
        //var Arr_ngay_vipham10h = _ngay.split("-");
        //var _tungay = Arr_ngay_vipham10h[0].trim();
        //var _denngay = Arr_ngay_vipham10h[1].trim();
        ajaxReportAll(14, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_BGT_DungDo() {
        var _tbody_bgt_dungdo = document.getElementById('tbody_bgt_dungdo');
        _tbody_bgt_dungdo.innerHTML = "";
        var vehicleidrSelect = document.getElementById('bgt_listxe_dungdo').options[document.getElementById('bgt_listxe_dungdo').selectedIndex].value;
        var _ngay = document.getElementById("content-bgt-dungdo-date").value;
        var Arr_ngay_dungdo = _ngay.split("-");
        var _tungay = Arr_ngay_dungdo[0].trim();
        var _denngay = Arr_ngay_dungdo[1].trim();

        // chuyển ngày sang dạng mm/dd/yyyy
        var _newToDay = changFormatDate(_tungay);
        var _newFromDay = changFormatDate(_denngay)

        var _fromDay = new Date(_newFromDay);
        var _toDay = new Date(_newToDay);

        diffDates(_toDay, _fromDay) > limit_15_ngay ? alert(`Xem tối đa: ${limit_15_ngay} ngày`) : ajaxReportAll(11, vehicleidrSelect, _tungay, _denngay);
        //ajaxReportAll(11, vehicleidrSelect, _tungay, _denngay);
    };
    function Report_BGT_LaiXe() {
        var _tbody_bgt_dungdo = document.getElementById('tbody_bgt_laixe');
        _tbody_bgt_dungdo.innerHTML = "";
        var vehicleidrSelect = document.getElementById('bgt_listxe_laixe').options[document.getElementById('bgt_listxe_laixe').selectedIndex].value;
        var _ngay = document.getElementById("content-bgt-laixe-date").value;
        var Arr_ngay_dungdo = _ngay.split("-");
        var _tungay = Arr_ngay_dungdo[0].trim();
        var _denngay = Arr_ngay_dungdo[1].trim();

        var _newToDay = changFormatDate(_tungay);
        var _newFromDay = changFormatDate(_denngay)
        var _fromDay = new Date(_newFromDay);
        var _toDay = new Date(_newToDay);

        diffDates(_toDay, _fromDay) > limit_30_ngay ? alert(`Xem tối đa: ${limit_30_ngay} ngày`) : ajaxReportAll(12, vehicleidrSelect, _tungay, _denngay);
        //ajaxReportAll(12, vehicleidrSelect, _tungay, _denngay);
    };
    function Report_BGT_TongHopXe() {
        var _tbody_bgt_tonghopxe = document.getElementById('tbody_bgt_tonghopxe');
        _tbody_bgt_tonghopxe.innerHTML = "";
        var vehicleidrSelect = document.getElementById('bgt_listxe_tonghopxe').options[document.getElementById('bgt_listxe_tonghopxe').selectedIndex].value;
        var _ngay = document.getElementById("content-bgt-tonghopxe-date").value;
        var Arr_ngay_dungdo = _ngay.split("-");
        var _tungay = Arr_ngay_dungdo[0].trim();
        var _denngay = Arr_ngay_dungdo[1].trim();

        var _newToDay = changFormatDate(_tungay);
        var _newFromDay = changFormatDate(_denngay);
        var _fromDay = new Date(_newFromDay);
        var _toDay = new Date(_newToDay);


        diffDates(_toDay, _fromDay) > limit_30_ngay ? alert(`Xem tối đa: ${limit_30_ngay} ngày`) : ajaxReportAll(3, vehicleidrSelect, _tungay, _denngay);
        //ajaxReportAll(3, vehicleidrSelect, _tungay, _denngay);
    };

    // doanh nghiệp
    function Report_DN_TongHop() {
        var _tbody_dn_tonghop = document.getElementById('tbody_dn_tonghop');
        _tbody_dn_tonghop.innerHTML = "";
        var vehicleidrSelect = document.getElementById('dn_listxe_tonghop').options[document.getElementById('dn_listxe_tonghop').selectedIndex].value;
        var _ngay = document.getElementById("content-dn-tonghop-date").value;
        //var Arr_ngay_tonghop = _ngay.split("-");
        //var _tungay = Arr_ngay_tonghop[0].trim();
        //var _denngay = Arr_ngay_tonghop[1].trim();
        ajaxReportAll(101, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_DN_ChiTiet() {
        var _tbody_dn_chitiet = document.getElementById('tbody_dn_chitiet');
        _tbody_dn_chitiet.innerHTML = "";
        var vehicleidrSelect = document.getElementById('dn_listxe_chitiet').options[document.getElementById('dn_listxe_chitiet').selectedIndex].value;
        var _ngay = document.getElementById("content-dn-chitiet-date").value;
        //var Arr_ngay_dungdo = _ngay.split("-");
        //var _tungay = Arr_ngay_dungdo[0].trim();
        //var _denngay = Arr_ngay_dungdo[1].trim();
        ajaxReportAll(102, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_DN_DungDo() {
        var _tbody_dn_dungdo = document.getElementById('tbody_dn_dungdo');
        _tbody_dn_dungdo.innerHTML = "";
        var vehicleidrSelect = document.getElementById('dn_listxe_dungdo').options[document.getElementById('dn_listxe_dungdo').selectedIndex].value;
        var _ngay = document.getElementById("content-dn-dungdo-date").value;
        //var Arr_ngay_dungdo = _ngay.split("-");
        //var _tungay = Arr_ngay_dungdo[0].trim();
        //var _denngay = Arr_ngay_dungdo[1].trim();
        ajaxReportAll(104, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_DN_MayLanh() {
        var _tbody_dn_maylanh = document.getElementById('tbody_dn_maylanh');
        _tbody_dn_maylanh.innerHTML = "";
        var vehicleidrSelect = document.getElementById('dn_listxe_maylanh').options[document.getElementById('dn_listxe_maylanh').selectedIndex].value;
        var _ngay = document.getElementById("content-dn-maylanh-date").value;
        //var Arr_ngay_dungdo = _ngay.split("-");
        //var _tungay = Arr_ngay_dungdo[0].trim();
        //var _denngay = Arr_ngay_dungdo[1].trim();
        ajaxReportAll(105, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_DN_NhienLieu_TongHop() {
        var _tbody_dn_nhienlieu_tonghop = document.getElementById('tbody_dn_nhienlieu_tonghop');
        _tbody_dn_nhienlieu_tonghop.innerHTML = "";
        var vehicleidrSelect = document.getElementById('dn_listxe_nhienlieu_tonghop').options[document.getElementById('dn_listxe_nhienlieu_tonghop').selectedIndex].value;
        var _ngay = document.getElementById("content-dn-nhienlieu-tonghop-date").value;
        //var Arr_ngay_dungdo = _ngay.split("-");
        //var _tungay = Arr_ngay_dungdo[0].trim();
        //var _denngay = Arr_ngay_dungdo[1].trim();
        ajaxReportAll(107, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_DN_TatMoKhoaDien() {
        var _tbody_dn_khoadien = document.getElementById('tbody_dn_khoadien');
        _tbody_dn_khoadien.innerHTML = ""; //refesh list body when button click
        var vehicleidrSelect = document.getElementById('dn_list_khoadien').options[document.getElementById('dn_list_khoadien').selectedIndex].value;
        var _ngay = document.getElementById("content-dn-khoadien-date").value;
        //var Arr_ngay_dungdo = _ngay.split("-");
        //var _tungay = Arr_ngay_dungdo[0].trim();
        //var _denngay = Arr_ngay_dungdo[1].trim();
        ajaxReportAll(117, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_DN_TatMoMoToTai() {
        var _tbody_dn_mototai = document.getElementById('tbody_dn_mototai');
        _tbody_dn_mototai.innerHTML = ""; //refesh list body when button click
        var vehicleidrSelect = document.getElementById('dn_list_mototai').options[document.getElementById('dn_list_mototai').selectedIndex].value;
        var _ngay = document.getElementById("content-dn-mototai-date").value;
        //var Arr_ngay_dungdo = _ngay.split("-");
        //var _tungay = Arr_ngay_dungdo[0].trim();
        //var _denngay = Arr_ngay_dungdo[1].trim();
        ajaxReportAll(118, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_DN_TongHopKm() {
        var _tbody_dn_tonghopkm = document.getElementById('tbody_dn_tonghopkm');
        _tbody_dn_tonghopkm.innerHTML = ""; //refesh list body when button click
        var vehicleidrSelect = document.getElementById('dn_listxe_tonghopkm').options[document.getElementById('dn_listxe_tonghopkm').selectedIndex].value;
        var _ngay = document.getElementById("content-dn-tonghopkm-date").value;
        //var Arr_ngay_dungdo = _ngay.split("-");
        //var _tungay = Arr_ngay_dungdo[0].trim();
        //var _denngay = Arr_ngay_dungdo[1].trim();
        ajaxReportAll(103, vehicleidrSelect, _ngay, _ngay);
    };
    function Report_DN_CanhBaoNguGat() {
        var _tbody_dn_canhbaongugat = document.getElementById('tbody_dn_canhbaongugat');
        _tbody_dn_canhbaongugat.innerHTML = ""; //refesh list body when button click
        var vehicleidrSelect = document.getElementById('dn_list_ngugat')
            .options[document.getElementById('dn_list_ngugat').selectedIndex].value;
        var bs = document.getElementById('dn_list_ngugat')
            .options[document.getElementById('dn_list_ngugat').selectedIndex].text;
        var dateform = document.getElementById("date_form_dozy").value;
        var parts = dateform.split('-');
        var mydate = new Date(parts[2], parts[1] - 1, parts[0]);
        var curentdzMonth = (mydate.getMonth() + 1) < 10 ? "0" + (mydate.getMonth() + 1) : (mydate.getMonth() + 1);
        var curentdzdate = mydate.getDate() < 10 ? "0" + mydate.getDate() : mydate.getDate();
        var folder_date = mydate.getFullYear() + '' + curentdzMonth + '' + curentdzdate;
        var imei = '';
        for (var k = 0; k < dataListStatus.length; k++) {
            if (dataListStatus[k].DeviceID == vehicleidrSelect) {
                imei = dataListStatus[k].Imei;
                break;
            }
        }
        $.ajax({
            type: 'POST',
            dataType: "json",
            url: '@(Url.Action("sp_get_tbldozy_by_deviceid_date", "Home"))',
            data: { dvID: vehicleidrSelect, d: dateform },
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {

                    if (data == "0000") { //send successful

                        location.href = "Logout";
                    }
                    else if (data.length == 0) {
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                    }
                    else {
                        for (var m = 0; m < data.length; m++) {
                            var tr = document.createElement("tr");
                            var td1 = document.createElement("td");
                            td1.appendChild(document.createTextNode(m + 1));//STT
                            var td2 = document.createElement("td");
                            td2.appendChild(document.createTextNode(bs));//BS
                            var td7 = document.createElement("td");

                            td7.appendChild(document.createTextNode(''));//Tai Xe
                            var td3 = document.createElement("td");

                            td3.appendChild(document.createTextNode(data[m].Speed));//Toc Do
                            var td4 = document.createElement("td");

                            var dtdz = new Date(parseInt(data[m].DateSave.replace('/Date(', '')));

                            var End_dz = dtdz.getDate() + '/' + (dtdz.getMonth() + 1) + '/' + dtdz.getFullYear();
                            var time_dz = (dtdz.getHours() < 10 ? ('0' + dtdz.getHours()) : dtdz.getHours()) + ':' + (dtdz.getMinutes() < 10 ? ('0' + dtdz.getMinutes()) : dtdz.getMinutes()) + ':' + (dtdz.getSeconds() < 10 ? ('0' + dtdz.getSeconds()) : dtdz.getSeconds());


                            td4.appendChild(document.createTextNode(End_dz + ' ' + time_dz));//Thoi Gian
                            var td5 = document.createElement("td");
                            //td5.appendChild(document.createTextNode(data[m].Latitude + ',' + data[m].Longitude));//Toa do
                            var td5_div = document.createElement("div");
                            var td5_a = document.createElement("a");
                            td5_a.setAttribute("href", 'http://www.google.com/maps/place/' + data[m].Latitude + ',' + data[m].Longitude);
                            //target="_blank"
                            td5_a.setAttribute("target", "_blank");
                            td5_a.innerHTML = data[m].Latitude + ',' + data[m].Longitude;
                            td5_div.appendChild(td5_a);
                            td5.appendChild(td5_div);

                            var td6 = document.createElement("td");
                            //td6.appendChild(document.createTextNode(data[m].img));//Hinh Anh
                            var td6_div = document.createElement("div");
                            td6_div.setAttribute("id", "img_" + m);
                            //className
                            //td6_div.setAttribute("className", "img_");
                            var td6_a = document.createElement("a");

                            td6_a.setAttribute("href", '/ContentVideos/' + imei + '/Image/' + folder_date + '/' + data[m].img);

                            var img_tag = document.createElement("img");
                            img_tag.setAttribute("src", '/ContentVideos/' + imei + '/Image/' + folder_date + '/' + data[m].img);
                            img_tag.setAttribute("width", '42');
                            img_tag.setAttribute("height", '42');

                            //target="_blank"
                            // td6_a.setAttribute("target", "_blank");
                            //td6_a.innerHTML = data[m].img;
                            td6_a.setAttribute("id", "aImg_" + m);
                            td6_a.appendChild(img_tag);
                            td6_div.appendChild(td6_a);
                            td6.appendChild(td6_div);

                            tr.appendChild(td1);
                            tr.appendChild(td2);
                            tr.appendChild(td7);
                            tr.appendChild(td3);
                            tr.appendChild(td4);
                            tr.appendChild(td5);
                            tr.appendChild(td6);
                            _tbody_dn_canhbaongugat.appendChild(tr);
                            $('#img_' + m).lightGallery({
                                thumbnail: true
                            });
                            //$("#aImg_"+m).tooltip({ content: '<img src="https://i.etsystatic.com/18461744/r/il/8cc961/1660161853/il_794xN.1660161853_sohi.jpg" />' });
                        }
                    }
                }
                else {
                    location.href = "Logout";
                }
            }
        });
    };

    //LO TRINH

    function LoadLotrinh() {
        var vehicleidrSelect = document.getElementById('list_xelotrinh').options[document.getElementById('list_xelotrinh').selectedIndex].value;
        var dateform = document.getElementById("date_form_d").value + "T" + "00:00:00";
        var dateto = document.getElementById("date_form_d").value + "T" + "23:59:00";
        ajaxReportAll(1, vehicleidrSelect, dateform, dateto);
        //ajaxReportAll(1, vehicleidrSelect, dateform, dateform);
    };
    function playing() {
        intervalForAnimation = window.setInterval(function () {
            $("#googleMap").after(animateCircle(line, count, count_max));
            count = (count + 0.5) % count_max;
        }, speed);
    };
    function animateCircle(line, count, count_max) {
        var icons = line.get('icons');
        icons[0].offset = (count / (count_max / 100)) + '%';
        line.set('icons', icons);
        document.getElementById("range").value = count;
        setValueText(document.getElementById("range").value);
        if (count > count_max - 2) {
            icons[0].offset = count_max;
            line.set('icons', icons);
            clearInterval(intervalForAnimation);
        }
    };
    function changeStateButton() {
        //var side_bar = document.querySelector('')
        if (listdata != null && listdata.length > 0) {
            if (status_btn == 0) {
                if (status_btn == 0)
                    $("#player").attr("class", "fa fa-pause")
                $('.sidebar.active').removeClass('active');
                status_btn = 1;
                clearInterval(intervalForAnimation);
                playing();

            } else if (status_btn == 1) {
                $("#player").attr("class", "fa fa-play")
                $('.sidebar').addClass('active');
                status_btn = 0;
                clearInterval(intervalForAnimation);
            }
        }
    };
    function setSpeed() {
        if (listdata != null && listdata.length > 0) {
            if (status_btn == 1) {
                if (speed_btn == 3) {
                    speed_btn = 0;
                    speed = 60;
                    clearInterval(intervalForAnimation);
                    playing();
                    return;
                }

                if (speed_btn == 0) {
                    speed_btn = 1;
                }
                else if (speed_btn == 1) {
                    speed_btn = 2;
                } else if (speed_btn == 2) {
                    speed_btn = 3;
                }
                clearInterval(intervalForAnimation);

                speed = speed / 2;

                playing();
            }
        }

    };
    function setValueText(index) {
        if (index < count_max - 1) {
            if (index > 0) {
                var tr_pre = document.getElementById("tr" + (index - 1));
                tr_pre.style.backgroundColor = "";
            }
            if (index == (count_max - 2)) {
                return;
            }
            var tr_ = document.getElementById("tr" + index);
            tr_.style.backgroundColor = "#A0FAAC";
        }
        else {
            count = 0;
            line1.setMap(map);
            clearInterval(intervalForAnimation);
            changeStateButton();
        }
    };
    function ShowToast(text_) {
        // Get the snackbar DIV
        var x = document.getElementById("snackbar");
        x.innerHTML = text_;
        // Add the "show" class to DIV
        x.className = "show";

        // After 3 seconds, remove the show class from DIV
        setTimeout(function () { x.className = x.className.replace("show", ""); }, 4000);
    };

    function ajaxReportAll(indexReport, vehicleidrSelect, dateform, dateto) {

        var obj = document.querySelector('.preloader'), inner = document.querySelector('.preloader_inner'), page = document.querySelector('.main');
        obj.classList.add('show');
        page.classList.remove('show');
        $.ajax({
            type: 'POST',
            url: '@(Url.Action("Report", "Home"))',
            //timeout: 5000,
            data: { indexReport: indexReport, DeviceID: vehicleidrSelect, dateform: dateform, dateto: dateto },
            success: function (data, txtStatus, XMLHttpRequest) {
                obj.classList.remove('show');
                page.classList.add('show');
                if (data != null) {
                    if (data == '0001') {
                        location.href = "Logout"; //Het Phien Dang Nhap
                    }
                    else {
                        switch (parseInt(indexReport)) {
                            case 1:
                                if (data.Count > 1) {

                                    listdata = data.listData;
                                    listData_PauseStop = data.listData_PauseStop;

                                    _distance = data.listDistane1;
                                    var body_data_lotrinh = document.getElementById("body_data_lotrinh");
                                    while (body_data_lotrinh.firstChild)
                                        body_data_lotrinh.removeChild(body_data_lotrinh.firstChild);
                                    for (var m = 0; m < data.Count; m++) {
                                        var tr = document.createElement("tr");
                                        tr.setAttribute("id", "tr" + m);
                                        tr.setAttribute("title", data.listData[m].Addr);
                                        var td1 = document.createElement("td");
                                        var div1 = document.createElement("td");
                                        var img = document.createElement("img");
                                        //img.setAttribute("src", '/images/Xe-tai/truck-green.png');
                                        _CategoryID = data.VehicleCategoryID;
                                        if (data.VehicleNumber == "THAPCAU") {
                                            img.setAttribute("src", '/images/ThapCau/thapcau_01_35.png');
                                        }
                                        else {
                                            switch (_CategoryID) {
                                                case 2:
                                                    img.setAttribute("src", '/images/Xe-du-lich/muv-green.png');
                                                    break;
                                                case 3:
                                                    img.setAttribute("src", '/images/Xe-may/Motorcycle_green.png');
                                                    break;
                                                case 4:
                                                    img.setAttribute("src", '/images/Xe-tai/truck-green.png');
                                                    break;
                                                case 6:
                                                    img.setAttribute("src", '/images/Mui-ten/direction-green.png');
                                                    break;
                                                case 7:
                                                    img.setAttribute("src", '/images/Xe-con/car-green.png');
                                                    break;
                                                default:
                                                    img.setAttribute("src", '/images/Xe-khach/bus-green.png');
                                                    break;
                                            }
                                        }

                                        div1.appendChild(img);

                                        var div2 = document.createElement("td"); // div
                                        div2.appendChild(document.createTextNode(data.listData[m].VehicleNumber));//bien so
                                        td1.appendChild(div1);
                                        td1.appendChild(div2);

                                        var td2 = document.createElement("td");
                                        td2.appendChild(document.createTextNode(data.listData[m].Speed));//van toc

                                        var datesave = new Date(parseInt(data.listData[m].DateSave.replace('/Date(', '').replace(')', '')));
                                        var time = (datesave.getHours() < 10 ? ('0' + datesave.getHours()) : datesave.getHours()) + ':' + (datesave.getMinutes() < 10 ? ('0' + datesave.getMinutes()) : datesave.getMinutes());

                                        var td3 = document.createElement("td");
                                        td3.appendChild(document.createTextNode(time));//thoi gian

                                        tr.appendChild(td1);
                                        tr.appendChild(td2);
                                        tr.appendChild(td3);
                                        body_data_lotrinh.appendChild(tr);
                                    }
                                    if (line) line.setMap(null);
                                    if (line1) line1.setMap(null);
                                    SetupLine(listdata, _CategoryID, 1);
                                    drawPointStop(listData_PauseStop);

                                    status_btn = 1;
                                    changeStateButton();
                                    count = 0;
                                    document.getElementById("range").value = count;

                                    rangeSlider(data.Count); // data.Count ko thay su dung
                                    count_max = data.Count;
                                    document.getElementById("range").max = data.Count - 1;

                                    document.getElementById("player").disabled = false;
                                    document.getElementById("speed").disabled = false;

                                }
                                else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)") }
                                break;
                            case 3: // báo cáo tổng hợp theo xe
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_bgt_tonghopxe')) { // bấm xem lần 2 sẽ reload
                                        $('#table_bgt_tonghopxe').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_bgt_tonghopxe");
                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td1 = document.createElement("td");
                                        //_td1.setAttribute("class", "alignCenter");
                                        //_td1.setAttribute("align", "center");
                                        //_td1.setAttribute("valign", "middle");
                                        _td1.innerHTML = data[r].Date_from;
                                        _tr.appendChild(_td1);

                                        var _td2 = document.createElement("td");
                                        //_td2.setAttribute("class", "alignCenter");
                                        //_td2.setAttribute("align", "center");
                                        //_td2.setAttribute("valign", "middle");
                                        _td2.innerHTML = data[r].Date_to;
                                        _tr.appendChild(_td2);

                                        var _td3 = document.createElement("td");
                                        //_td3.setAttribute("class", "alignCenter");
                                        //_td3.setAttribute("align", "center");
                                        //_td3.setAttribute("valign", "middle");
                                        _td3.innerHTML = data[r].Distances;
                                        _tr.appendChild(_td3);

                                        var _td4 = document.createElement("td");
                                        //_td4.setAttribute("class", "alignCenter");
                                        //_td4.setAttribute("align", "center");
                                        //_td4.setAttribute("valign", "middle");
                                        _td4.innerHTML = data[r].SpeedAVG;
                                        _tr.appendChild(_td4);

                                        var _td5 = document.createElement("td");
                                        //_td5.setAttribute("class", "alignCenter");
                                        //_td5.setAttribute("align", "center");
                                        //_td5.setAttribute("valign", "middle");
                                        _td5.innerHTML = data[r].SpeedMax;
                                        _tr.appendChild(_td5);

                                        _tbody.appendChild(_tr);
                                    }
                                    $('#table_bgt_tonghopxe').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 11: // báo cáo bgt - dừng đỗ
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_bgt_dungdo')) { // bấm xem lần 2 sẽ reload
                                        $('#table_bgt_dungdo').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_bgt_dungdo");
                                    //_tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td0 = document.createElement("td");
                                        _td0.setAttribute("class", "alignCenter");
                                        _td0.setAttribute("align", "center");
                                        _td0.setAttribute("valign", "middle");
                                        _td0.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td0);

                                        var _td1 = document.createElement("td");
                                        _td1.setAttribute("class", "alignCenter");
                                        _td1.setAttribute("align", "center");
                                        _td1.setAttribute("valign", "middle");
                                        _td1.innerHTML = data[r].DateTime;
                                        _tr.appendChild(_td1);

                                        var _td2 = document.createElement("td");
                                        _td2.setAttribute("class", "alignCenter");
                                        _td2.setAttribute("align", "center");
                                        _td2.setAttribute("valign", "middle");
                                        _td2.innerHTML = data[r].Duration;
                                        _tr.appendChild(_td2);

                                        var _td3 = document.createElement("td");
                                        _td3.setAttribute("class", "alignCenter");
                                        _td3.setAttribute("align", "center");
                                        _td3.setAttribute("valign", "middle");
                                        _td3.innerHTML = data[r].Coordinates;
                                        _tr.appendChild(_td3);

                                        var _td4 = document.createElement("td");
                                        //_td4.setAttribute("class", "alignCenter");
                                        //_td4.setAttribute("align", "center");
                                        //_td4.setAttribute("valign", "middle");
                                        _td4.innerHTML = data[r].Address;
                                        _tr.appendChild(_td4);

                                        _tbody.appendChild(_tr);

                                        _stt_rows++;
                                    }
                                    $('#table_bgt_dungdo').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 12: // báo cáo bgt - tổng hợp theo lái xe
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_bgt_laixe')) { // bấm xem lần 2 sẽ reload
                                        $('#table_bgt_laixe').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_bgt_laixe");
                                    _tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td0 = document.createElement("td");
                                        _td0.setAttribute("class", "alignCenter");
                                        _td0.setAttribute("align", "center");
                                        _td0.setAttribute("valign", "middle");
                                        _td0.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td0);

                                        var _td_ngay = document.createElement("td");
                                        _td_ngay.setAttribute("valign", "middle");
                                        var _Date = new Date(parseInt(data[r].Date.replace('/Date(', '')));
                                        var dateSavebd = _Date.getDate() + '/' + (_Date.getMonth() + 1) + '/' + _Date.getFullYear();
                                        _td_ngay.innerHTML = dateSavebd;
                                        _tr.appendChild(_td_ngay);

                                        var _td_bienso = document.createElement("td");
                                        _td_bienso.setAttribute("valign", "middle");
                                        _td_bienso.innerHTML = data[r].VehicleNumber;
                                        _tr.appendChild(_td_bienso);

                                        var _td_NameDriver = document.createElement("td");
                                        _td_NameDriver.setAttribute("valign", "middle");
                                        _td_NameDriver.innerHTML = data[r].NameDriver;
                                        _tr.appendChild(_td_NameDriver);

                                        var _td_quangduong = document.createElement("td");
                                        _td_quangduong.setAttribute("valign", "middle");
                                        _td_quangduong.innerHTML = data[r].Distance;
                                        _tr.appendChild(_td_quangduong);

                                        _tbody.appendChild(_tr);

                                        _stt_rows++;
                                    }
                                    $('#table_bgt_laixe').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 14: // thời gian lái xe trong ngày
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_bgt_thoigianlaixetrongngay')) {
                                        $('#table_bgt_thoigianlaixetrongngay').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_bgt_thoigianlaixetrongngay");
                                    _tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td_stt = document.createElement("td");
                                        _td_stt.setAttribute("class", "alignCenter");
                                        _td_stt.setAttribute("align", "center");
                                        _td_stt.setAttribute("valign", "middle");
                                        _td_stt.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td_stt);

                                        var _td_bienso = document.createElement("td");
                                        _td_bienso.setAttribute("valign", "middle");
                                        _td_bienso.innerHTML = data[r].VehicleNumber;
                                        _tr.appendChild(_td_bienso);

                                        var _td_timedriver = document.createElement("td");
                                        _td_timedriver.setAttribute("valign", "middle");
                                        _td_timedriver.innerHTML = data[r].TimeDriver_;
                                        _tr.appendChild(_td_timedriver);

                                        var _td_tungay = document.createElement("td");
                                        _td_tungay.setAttribute("valign", "middle");
                                        var _dt_tungay = new Date(parseInt(data[r].Start.replace('/Date(', '')));
                                        var _dateSave_tungay = _dt_tungay.getDate() + '/' + (_dt_tungay.getMonth() + 1) + '/' + _dt_tungay.getFullYear() + ' ' + _dt_tungay.getHours() + ':' + _dt_tungay.getMinutes() + ':' + _dt_tungay.getSeconds();
                                        _td_tungay.innerHTML = _dateSave_tungay;
                                        _tr.appendChild(_td_tungay);

                                        var _td_denngay = document.createElement("td");
                                        _td_denngay.setAttribute("valign", "middle");
                                        var _dt_denngay = new Date(parseInt(data[r].End.replace('/Date(', '')));
                                        var _dateSave_denngay = _dt_denngay.getDate() + '/' + (_dt_denngay.getMonth() + 1) + '/' + _dt_denngay.getFullYear() + ' ' + _dt_denngay.getHours() + ':' + _dt_denngay.getMinutes() + ':' + _dt_denngay.getSeconds();
                                        _td_denngay.innerHTML = _dateSave_denngay;
                                        _tr.appendChild(_td_denngay);

                                        var _td_AddressStart = document.createElement("td");
                                        _td_AddressStart.setAttribute("valign", "middle");
                                        _td_AddressStart.innerHTML = data[r].AddressStart;
                                        _tr.appendChild(_td_AddressStart);

                                        var _td_AddressEnd = document.createElement("td");
                                        _td_AddressEnd.setAttribute("valign", "middle");
                                        _td_AddressEnd.innerHTML = data[r].AddressEnd;
                                        _tr.appendChild(_td_AddressEnd);

                                        _tbody.appendChild(_tr);

                                        _stt_rows++;
                                    }
                                    $('#table_bgt_thoigianlaixetrongngay').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 101: // báo cáo tổng hợp hoạt động
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_dn_tonghop')) { // bấm xem lần 2 sẽ reload
                                        $('#table_dn_tonghop').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_dn_tonghop");
                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td1 = document.createElement("td");
                                        //_td1.setAttribute("class", "alignCenter");
                                        //_td1.setAttribute("align", "center");
                                        //_td1.setAttribute("valign", "middle");
                                        _td1.innerHTML = data[r].Date_from;
                                        _tr.appendChild(_td1);

                                        var _td2 = document.createElement("td");
                                        //_td2.setAttribute("class", "alignCenter");
                                        //_td2.setAttribute("align", "center");
                                        //_td2.setAttribute("valign", "middle");
                                        _td2.innerHTML = data[r].Date_to;
                                        _tr.appendChild(_td2);

                                        var _td3 = document.createElement("td");
                                        //_td3.setAttribute("class", "alignCenter");
                                        //_td3.setAttribute("align", "center");
                                        //_td3.setAttribute("valign", "middle");
                                        _td3.innerHTML = data[r].Distances;
                                        _tr.appendChild(_td3);

                                        var _td4 = document.createElement("td");
                                        //_td4.setAttribute("class", "alignCenter");
                                        //_td4.setAttribute("align", "center");
                                        //_td4.setAttribute("valign", "middle");
                                        _td4.innerHTML = data[r].SpeedAVG;
                                        _tr.appendChild(_td4);

                                        var _td5 = document.createElement("td");
                                        //_td5.setAttribute("class", "alignCenter");
                                        //_td5.setAttribute("align", "center");
                                        //_td5.setAttribute("valign", "middle");
                                        _td5.innerHTML = data[r].SpeedMax;
                                        _tr.appendChild(_td5);

                                        _tbody.appendChild(_tr);
                                    }
                                    $('#table_dn_tonghop').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 102: // báo cáo chi tiết
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_dn_chitiet')) { // bấm xem lần 2 sẽ reload
                                        $('#table_dn_chitiet').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_dn_chitiet");
                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td1 = document.createElement("td");
                                        //_td1.setAttribute("class", "alignCenter");
                                        //_td1.setAttribute("align", "center");
                                        //_td1.setAttribute("valign", "middle");
                                        var dtbd = new Date(parseInt(data[r].timeStart.replace('/Date(', '')));
                                        var dateSavebd = dtbd.getDate() + '/' + (dtbd.getMonth() + 1) + '/' + dtbd.getFullYear() + ' ' + dtbd.getHours() + ':' + dtbd.getMinutes() + ':' + dtbd.getSeconds();
                                        _td1.innerHTML = dateSavebd;
                                        _tr.appendChild(_td1);

                                        var _td2 = document.createElement("td");
                                        //_td2.setAttribute("class", "alignCenter");
                                        //_td2.setAttribute("align", "center");
                                        //_td2.setAttribute("valign", "middle");
                                        var dtkt = new Date(parseInt(data[r].timeEnd.replace('/Date(', '')));
                                        var dateSavekt = dtkt.getDate() + '/' + (dtkt.getMonth() + 1) + '/' + dtkt.getFullYear() + ' ' + dtkt.getHours() + ':' + dtkt.getMinutes() + ':' + dtkt.getSeconds();
                                        _td2.innerHTML = dateSavekt;
                                        _tr.appendChild(_td2);

                                        var _td3 = document.createElement("td");
                                        //_td3.setAttribute("class", "alignCenter");
                                        //_td3.setAttribute("align", "center");
                                        //_td3.setAttribute("valign", "middle");
                                        _td3.innerHTML = data[r].Duran;
                                        _tr.appendChild(_td3);

                                        var _td5 = document.createElement("td");
                                        //_td5.setAttribute("class", "alignCenter");
                                        //_td5.setAttribute("align", "center");
                                        //_td5.setAttribute("valign", "middle");
                                        _td5.innerHTML = data[r].Distane + " km";
                                        _tr.appendChild(_td5);

                                        var _td6 = document.createElement("td");
                                        //_td6.setAttribute("class", "alignCenter");
                                        //_td6.setAttribute("align", "center");
                                        //_td6.setAttribute("valign", "middle");
                                        _td6.innerHTML = data[r].SpeedMax + " km/h";
                                        _tr.appendChild(_td6);

                                        var _td7 = document.createElement("td");
                                        //_td7.setAttribute("class", "alignCenter");
                                        //_td7.setAttribute("align", "center");
                                        //_td7.setAttribute("valign", "middle");
                                        _td7.innerHTML = data[r].timeDrive;
                                        _tr.appendChild(_td7);

                                        var _td8 = document.createElement("td");
                                        //_td8.setAttribute("class", "alignCenter");
                                        //_td8.setAttribute("align", "center");
                                        //_td8.setAttribute("valign", "middle");
                                        _td8.innerHTML = data[r].positionStart;
                                        _tr.appendChild(_td8);

                                        var _td9 = document.createElement("td");
                                        //_td9.setAttribute("class", "alignCenter");
                                        //_td9.setAttribute("align", "center");
                                        //_td9.setAttribute("valign", "middle");
                                        _td9.innerHTML = data[r].positionEnd;
                                        _tr.appendChild(_td9);

                                        _tbody.appendChild(_tr);
                                    }
                                    $('#table_dn_chitiet').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 103: // báo cáo tổng hợp km xe chạy
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_dn_tonghopkm')) { // bấm xem lần 2 sẽ reload
                                        $('#table_dn_tonghopkm').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_dn_tonghopkm");
                                    _tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt
                                    var _sum_tongkm = 0;

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td_stt = document.createElement("td");
                                        _td_stt.setAttribute("class", "alignCenter");
                                        _td_stt.setAttribute("align", "center");
                                        _td_stt.setAttribute("valign", "middle");
                                        _td_stt.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td_stt);

                                        var _td_bienso = document.createElement("td");
                                        _td_bienso.setAttribute("class", "alignCenter");
                                        _td_bienso.setAttribute("align", "center");
                                        _td_bienso.setAttribute("valign", "middle");
                                        _td_bienso.innerHTML = data[r].VehicleNumber;
                                        _tr.appendChild(_td_bienso);

                                        var _td_ngay = document.createElement("td");
                                        _td_ngay.setAttribute("class", "alignCenter");
                                        _td_ngay.setAttribute("align", "center");
                                        _td_ngay.setAttribute("valign", "middle");
                                        _td_ngay.innerHTML = data[r].Date;
                                        _tr.appendChild(_td_ngay);

                                        var _td_TimeStart = document.createElement("td");
                                        _td_TimeStart.setAttribute("class", "alignCenter");
                                        _td_TimeStart.setAttribute("align", "center");
                                        _td_TimeStart.setAttribute("valign", "middle");
                                        _td_TimeStart.innerHTML = data[r].TimeStart;
                                        _tr.appendChild(_td_TimeStart);

                                        var _td_TimeEnd = document.createElement("td");
                                        _td_TimeEnd.setAttribute("class", "alignCenter");
                                        _td_TimeEnd.setAttribute("align", "center");
                                        _td_TimeEnd.setAttribute("valign", "middle");
                                        _td_TimeEnd.innerHTML = data[r].TimeEnd;
                                        _tr.appendChild(_td_TimeEnd);

                                        var _td_AddressStart = document.createElement("td");
                                        _td_AddressStart.setAttribute("class", "alignCenter");
                                        _td_AddressStart.setAttribute("align", "center");
                                        _td_AddressStart.setAttribute("valign", "middle");
                                        _td_AddressStart.innerHTML = data[r].AddressStart;
                                        _tr.appendChild(_td_AddressStart);

                                        var _td_AddressEnd = document.createElement("td");
                                        _td_AddressEnd.setAttribute("class", "alignCenter");
                                        _td_AddressEnd.setAttribute("align", "center");
                                        _td_AddressEnd.setAttribute("valign", "middle");
                                        _td_AddressEnd.innerHTML = data[r].AddressEnd;
                                        _tr.appendChild(_td_AddressEnd);

                                        var _td_km = document.createElement("td");
                                        _td_km.setAttribute("class", "alignCenter");
                                        _td_km.setAttribute("align", "center");
                                        _td_km.setAttribute("valign", "middle");
                                        _td_km.innerHTML = data[r].Distance;
                                        _tr.appendChild(_td_km);

                                        var _Distance_split = data[r].Distance.split(" ");
                                        _sum_tongkm += parseInt(_Distance_split[0]);

                                        _tbody.appendChild(_tr);
                                        _stt_rows++;
                                    }
                                    $('#table_dn_tonghopkm').DataTable();
                                    $("#tfoot_dn_tonghopkm").show();
                                    var _sumkm = document.getElementById("sum_tongkm_dn_tonghopkm");
                                    _sumkm.innerHTML = _sum_tongkm + " km";
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 104: // báo cáo dừng đỗ, đang sử dụng của bgt
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_dn_dungdo')) { // bấm xem lần 2 sẽ reload
                                        $('#table_dn_dungdo').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_dn_dungdo");
                                    _tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td0 = document.createElement("td");
                                        _td0.setAttribute("class", "alignCenter");
                                        _td0.setAttribute("align", "center");
                                        _td0.setAttribute("valign", "middle");
                                        _td0.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td0);

                                        var _td1 = document.createElement("td");
                                        _td1.setAttribute("class", "alignCenter");
                                        _td1.setAttribute("align", "center");
                                        _td1.setAttribute("valign", "middle");
                                        _td1.innerHTML = data[r].DateTime;
                                        _tr.appendChild(_td1);

                                        var _td2 = document.createElement("td");
                                        _td2.setAttribute("class", "alignCenter");
                                        _td2.setAttribute("align", "center");
                                        _td2.setAttribute("valign", "middle");
                                        _td2.innerHTML = data[r].Duration;
                                        _tr.appendChild(_td2);

                                        var _td3 = document.createElement("td");
                                        _td3.setAttribute("class", "alignCenter");
                                        _td3.setAttribute("align", "center");
                                        _td3.setAttribute("valign", "middle");
                                        _td3.innerHTML = data[r].Coordinates;
                                        _tr.appendChild(_td3);

                                        var _td4 = document.createElement("td");
                                        //_td4.setAttribute("class", "alignCenter");
                                        //_td4.setAttribute("align", "center");
                                        //_td4.setAttribute("valign", "middle");
                                        _td4.innerHTML = data[r].Address;
                                        _tr.appendChild(_td4);

                                        _tbody.appendChild(_tr);

                                        _stt_rows++;
                                    }
                                    $('#table_dn_dungdo').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 105: // báo cáo tắt/mở máy lạnh
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_dn_maylanh')) { // bấm xem lần 2 sẽ reload
                                        $('#table_dn_maylanh').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_dn_maylanh");
                                    _tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td_stt = document.createElement("td");
                                        _td_stt.setAttribute("class", "alignCenter");
                                        _td_stt.setAttribute("align", "center");
                                        _td_stt.setAttribute("valign", "middle");
                                        _td_stt.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td_stt);

                                        var _td_bienso = document.createElement("td");
                                        _td_bienso.setAttribute("class", "alignCenter");
                                        _td_bienso.setAttribute("align", "center");
                                        _td_bienso.setAttribute("valign", "middle");
                                        _td_bienso.innerHTML = data[r].VehicleNumber;
                                        _tr.appendChild(_td_bienso);

                                        var _td_taixe = document.createElement("td");
                                        _td_taixe.setAttribute("class", "alignCenter");
                                        _td_taixe.setAttribute("align", "center");
                                        _td_taixe.setAttribute("valign", "middle");
                                        _td_taixe.innerHTML = data[r].NameDriver;
                                        _tr.appendChild(_td_taixe);

                                        var _td_keodai = document.createElement("td");
                                        _td_keodai.setAttribute("class", "alignCenter");
                                        _td_keodai.setAttribute("align", "center");
                                        _td_keodai.setAttribute("valign", "middle");
                                        _td_keodai.innerHTML = data[r].Duration;
                                        _tr.appendChild(_td_keodai);

                                        var _td_time_mo = document.createElement("td");
                                        _td_time_mo.innerHTML = data[r].TimeOpen;
                                        _tr.appendChild(_td_time_mo);

                                        var _td_time_tat = document.createElement("td");
                                        _td_time_tat.innerHTML = data[r].TimeClose;
                                        _tr.appendChild(_td_time_tat);

                                        //var _td_AddressMo = document.createElement("td");
                                        //_td_AddressMo.innerHTML = data[r].AddressOpen;
                                        //_tr.appendChild(_td_AddressMo);

                                        //var _td_AddressTat = document.createElement("td");
                                        //_td_AddressTat.innerHTML = data[r].AddressClose;
                                        //_tr.appendChild(_td_AddressTat);

                                        //var _td_ToadoMo = document.createElement("td");
                                        //_td_ToadoMo.innerHTML = data[r].CoordinatesOpen;
                                        //_tr.appendChild(_td_ToadoMo);

                                        //var _td_ToadoTat = document.createElement("td");
                                        //_td_ToadoTat.innerHTML = data[r].CoordinatesClose;
                                        //_tr.appendChild(_td_ToadoTat);

                                        _tbody.appendChild(_tr);
                                        _stt_rows++;
                                    }
                                    $('#table_dn_maylanh').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 107: // báo cáo nhiên liệu tổng hợp
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_dn_nhienlieu_tonghop')) { // bấm xem lần 2 sẽ reload
                                        $('#table_dn_nhienlieu_tonghop').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_dn_nhienlieu_tonghop");
                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td0 = document.createElement("td");
                                        _td0.setAttribute("class", "alignCenter");
                                        _td0.setAttribute("align", "center");
                                        _td0.setAttribute("valign", "middle");

                                        _td0.innerHTML = (r + 1);
                                        _tr.appendChild(_td0);

                                        //  var _tr = document.createElement("tr");
                                        var _td1 = document.createElement("td");
                                        _td1.setAttribute("class", "alignCenter");
                                        _td1.setAttribute("align", "center");
                                        _td1.setAttribute("valign", "middle");
                                        var dt_oil = new Date(parseInt(data[r].DateSave.replace('/Date(', '')));
                                        var dateSaveoil = dt_oil.getDate() + '/' + (dt_oil.getMonth() + 1) + '/' + dt_oil.getFullYear() + ' ' + dt_oil.getHours() + ':' + dt_oil.getMinutes() + ':' + dt_oil.getSeconds();
                                        _td1.innerHTML = dateSaveoil;
                                        _tr.appendChild(_td1);

                                        var _td2 = document.createElement("td");
                                        _td2.setAttribute("class", "alignCenter");
                                        _td2.setAttribute("align", "center");
                                        _td2.setAttribute("valign", "middle");
                                        _td2.innerHTML = data[r].Oilvalue_real;
                                        _tr.appendChild(_td2);

                                        _tbody.appendChild(_tr);
                                    }
                                    $('#table_dn_nhienlieu_tonghop').DataTable();
                                    createChart(data);
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 117: // bắo cáo tắt/mở khoá điện
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_dn_khoadien')) { // bấm xem lần 2 sẽ reload
                                        $('#table_dn_khoadien').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_dn_khoadien");
                                    _tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td_stt = document.createElement("td");
                                        //_td_stt.setAttribute("class", "alignCenter");
                                        //_td_stt.setAttribute("align", "left");
                                        //_td_stt.setAttribute("valign", "middle");
                                        _td_stt.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td_stt);

                                        var _td_bienso = document.createElement("td");
                                        //_td_bienso.setAttribute("class", "alignCenter");
                                        //_td_bienso.setAttribute("align", "center");
                                        //_td_bienso.setAttribute("valign", "middle");
                                        _td_bienso.innerHTML = data[r].VehicleNumber;
                                        _tr.appendChild(_td_bienso);

                                        var _td_taixe = document.createElement("td");
                                        //_td_taixe.setAttribute("class", "alignCenter");
                                        //_td_taixe.setAttribute("align", "center");
                                        //_td_taixe.setAttribute("valign", "middle");
                                        _td_taixe.innerHTML = data[r].NameDriver;
                                        _tr.appendChild(_td_taixe);

                                        var _td_keodai = document.createElement("td");
                                        //_td_keodai.setAttribute("class", "alignCenter");
                                        //_td_keodai.setAttribute("align", "center");
                                        //_td_keodai.setAttribute("valign", "middle");
                                        _td_keodai.innerHTML = data[r].Duration;
                                        _tr.appendChild(_td_keodai);

                                        var _td_time_mo = document.createElement("td");
                                        _td_time_mo.innerHTML = data[r].TimeOpen;
                                        _tr.appendChild(_td_time_mo);

                                        var _td_time_tat = document.createElement("td");
                                        _td_time_tat.innerHTML = data[r].TimeClose;
                                        _tr.appendChild(_td_time_tat);

                                        _tbody.appendChild(_tr);
                                        _stt_rows++;
                                    }
                                    $('#table_dn_khoadien').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 118: // báo cáo tắt/mở mô tơ tải
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_dn_mototai')) { // bấm xem lần 2 sẽ reload
                                        $('#table_dn_mototai').DataTable().clear().destroy();
                                    }
                                    var _tbody = document.getElementById("tbody_dn_mototai");
                                    _tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td_stt = document.createElement("td");
                                        _td_stt.setAttribute("class", "alignCenter");
                                        _td_stt.setAttribute("align", "center");
                                        _td_stt.setAttribute("valign", "middle");
                                        _td_stt.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td_stt);

                                        var _td_bienso = document.createElement("td");
                                        _td_bienso.setAttribute("class", "alignCenter");
                                        _td_bienso.setAttribute("align", "center");
                                        _td_bienso.setAttribute("valign", "middle");
                                        _td_bienso.innerHTML = data[r].VehicleNumber;
                                        _tr.appendChild(_td_bienso);

                                        var _td_taixe = document.createElement("td");
                                        _td_taixe.setAttribute("class", "alignCenter");
                                        _td_taixe.setAttribute("align", "center");
                                        _td_taixe.setAttribute("valign", "middle");
                                        _td_taixe.innerHTML = data[r].NameDriver;
                                        _tr.appendChild(_td_taixe);

                                        var _td_keodai = document.createElement("td");
                                        _td_keodai.setAttribute("class", "alignCenter");
                                        _td_keodai.setAttribute("align", "center");
                                        _td_keodai.setAttribute("valign", "middle");
                                        _td_keodai.innerHTML = data[r].Duration;
                                        _tr.appendChild(_td_keodai);

                                        var _td_time_mo = document.createElement("td");
                                        _td_time_mo.innerHTML = data[r].TimeOpen;
                                        _tr.appendChild(_td_time_mo);

                                        var _td_time_tat = document.createElement("td");
                                        _td_time_tat.innerHTML = data[r].TimeClose;
                                        _tr.appendChild(_td_time_tat);

                                        //var _td_AddressMo = document.createElement("td");
                                        //_td_AddressMo.innerHTML = data[r].AddressOpen;
                                        //_tr.appendChild(_td_AddressMo);

                                        //var _td_AddressTat = document.createElement("td");
                                        //_td_AddressTat.innerHTML = data[r].AddressClose;
                                        //_tr.appendChild(_td_AddressTat);

                                        //var _td_ToadoMo = document.createElement("td");
                                        //_td_ToadoMo.innerHTML = data[r].CoordinatesOpen;
                                        //_tr.appendChild(_td_ToadoMo);

                                        //var _td_ToadoTat = document.createElement("td");
                                        //_td_ToadoTat.innerHTML = data[r].CoordinatesClose;
                                        //_tr.appendChild(_td_ToadoTat);

                                        _tbody.appendChild(_tr);
                                        _stt_rows++;
                                    }
                                    $('#table_dn_mototai').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 203: // báo cáo chi tiết vi phạm liên tục 4h
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_bgt_vipham4h')) {
                                        $('#table_bgt_vipham4h').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_bgt_vipham4h");
                                    _tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td_stt = document.createElement("td");
                                        _td_stt.setAttribute("class", "alignCenter");
                                        _td_stt.setAttribute("align", "center");
                                        _td_stt.setAttribute("valign", "middle");
                                        _td_stt.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td_stt);

                                        var _td_bienso = document.createElement("td");
                                        _td_bienso.setAttribute("class", "alignCenter");
                                        _td_bienso.setAttribute("align", "center");
                                        _td_bienso.setAttribute("valign", "middle");
                                        _td_bienso.innerHTML = data[r].VehicleNumber;
                                        _tr.appendChild(_td_bienso);

                                        var _td_taixe = document.createElement("td");
                                        _td_taixe.setAttribute("class", "alignCenter");
                                        _td_taixe.setAttribute("align", "center");
                                        _td_taixe.setAttribute("valign", "middle");
                                        _td_taixe.innerHTML = data[r].NameDriver;
                                        _tr.appendChild(_td_taixe);

                                        var _td_GPLX = document.createElement("td");
                                        _td_GPLX.setAttribute("class", "alignCenter");
                                        _td_GPLX.setAttribute("align", "center");
                                        _td_GPLX.setAttribute("valign", "middle");
                                        _td_GPLX.innerHTML = "";
                                        _tr.appendChild(_td_GPLX);

                                        var _td_ngay = document.createElement("td");
                                        _td_ngay.innerHTML = data[r].Date;
                                        _tr.appendChild(_td_ngay);

                                        var _td_time_start = document.createElement("td");
                                        _td_time_start.innerHTML = data[r].TimeStart;
                                        _tr.appendChild(_td_time_start);

                                        var _td_time_end = document.createElement("td");
                                        _td_time_end.innerHTML = data[r].TimeEnd;
                                        _tr.appendChild(_td_time_end);

                                        var _td_timedriver = document.createElement("td");
                                        _td_timedriver.innerHTML = data[r].TimeDriver_;
                                        _tr.appendChild(_td_timedriver);

                                        var _td_AddressStart = document.createElement("td");
                                        _td_AddressStart.innerHTML = data[r].AddressStart;
                                        _tr.appendChild(_td_AddressStart);

                                        var _td_AddressEnd = document.createElement("td");
                                        _td_AddressEnd.innerHTML = data[r].AddressEnd;
                                        _tr.appendChild(_td_AddressEnd);

                                        var _td_CoordinatesStart = document.createElement("td");
                                        _td_CoordinatesStart.innerHTML = data[r].CoordinatesStart;
                                        _tr.appendChild(_td_CoordinatesStart);

                                        var _td_CoordinatesEnd = document.createElement("td");
                                        _td_CoordinatesEnd.innerHTML = data[r].CoordinatesEnd;
                                        _tr.appendChild(_td_CoordinatesEnd);

                                        var _td_Distance = document.createElement("td");
                                        _td_Distance.innerHTML = data[r].Distance;
                                        _tr.appendChild(_td_Distance);

                                        _tbody.appendChild(_tr);

                                        _stt_rows++;
                                    }
                                    $('#table_bgt_vipham4h').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 204: // báo cáo chi tiết vi phạm liên tục 10h
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_bgt_vipham10h')) {
                                        $('#table_bgt_vipham10h').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_bgt_vipham10h");
                                    _tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td_stt = document.createElement("td");
                                        _td_stt.setAttribute("class", "alignCenter");
                                        _td_stt.setAttribute("align", "center");
                                        _td_stt.setAttribute("valign", "middle");
                                        _td_stt.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td_stt);

                                        var _td_bienso = document.createElement("td");
                                        _td_bienso.setAttribute("class", "alignCenter");
                                        _td_bienso.setAttribute("align", "center");
                                        _td_bienso.setAttribute("valign", "middle");
                                        _td_bienso.innerHTML = data[r].VehicleNumber;
                                        _tr.appendChild(_td_bienso);

                                        var _td_taixe = document.createElement("td");
                                        _td_taixe.setAttribute("class", "alignCenter");
                                        _td_taixe.setAttribute("align", "center");
                                        _td_taixe.setAttribute("valign", "middle");
                                        _td_taixe.innerHTML = data[r].NameDriver;
                                        _tr.appendChild(_td_taixe);

                                        var _td_GPLX = document.createElement("td");
                                        _td_GPLX.setAttribute("class", "alignCenter");
                                        _td_GPLX.setAttribute("align", "center");
                                        _td_GPLX.setAttribute("valign", "middle");
                                        _td_GPLX.innerHTML = "";
                                        _tr.appendChild(_td_GPLX);

                                        var _td_ngay = document.createElement("td");
                                        _td_ngay.innerHTML = data[r].Date;
                                        _tr.appendChild(_td_ngay);

                                        var _td_time_start = document.createElement("td");
                                        _td_time_start.innerHTML = data[r].TimeStart;
                                        _tr.appendChild(_td_time_start);

                                        var _td_time_end = document.createElement("td");
                                        _td_time_end.innerHTML = data[r].TimeEnd;
                                        _tr.appendChild(_td_time_end);

                                        var _td_timedriver = document.createElement("td");
                                        _td_timedriver.innerHTML = data[r].TimeDriver_;
                                        _tr.appendChild(_td_timedriver);

                                        var _td_AddressStart = document.createElement("td");
                                        _td_AddressStart.innerHTML = data[r].AddressStart;
                                        _tr.appendChild(_td_AddressStart);

                                        var _td_AddressEnd = document.createElement("td");
                                        _td_AddressEnd.innerHTML = data[r].AddressEnd;
                                        _tr.appendChild(_td_AddressEnd);

                                        var _td_CoordinatesStart = document.createElement("td");
                                        _td_CoordinatesStart.innerHTML = data[r].CoordinatesStart;
                                        _tr.appendChild(_td_CoordinatesStart);

                                        var _td_CoordinatesEnd = document.createElement("td");
                                        _td_CoordinatesEnd.innerHTML = data[r].CoordinatesEnd;
                                        _tr.appendChild(_td_CoordinatesEnd);

                                        var _td_Distance = document.createElement("td");
                                        _td_Distance.innerHTML = data[r].Distance;
                                        _tr.appendChild(_td_Distance);

                                        _tbody.appendChild(_tr);

                                        _stt_rows++;
                                    }
                                    $('#table_bgt_vipham10h').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 207: // Hành trình xe chạy
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_bgt_hanhtrinh')) {
                                        $('#table_bgt_hanhtrinh').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_bgt_hanhtrinh");
                                    _tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td_stt = document.createElement("td");
                                        _td_stt.setAttribute("class", "alignCenter");
                                        _td_stt.setAttribute("align", "center");
                                        _td_stt.setAttribute("valign", "middle");
                                        _td_stt.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td_stt);

                                        var _td_bienso = document.createElement("td");
                                        _td_bienso.setAttribute("class", "alignCenter");
                                        _td_bienso.setAttribute("align", "center");
                                        _td_bienso.setAttribute("valign", "middle");
                                        _td_bienso.innerHTML = data[r].VehicleNumber;
                                        _tr.appendChild(_td_bienso);

                                        var _td_ngay = document.createElement("td");
                                        _td_ngay.setAttribute("class", "alignCenter");
                                        _td_ngay.setAttribute("align", "center");
                                        _td_ngay.setAttribute("valign", "middle");
                                        var _dt = new Date(parseInt(data[r].DateSave.replace('/Date(', '')));
                                        var _dateSave = _dt.getDate() + '/' + (_dt.getMonth() + 1) + '/' + _dt.getFullYear() + ' ' + _dt.getHours() + ':' + _dt.getMinutes() + ':' + _dt.getSeconds();
                                        _td_ngay.innerHTML = _dateSave;
                                        _tr.appendChild(_td_ngay);

                                        var _td_trangthai = document.createElement("td");
                                        _td_trangthai.setAttribute("class", "alignCenter");
                                        _td_trangthai.setAttribute("align", "center");
                                        _td_trangthai.setAttribute("valign", "middle");
                                        _td_trangthai.innerHTML = data[r].Status;
                                        _tr.appendChild(_td_trangthai);

                                        var _td_diachi = document.createElement("td");
                                        _td_diachi.setAttribute("class", "alignCenter");
                                        _td_diachi.setAttribute("align", "center");
                                        _td_diachi.setAttribute("valign", "middle");
                                        _td_diachi.innerHTML = data[r].Addr;
                                        _tr.appendChild(_td_diachi);

                                        _tbody.appendChild(_tr);

                                        _stt_rows++;
                                    }
                                    $('#table_bgt_hanhtrinh').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 208: // tốc độ xe chạy
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_bgt_tocdo')) {
                                        $('#table_bgt_tocdo').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_bgt_tocdo");
                                    _tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td_stt = document.createElement("td");
                                        //_td_stt.setAttribute("class", "alignCenter");
                                        //_td_stt.setAttribute("align", "center");
                                        _td_stt.setAttribute("valign", "middle");
                                        _td_stt.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td_stt);

                                        var _td_bienso = document.createElement("td");
                                        _td_bienso.setAttribute("valign", "middle");
                                        _td_bienso.innerHTML = data[r].VehicleNumber;
                                        _tr.appendChild(_td_bienso);

                                        var _td_tungay = document.createElement("td");
                                        _td_tungay.setAttribute("valign", "middle");
                                        _td_tungay.innerHTML = data[r].Date_from;
                                        _tr.appendChild(_td_tungay);

                                        var _td_denngay = document.createElement("td");
                                        _td_denngay.setAttribute("valign", "middle");
                                        _td_denngay.innerHTML = data[r].Date_to;
                                        _tr.appendChild(_td_denngay);

                                        var _td_speedavg = document.createElement("td");
                                        _td_speedavg.setAttribute("valign", "middle");
                                        _td_speedavg.innerHTML = data[r].SpeedAVG;
                                        _tr.appendChild(_td_speedavg);

                                        var _td_speedmax = document.createElement("td");
                                        _td_speedmax.setAttribute("valign", "middle");
                                        _td_speedmax.innerHTML = data[r].SpeedMax;
                                        _tr.appendChild(_td_speedmax);

                                        var _td_khoangcach = document.createElement("td");
                                        _td_khoangcach.setAttribute("valign", "middle");
                                        _td_khoangcach.innerHTML = data[r].Distances;
                                        _tr.appendChild(_td_khoangcach);

                                        _tbody.appendChild(_tr);

                                        _stt_rows++;
                                    }
                                    $('#table_bgt_tocdo').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 209: // quá giới hạn tốc độ
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_bgt_quatocdogioihan')) {
                                        $('#table_bgt_quagioihantocdo').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_bgt_quatocdogioihan");
                                    _tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td_stt = document.createElement("td");
                                        _td_stt.setAttribute("class", "alignCenter");
                                        _td_stt.setAttribute("align", "center");
                                        _td_stt.setAttribute("valign", "middle");
                                        _td_stt.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td_stt);

                                        var _td_bienso = document.createElement("td");
                                        _td_bienso.setAttribute("valign", "middle");
                                        _td_bienso.innerHTML = data[r].VehicleNumber;
                                        _tr.appendChild(_td_bienso);

                                        var _td_ngay = document.createElement("td");
                                        _td_ngay.setAttribute("valign", "middle");
                                        _td_ngay.innerHTML = data[r].Date;
                                        _tr.appendChild(_td_ngay);

                                        //var _td_speedstart = document.createElement("td");
                                        //_td_speedstart.setAttribute("valign", "middle");
                                        //_td_speedstart.innerHTML = data[r].SpeedStart;
                                        //_tr.appendChild(_td_speedstart);

                                        //var _td_speedend = document.createElement("td");
                                        //_td_speedend.setAttribute("valign", "middle");
                                        //_td_speedend.innerHTML = data[r].SpeedEnd;
                                        //_tr.appendChild(_td_speedend);

                                        //var _td_speedavg = document.createElement("td");
                                        //_td_speedavg.setAttribute("valign", "middle");
                                        //_td_speedavg.innerHTML = data[r].TocDoTrungBinh;
                                        //_tr.appendChild(_td_speedavg);

                                        var _td_speedmax = document.createElement("td");
                                        _td_speedmax.setAttribute("valign", "middle");
                                        _td_speedmax.innerHTML = data[r].SpeedMax;
                                        _tr.appendChild(_td_speedmax);

                                        var _td_speedlimit = document.createElement("td");
                                        _td_speedlimit.setAttribute("valign", "middle");
                                        _td_speedlimit.innerHTML = data[r].SpeedLimit;
                                        _tr.appendChild(_td_speedlimit);

                                        var _td_locationend = document.createElement("td");
                                        _td_locationend.setAttribute("valign", "middle");
                                        _td_locationend.innerHTML = data[r].toado_ketthuc;
                                        _tr.appendChild(_td_locationend);

                                        _tbody.appendChild(_tr);

                                        _stt_rows++;
                                    }
                                    $('#table_bgt_quatocdogioihan').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;
                            case 210: // thời gian lái xe liên tục
                                if (data.length > 0) {
                                    if ($.fn.DataTable.isDataTable('#table_bgt_thoigianlaixelientuc')) {
                                        $('#table_bgt_thoigianlaixelientuc').DataTable().clear().destroy();
                                    }

                                    var _tbody = document.getElementById("tbody_bgt_thoigianlaixelientuc");
                                    _tbody.innerHTML = ""; //refesh
                                    _stt_rows = 0; // stt

                                    for (var r = 0; r < data.length; r++) {
                                        var _tr = document.createElement("tr");
                                        var _td_stt = document.createElement("td");
                                        _td_stt.setAttribute("class", "alignCenter");
                                        _td_stt.setAttribute("align", "center");
                                        _td_stt.setAttribute("valign", "middle");
                                        _td_stt.innerHTML = _stt_rows + 1;
                                        _tr.appendChild(_td_stt);

                                        var _td_bienso = document.createElement("td");
                                        _td_bienso.setAttribute("valign", "middle");
                                        _td_bienso.innerHTML = data[r].VehicleNumber;
                                        _tr.appendChild(_td_bienso);

                                        var _td_timedriver = document.createElement("td");
                                        _td_timedriver.setAttribute("valign", "middle");
                                        _td_timedriver.innerHTML = data[r].TimeDriver_;
                                        _tr.appendChild(_td_timedriver);

                                        var _td_tungay = document.createElement("td");
                                        _td_tungay.setAttribute("valign", "middle");
                                        var _dt_tungay = new Date(parseInt(data[r].Start.replace('/Date(', '')));
                                        var _dateSave_tungay = _dt_tungay.getDate() + '/' + (_dt_tungay.getMonth() + 1) + '/' + _dt_tungay.getFullYear() + ' ' + _dt_tungay.getHours() + ':' + _dt_tungay.getMinutes() + ':' + _dt_tungay.getSeconds();
                                        _td_tungay.innerHTML = _dateSave_tungay;
                                        _tr.appendChild(_td_tungay);

                                        var _td_denngay = document.createElement("td");
                                        _td_denngay.setAttribute("valign", "middle");
                                        var _dt_denngay = new Date(parseInt(data[r].End.replace('/Date(', '')));
                                        var _dateSave_denngay = _dt_denngay.getDate() + '/' + (_dt_denngay.getMonth() + 1) + '/' + _dt_denngay.getFullYear() + ' ' + _dt_denngay.getHours() + ':' + _dt_denngay.getMinutes() + ':' + _dt_denngay.getSeconds();
                                        _td_denngay.innerHTML = _dateSave_denngay;
                                        _tr.appendChild(_td_denngay);

                                        var _td_AddressStart = document.createElement("td");
                                        _td_AddressStart.setAttribute("valign", "middle");
                                        _td_AddressStart.innerHTML = data[r].AddressStart;
                                        _tr.appendChild(_td_AddressStart);

                                        var _td_AddressEnd = document.createElement("td");
                                        _td_AddressEnd.setAttribute("valign", "middle");
                                        _td_AddressEnd.innerHTML = data[r].AddressEnd;
                                        _tr.appendChild(_td_AddressEnd);

                                        _tbody.appendChild(_tr);

                                        _stt_rows++;
                                    }
                                    $('#table_bgt_thoigianlaixelientuc').DataTable();
                                }
                                else {
                                    alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                                }
                                break;

                            default:
                                break;
                        }

                    }
                }
            },
            error: function () {
                obj.classList.remove('show');
                page.classList.add('show');
                alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbkhongketnoiduocdulieu)");
            },
            dataType: "json"
        });
    };
    function createChart(listdata) {
        var dData = function () {
            return Math.round(Math.random() * 90) + 10
        };

        var barChartData = {
            labels: ["KHN"],
            datasets: [{
                fillColor: "rgba(0,60,100,1)",
                strokeColor: "white",
                data: [dData()]
            }]
        }

        var index = 11;
        var ctx = document.getElementById("canvas_oil").getContext("2d");
        var barChartDemo = new Chart(ctx).Bar(barChartData, {
            responsive: true,
            barValueSpacing: 2
        });
        barChartDemo.removeData();
        for (var i = 0; i < listdata.length; i++) {
            barChartDemo.addData([(listdata[i].Oilvalue_real)], i + 1);
        }
    };
    function rangeSlider() {
        var slider = $('.range-slider'),
            range = $('.range-slider__range'),
            value = $('.range-slider__value');

        slider.each(function () {
            value.each(function () {
                var value = $(this).prev().attr('value');
                $(this).html(value);
            });
            range.on('input', function () {
                $(this).next(value).html(this.value);
                setValueText(this.value);
                var icons = line.get('icons');
                icons[0].offset = (this.value / (count_max / 100)) + '%';
                line.set('icons', icons);
            });
        });
    };
    function ClearMap() {
        infowindows = [];
        if (window.arrayMarker.length > 0) {
            for (var k = 0; k < window.arrayMarker.length; k++) {
                window.arrayMarker[k].setMap(null);
            }
        }
        window.arrayMarker = [];

    };
    function drawPointStop(listStop) {
        ClearMap();

        for (var i = 1; i < listStop.length - 1; i++) {

            var strStatus = '<div class="columnLeft"><b>Thời gian: </b></div><div id="lpnTen" class="columnRight">'
                + listStop[i].DateTime + '</div><div class="clear"></div>'
            + '<div class="columnLeft"><b>Địa điểm: </b></div><div id="lpnSdt" class="columnRight">'
            + listStop[i].Address + '</div><div class="clear"></div>'
            + '<div class="columnLeft"><b>' + listStop[i].Status + ' </b></div><div id="lpnGplx" class="columnRight">' + listStop[i].Duration
            + '</div><div class="clear"></div>';

            var onHover = '<div class="columnLeft"><b>Thời gian: </b></div><div id="lpnTen" class="columnRight">'
                + listStop[i].DateTime + '</div><div class="clear"></div>'
            + '<div class="columnLeft"><b>Địa điểm: </b></div><div id="lpnSdt" class="columnRight">'
            + listStop[i].Address + '</div><div class="clear"></div>'
            + '<div class="columnLeft"><b>' + listStop[i].Status + ' </b></div><div id="lpnGplx" class="columnRight">' + listStop[i].Duration
            + '</div><div class="clear"></div>';

            var point = new google.maps.LatLng(listStop[i].Latitude, listStop[i].Longitude);
            var markerLB = new MarkerWithLabel({
                position: point,
                //labelContent: i,
                title: listStop[i].Address + ' / ' + listStop[i].DateTime,
                map: map,
                //labelAnchor: new window.google.maps.Point(22, 0),
                labelClass: "markerlabels", // the CSS class for the label
                labelStyle: { opacity: 0.7 }
            });

            //label.bindTo('text', marker, 'position');
            //if (count == 1) {
            //    markerLB.setIcon("http://www.google.com/mapfiles/dd-start.png");
            //}
            markerLB.setIcon("/images/icon/parking_red.png");
            markerLB.setMap(map);
            attachInforwindows(markerLB, strStatus);
        }
    };
    function danhgia_click(_star) {
        switch (_star) {
            case 1:
                _danhgia = _star;
                break;
            case 2:
                _danhgia = _star;
                break;
            case 3:
                _danhgia = _star;
                break;
            case 4:
                _danhgia = _star;
                break;
            case 5:
                _danhgia = _star;
                break;
            default:
                _danhgia = 0;
                break;
        }
    };
    function insertDB_Provider(_cm, _danhgia, _chude) {
        $.ajax({
            type: 'POST',
            dataType: "json",
            url: '@(Url.Action("Recive_Feedback", "Home"))',
            data: { cmt: _cm, danhgia: _danhgia, chude: _chude },
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data == "1") { //send successful
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbgopythanhcong) Cám ơn bạn đã gửi phản hồi! Chúng tôi sẽ cố gắng nâng cấp chất lượng dịch vụ");
                    }
                    else if (data == "0") { //send faild
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbgopythatbai)");
                    }
                }
                else {
                    location.href = "Logout";
                }
            }
        });
    };
    function isEmptyOrSpaces(str) {
        return str === null || str.match(/^ *$/) !== null;
    };
    function UpdatePassword() {
        var password = document.getElementById("pw_new").value;
        var confirm_password = document.getElementById("pw_confirm").value;
        var password_old__ = document.getElementById("pw_old").value;

        if (isEmptyOrSpaces(password_old__)) {
            password_old__ = '';
            alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbnhapmatkhaucu)");
            return;
        }
        if (isEmptyOrSpaces(password)) {
            alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbnhapmatkhaumoi)");
            return;
        }
        if (isEmptyOrSpaces(confirm_password)) {
            alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbnhaplaimatkhaumoi)");
            return;
        }

        if (password != confirm_password) {
            alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbmatkhaumoikhongtrung)");
            return;
        }

        insertDB(1, password_old__, password, '', '', '', '');
    };
    function getinfoUser() {
        $.ajax({
            type: 'POST',
            url: '@(Url.Action("getInfoUser", "Home"))',
            data: {},
            success: function (data, txtStatus, XMLHttpRequest) {
                availableTags = data;
                if (data != null) {

                    if (data == '0001') { //Het Phien Dang Nhap
                        location.href = "Logout";
                    }
                    else {
                        //document.getElementById("tb_usn").value = data.LoginName;
                        document.getElementById("tb_email").value = data.Email;
                        document.getElementById("tb_address").value = data.Address;
                        document.getElementById("tb_phone").value = data.PhoneNumber;
                        document.getElementById("tb_name").value = data.FullName;
                    }
                }
                else {
                    location.href = "Logout";
                }
            },
            dataType: "json"
        });
    };
    function Update_info() {
        var txtfullname = document.getElementById("tb_name").value;
        var txtphonenumber = document.getElementById("tb_phone").value;
        var txtemail = document.getElementById("tb_email").value;
        var txtaddress = document.getElementById("tb_address").value;

        var flag = false;
        txtphonenumber = txtphonenumber.replace('(+84)', '0');
        txtphonenumber = txtphonenumber.replace('+84', '0');
        txtphonenumber = txtphonenumber.replace('0084', '0');
        txtphonenumber = txtphonenumber.replace(/ /g, '');

        if (txtphonenumber != '') {
            var firstNumber_2so = txtphonenumber.substring(0, 2);
            var firstNumber_3so = txtphonenumber.substring(0, 3);
            if (txtphonenumber.length == 10) { // 10 số
                if (firstNumber_3so == '070' || firstNumber_3so == '079' || firstNumber_3so == '077' || firstNumber_3so == '076'
                    || firstNumber_3so == '078' || firstNumber_3so == '089' || firstNumber_3so == '090' || firstNumber_3so == '093') {
                    if (txtphonenumber.match(/^\d{10}/)) {
                        flag = true;
                    }
                }// mobifone
                else if (firstNumber_3so == '086' || firstNumber_3so == '096' || firstNumber_3so == '097' || firstNumber_3so == '098'
                    || firstNumber_3so == '032' || firstNumber_3so == '033' || firstNumber_3so == '034' || firstNumber_3so == '035'
                    || firstNumber_3so == '036' || firstNumber_3so == '037' || firstNumber_3so == '038' || firstNumber_3so == '039') {
                    if (txtphonenumber.match(/^\d{10}/)) {
                        flag = true;
                    }
                }// Viettel
                else if (firstNumber_3so == '088' || firstNumber_3so == '091' || firstNumber_3so == '094' || firstNumber_3so == '083'
                    || firstNumber_3so == '084' || firstNumber_3so == '085' || firstNumber_3so == '081' || firstNumber_3so == '082') {
                    if (txtphonenumber.match(/^\d{10}/)) {
                        flag = true;
                    }
                }// Vinafone
            } else { // 11 số
                if (firstNumber_2so == '01') {
                    if (txtphonenumber.match(/^\d{11}/)) {
                        flag = true;
                    }
                }
            }
        }
        if (flag == false) {
            alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbsodienthoaikhonghople)");
            return;
        }
        insertDB(0, '', '', txtfullname, txtphonenumber, txtemail, txtaddress);
    };

    function insertDB(checkPass_, pass_old_, pass_new, txtfullname, txtphonenumber, txtemail, txtaddress) {
        $.ajax({
            type: 'POST',
            url: '@(Url.Action("ReciveChangeInfo", "Home"))',
            data: { checkPass: checkPass_, pass_old: pass_old_, password_new: pass_new, fullname: txtfullname, phone: txtphonenumber, email: txtemail, address: txtaddress },
            success: function (data, txtStatus, XMLHttpRequest) {
                availableTags = data;
                if (data != null) {
                    if (data == "1") {
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbthaydoithongtinthanhcong)");
                        //window.location.href = '/Mobile/Index';
                    }
                    else if (data == "2") {
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbthaydoimatkhauthanhcong)");
                        window.location.href = '/Home/Logout';
                    }
                    else if (data == "000") {
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbnhapdayduthongtin)");
                    }
                    else if (data == "101") {
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbemailkhonghople)");
                    }
                    else if (data == "0") {
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbcapnhatthatbai)");
                    }
                    else if (data == "102") {
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbsaimatkhaucu)");
                        document.getElementById("pw_old").focus();
                    }
                    else if (data == "0001") {
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbhetphienlamviec)");
                        window.location.href = '/Home/Logout';
                    }
                }
            },
            dataType: "json"
        });
    };

    function getInfoDevice(index) {
        var datesave_ = "@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)";
        $.ajax({
            type: 'POST',
            url: '@(Url.Action("ViewLastDataBydataid", "Home"))',
            data: { deviceid_: list_infoDevice[index].DeviceID },
            success: function (data, txtStatus, XMLHttpRequest) {
                availableTags = data; // availableTags ???
                if (data != "0000") {
                    var dtdateSave = new Date(parseInt(data.DateSave.replace('/Date(', '')));
                    datesave_ = dtdateSave.getDate() + '/' + (dtdateSave.getMonth() + 1) + '/' + dtdateSave.getFullYear() + ' ' + dtdateSave.getHours() + ':' + dtdateSave.getMinutes() + ':' + dtdateSave.getSeconds();
                }
                var content = "";
                content += "@Html.Raw(khanhhoi.vn.Resources.Language.lbbienso): " + list_infoDevice[index].VehicleNumber + "  ";
                content += "@Html.Raw(khanhhoi.vn.Resources.Language.lbimei): " + list_infoDevice[index].Imei + "  ";
                content += "@Html.Raw(khanhhoi.vn.Resources.Language.lbsim): " + list_infoDevice[index].SimNumber + "  ";
                var dtCreate = new Date(parseInt(list_infoDevice[index].DateCreate.replace('/Date(', '')));
                var Create_ = dtCreate.getDate() + '/' + (dtCreate.getMonth() + 1) + '/' + dtCreate.getFullYear();
                content += "@Html.Raw(khanhhoi.vn.Resources.Language.lbngaytao): " + Create_ + "  ";
                var dtHH = new Date(parseInt(list_infoDevice[index].DateExpired.replace('/Date(', '')));
                var End_ = dtHH.getDate() + '/' + (dtHH.getMonth() + 1) + '/' + dtHH.getFullYear();
                content += "@Html.Raw(khanhhoi.vn.Resources.Language.lbngayhethan): " + End_ + "  ";
                content += "@Html.Raw(khanhhoi.vn.Resources.Language.lbnhandulieucuoi): " + datesave_ + "  ";
                var state_gps = "@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)";
                if (data != "0000") {
                    if (data.Latitude == 0 || data.Longitude == 0) {
                        state_gps = "@Html.Raw(khanhhoi.vn.Resources.Language.lbmatgps)";
                    }
                    else {
                        state_gps = "@Html.Raw(khanhhoi.vn.Resources.Language.lbgpstot)";
                    }
                }

                //datesave_
                content += "@Html.Raw(khanhhoi.vn.Resources.Language.lbtrangthaigps): " + state_gps;
                alert(content);


            },
            dataType: "json"
        });

    };
    function getAllDevice() {
        $.ajax({
            type: 'POST',
            url: '@(Url.Action("ViewInfoDevice", "Home"))',
            data: {},
            success: function (data, txtStatus, XMLHttpRequest) {
                availableTags = data; // availableTags ???
                if (data != null) {
                    if (data == '0001') {
                        location.href = "Logout"; //Het Phien Dang Nhap
                    }
                    else {
                        list_infoDevice = data;
                        if ($.fn.DataTable.isDataTable('#table_tienich_thongtinthietbi')) {
                            $('#table_tienich_thongtinthietbi').DataTable().clear().destroy();
                        }
                        var _tbody = document.getElementById("tbody_tienich_thongtinthietbi");
                        _tbody.innerHTML = ""; //refesh new list
                        _stt_rows = 0; // stt

                        for (var i = 0; i < data.length; i++) {
                            var _tr = document.createElement("tr");
                            var _td0 = document.createElement("td");
                            _td0.setAttribute("class", "alignCenter");
                            _td0.setAttribute("align", "center");
                            _td0.setAttribute("valign", "middle");
                            _td0.innerHTML = _stt_rows + 1;
                            _tr.appendChild(_td0);

                            var _td_bienso = document.createElement("td");
                            _td_bienso.setAttribute("class", "alignCenter");
                            _td_bienso.setAttribute("align", "center");
                            _td_bienso.setAttribute("valign", "middle");
                            _td_bienso.setAttribute("onclick", "getInfoDevice(" + i + ")");
                            var _a1 = document.createElement("a");
                            _a1.setAttribute("href", "#");
                            _a1.innerHTML = data[i].VehicleNumber;
                            _td_bienso.appendChild(_a1);
                            _tr.appendChild(_td_bienso);

                            _tbody.appendChild(_tr);
                            _stt_rows++;
                        }
                        $('#table_tienich_thongtinthietbi').DataTable();
                    }
                }
            },
            dataType: "json"
        }); giamsat_toggle
    };
    function closeInfoWindows() {
        for (var i = 0; i < infowindows.length; i++) {
            infowindows[i].close();
        }
        for (var i = 0; i < infowindowcop.length; i++) {
            infowindowcop[i].close();
        }

    };
    function attachInforwindows(marker, string_) {
        var infowindow = new google.maps.InfoWindow({
            content: '<div class="infowdLoTrinh" style="background-color:white;">' + string_ + '</div>'
        });
        arrayMarker.push(marker);
        infowindows.push(infowindow);
        google.maps.event.addListener(marker, 'click', function (event) {
            closeInfoWindows(); //Đóng các Infowindows đang mở
            infowindow.open(map, marker);
        });
        google.maps.event.addListener(infowindow, 'domready', function () {

            // Reference to the DIV which receives the contents of the infowindow using jQuery
            var iwOuter = $('.gm-style-iw');

            /* The DIV we want to change is above the .gm-style-iw DIV.
             * So, we use jQuery and create a iwBackground variable,
             * and took advantage of the existing reference to .gm-style-iw for the previous DIV with .prev().
             */
            var iwBackground = iwOuter.prev();

            //// Remove the background shadow DIV
            iwBackground.children(':nth-child(2)').css({ 'display': 'none' });

            //// Remove the white background DIV
            iwBackground.children(':nth-child(4)').css({ 'display': 'none' });
            // iwOuter.parent().parent().css({ left: '80px' });
            iwBackground.children(':nth-child(1)').attr('style', function (i, s) { return s + 'left: 16px !important;' });

            //// Moves the arrow 76px to the left margin
            //iwBackground.children(':nth-child(3)').attr('style', function (i, s) { return s + 'left: 76px !important;' });
            iwBackground.children(':nth-child(3)').find('div').children().css({ 'box-shadow': 'rgba(72, 181, 233, 0.6) 0px 1px 6px', 'z-index': '1' });
            var iwCloseBtn = iwOuter.next();

            // Apply the desired effect to the close button
            iwCloseBtn.css({
                height: '15px',
                width: '15px',
                top: '18px',
                left: '353px',
                opacity: '0.7', // by default the close button has an opacity of 0.7
                //   right: '8px', top: '3px', // button repositioning
                border: '1px solid #48b5e9', // increasing button border and new color
                'border-radius': '13px', // circular effect
                //'box-shadow': '0 0 5px #3990B9' // 3D effect to highlight the button
            });

            // The API automatically applies 0.7 opacity to the button after the mouseout event.
            // This function reverses this event to the desired value.
            iwCloseBtn.mouseout(function () {
                $(this).css({ opacity: '1' });
            });
        });
    };

    function SetupLine(listdata, _CategoryID, state) {

        lotrinhpoint = [];
        var _Speed = 0, _SpeedMaxTmp = 0, _CountSpeed = 0;
        var _tuluc;

        var SouDes = {
            path: 'M -2,-2 2,2 M 2,-2 -2,2',
            fillColor: '#FF0000',
            fillOpacity: 0.8,
            scale: 4,
            strokeColor: '#FF0000',
            strokeWeight: 4
        };
        var contentString2 = '';
        for (var i = 0; i < listdata.length; i++) {
            if (state == 1) {
                //  var _thoigianbatdau = listdata[0].Date_to;
                var point = new google.maps.LatLng(listdata[i].Latitude, listdata[i].Longitude);
                lotrinhpoint.push(point);
                if ((i == listdata.length - 1)) {
                    if (_ArrMarkerDes.length > 0) {
                        Gmarker_lotrinh_end = _ArrMarkerDes[0];
                        Gmarker_lotrinh_end.setMap(null);
                        _ArrMarkerDes = [];
                    }
                    var _GmarkerTMP = new google.maps.Marker({
                        position: point,
                        clickable: true,
                        icon: SouDes
                    });
                    _ArrMarkerDes.push(_GmarkerTMP);
                    Gmarker_lotrinh_end = _ArrMarkerDes[0];
                    Gmarker_lotrinh_end.setMap(map);


                    contentString2 = '<div><span style="font-size:14px; font-weight:bold;">@Html.Raw(khanhhoi.vn.Resources.Language.lbtuluc): </span>'
                    + '<span style="font-size:14px;">' + _distance[0].Date_from + '</span></div>'
                    + '<div><span style="font-size:14px; font-weight:bold;">@Html.Raw(khanhhoi.vn.Resources.Language.lbdenluc): </span>'
                    + '<span style="font-size:14px;">' + _distance[0].Date_to + '</span></div>'
                    + '<div><span style="font-size:14px; font-weight:bold;">@Html.Raw(khanhhoi.vn.Resources.Language.lbdiadiem): </span></div>'
                    + '<div><span style="font-size:14px;">' + listdata[i].Addr + '</span></div>'
                    + '<div><span style="font-size:14px; font-weight:bold;">@Html.Raw(khanhhoi.vn.Resources.Language.lbtocdotrungbinh): </span>'
                    + '<span style="font-size:14px;">' + _distance[0].SpeedAVG + '</span></div>'
                    + '<div><span style="font-size:14px; font-weight:bold;">@Html.Raw(khanhhoi.vn.Resources.Language.lbtocdotoida): </span>'
                    + '<span style="font-size:14px;">' + _distance[0].SpeedMax + '</span></div>'
                + '<div><span style="font-size:14px; font-weight:bold;">@Html.Raw(khanhhoi.vn.Resources.Language.lbquangduong): </span>'
               + '<span style="font-size:14px;">' + _distance[0].Distances + ' Km</span></div>';




                    google.maps.event.addListener(Gmarker_lotrinh_end, 'click', (function (Gmarker_lotrinh_end, contentString2, _infowindow) {
                        return function () {
                            _infowindow.setContent(contentString2);
                            _infowindow.open(map, Gmarker_lotrinh_end);
                        };
                    })(Gmarker_lotrinh_end, contentString2, _infowindow));
                }
            }



        }

        var symbolSource = {
            path: 'M -2,-2 2,2 M 2,-2 -2,2',
            strokeColor: '#292',
            strokeWeight: 4,
            scale: 4
        };

        var symbolDestination = { // hide symbolDestination do điểm cuối tạo marker để xử lý infowindow
            //path: 'M -2,-2 2,2 M 2,-2 -2,2',
            //strokeOpacity: 0.8,
            //strokeColor: '#FF0000',
            //strokeWeight: 4
        };

        line1 = new google.maps.Polyline({
            path: lotrinhpoint,
            icons: [{
                icon: symbolSource,
                offset: '0%'
            }, {
                icon: symbolDestination,
                offset: '100%'
            }],
            strokeColor: '#ff8000',
            map: map
        });

        var _Symbol_arrow = {
            path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
            fillOpacity: 1, // 0.8, độ trong suốt bên trong
            fillColor: '#3ADF00', // màu xe
            strokeColor: '#190707', // màu viền
            strokeOpacity: 1, // độ trong suốt viền
            strokeWeight: 1.5, // độ rộng viền
            scale: 6
        };
        var _SVG_xedulich = {
            path: 'M100.079,60.742c0.018,1.316-1.748,9.024-1.441,18.999c0.654,21.309,1.363,52.963-0.471,54.744     c-3.248,3.154-47.857,2.615-50.029,0c-1.627-1.957-0.996-33.498-0.412-54.746c0.273-9.973-1.523-17.677-1.508-18.996     c0.072-5.602-1.924-31.316-0.221-45.779c1.107-9.428,2.768-8.209,8.873-10.355c9.051-3.182,27.256-3.52,36.563,0     c6.613,2.502,7.764,0.928,8.875,10.355C102.009,29.426,100.011,55.141,100.079,60.742z' +
                'M100.866,39.122c-0.086,0.539-0.068,1.014-0.068,1.014l8.139,1.951c0,0,0.129-0.223,0.211-0.535      L100.866,39.122z' +
                'M45.497,39.209c0.088,0.537,0.068,1.014,0.068,1.014l-8.139,1.949c0,0-0.129-0.223-0.211-0.535      L45.497,39.209z' +
                'M84.593,43.305c-5.357-0.529-17.523-0.529-22.883,0c-4.855,0.479-8.334,1.42-9.619,1.807     l-3.113-12.488c0.266-0.209,0.789-0.416,1.615-0.668c1.887-0.574,5.166-1.529,10.301-2.314c7.365-1.125,17.15-1.125,24.518,0     c5.133,0.785,8.412,1.74,10.299,2.314c0.826,0.252,1.35,0.459,1.615,0.668l-3.113,12.488     C92.925,44.725,89.448,43.784,84.593,43.305z' +
                'M98.751,11.612c0.059-0.445,0.459-1.695-0.15-2.859c-0.789-1.518-4.24-3.086-6.494-3.756      C92.804,8.596,97.169,10.85,98.751,11.612z' +
                'M48.169,11.612c-0.061-0.445-0.459-1.695,0.15-2.859c0.787-1.518,4.24-3.086,6.494-3.756      C54.114,8.596,49.749,10.85,48.169,11.612z' +
                'M59.524,51.239c0-0.551-0.32-0.998-0.711-0.998l0,0c-0.395,0-0.711,0.447-0.711,0.998v77.015      c0,0.553,0.316,0.998,0.711,0.998l0,0c0.391,0,0.711-0.445,0.711-0.998V51.239z' +
                'M74.507,51.239c0-0.551-0.32-0.998-0.711-0.998l0,0c-0.395,0-0.711,0.447-0.711,0.998v77.015      c0,0.553,0.316,0.998,0.711,0.998l0,0c0.391,0,0.711-0.445,0.711-0.998V51.239z' +
                'M88.329,51.239c0-0.551-0.316-0.998-0.709-0.998l0,0c-0.393,0-0.711,0.447-0.711,0.998v77.015      c0,0.553,0.318,0.998,0.711,0.998l0,0c0.393,0,0.709-0.445,0.709-0.998V51.239z' +
                'M86.647,3.094V8.27H59.655V3.094C67.86,1.064,78.444,1.064,86.647,3.094z',
            anchor: new google.maps.Point(75, 75),
            scale: 0.4,
            fillOpacity: 0.8,
            fillColor: 'green',
            strokeColor: 'black',
            strokeOpacity: 1,
            strokeWeight: 1
        };
        var _SVG_xekhach = {
            path: 'M65.52,180.566c0,0,4.534,13.979,5.585,13.979h51.719c1.051,0,5.582-13.979,5.582-13.979H65.52z' +
                'M123.563,191.459c0-0.543-0.578-0.98-1.291-0.98h-6.096c-0.713,0-1.291,0.438-1.291,0.98l0,0   c0,0.541,0.578,0.98,1.291,0.98h6.096C122.984,192.439,123.563,192,123.563,191.459L123.563,191.459z' +
                'M70.478,191.459c0-0.543,0.579-0.98,1.292-0.98h6.096c0.712,0,1.29,0.438,1.29,0.98l0,0   c0,0.541-0.578,0.98-1.29,0.98H71.77C71.057,192.439,70.478,192,70.478,191.459L70.478,191.459z' +
                'M123.814,186.346c-17.791,4.209-35.795,4.209-53.588,0c-3.021-1.732-2.12-3.463-3.712-5.193   c0.077-0.172,0.143-0.357,0.199-0.553c10.066,2.525,20.187,1.381,30.308,1.381c9.872,0,19.745,1.08,29.565-1.209   c0.078,0.436,0.197,0.84,0.357,1.184C126.119,183.418,126.367,184.883,123.814,186.346z' +
                'M63.79,183.604c0-0.615-0.497-2.227-1.112-2.227h-5.715c-1.852,0-1.447,1.986-1.112,2.227    c0,0,0.498,0,1.112,0h5.715C63.292,183.604,63.79,183.604,63.79,183.604z' +
                'M130.689,184.205c0-0.613,0.496-2.225,1.111-2.225h5.715c1.854,0,1.447,1.986,1.113,2.225    c0,0-0.498,0-1.113,0h-5.715C131.186,184.205,130.689,184.205,130.689,184.205z' +
                'M128.406,180.566c0,1.58-14.051,2.043-31.386,2.043c-17.333,0-31.384-0.463-31.384-2.043V7.378   c0-0.916,62.77-1.109,62.77,0V180.566z' +
                'M87.273,151.736v9.723c0,1.17,0.947,2.119,2.119,2.119h13.981c1.172,0,2.119-0.949,2.119-2.119    v-9.723c0-1.17-0.947-2.119-2.119-2.119H89.392C88.22,149.617,87.273,150.566,87.273,151.736z' +
                'M86.288,78.89v37.917c0,1.297,1.051,2.348,2.349,2.348h15.493c1.299,0,2.35-1.051,2.35-2.348    V78.89c0-1.297-1.051-2.348-2.35-2.348H88.636C87.338,76.542,86.288,77.593,86.288,78.89z' +
                'M69.435,181.742c-2.422-0.297-3.799-0.682-3.799-1.176V7.378c0-0.138,1.412-0.258,3.799-0.361   V181.742z' +
                'M124.607,181.742c2.422-0.297,3.799-0.682,3.799-1.176V7.378c0-0.138-1.41-0.258-3.799-0.361   V181.742z' +
                'M87.273,33.944v9.724c0,1.169,0.947,2.119,2.119,2.119h13.981c1.172,0,2.119-0.949,2.119-2.119    v-9.724c0-1.17-0.947-2.119-2.119-2.119H89.392C88.22,31.826,87.273,32.774,87.273,33.944z',
            anchor: new google.maps.Point(95, 95),
            scale: 0.3,
            fillOpacity: 0.8,
            fillColor: 'green',
            strokeColor: 'black',
            strokeOpacity: 1,
            strokeWeight: 1,
            rotation: 180
        };
        var _SVG_xecon = {
            path: 'M94.292,30.325c-0.627-5.274-1.6-8.015-3.254-10.196c-0.676,0.165-1.408,0.033-2.023-0.437   c-2.375-1.813-3.561-2.72-5.922-4.54c-0.622-0.479-0.998-1.209-1.096-1.984c-0.279-0.103-0.566-0.2-0.857-0.295   c0.016,2.332,0.021,3.496,0.037,5.828c-8.048,0.047-16.096,0.047-24.144,0c0.015-2.332,0.021-3.496,0.036-5.826   c-0.291,0.093-0.578,0.191-0.855,0.293c-0.1,0.775-0.474,1.505-1.096,1.984c-2.363,1.82-3.549,2.728-5.923,4.54   c-0.616,0.47-1.347,0.603-2.022,0.437c-1.655,2.182-2.625,4.919-3.254,10.195c-1.644,13.802,0.6,27.872,0.486,41.483   c-0.134,16.073-3.776,36.966,0.657,52.679c0.324,1.15,1.232,2.131,2.469,2.938c0.267-0.123,0.589-0.199,0.986-0.193   c2.216,0.027,3.282,1.496,5.737,1.098c1.62-0.262,2.158,1.094,2.339,2.049c1.453,0.24,2.912,0.418,4.296,0.551   c0.228-0.316,0.597-0.523,1.015-0.521c4.795,0.018,9.591,0.018,14.385,0c0.42-0.002,0.789,0.205,1.017,0.525   c1.034-0.102,2.11-0.227,3.194-0.383c0.15-0.953,0.656-2.49,2.373-2.211c2.455,0.4,3.521-1.072,5.736-1.096   c0.691-0.008,1.164,0.219,1.492,0.535c1.539-0.871,2.678-1.967,3.051-3.291c4.432-15.713,0.791-36.607,0.654-52.679   C93.69,58.198,95.935,44.125,94.292,30.325z' +
                'M92.794,31.216c-0.656-6.36-2.936-10.464-7.616-14.304c-7.521-6.171-24.622-6.174-32.144,0   c-4.679,3.84-6.963,7.945-7.616,14.304c-1.354,13.203,0.578,26.818,0.475,39.929c-0.121,15.536-4.14,36.876,0.638,50.704   c2.341,6.773,16.4,6.592,22.575,6.537c6.175,0.055,20.229,0.236,22.575-6.539c4.783-13.828,0.756-35.178,0.637-50.702   C92.216,58.037,94.153,44.42,92.794,31.216z' +
                'M59.297,60.445c-4.139,0.551-7.158,1.758-8.267,2.241c0.123,0.771,0.184,1.158,0.307,1.93   c0,0,3.319-1.771,8.375-2.465c6.09-0.836,12.698-0.838,18.787,0c5.058,0.696,8.375,2.464,8.375,2.464   c0.122-0.773,0.184-1.158,0.305-1.93c-1.107-0.482-4.125-1.69-8.266-2.24C72.549,59.6,65.661,59.6,59.297,60.445z' +
                'M49.907,45.889c1.614-0.715,4.429-1.929,8.782-2.879c6.77-1.475,14.064-1.475,20.835,0   c4.353,0.951,7.167,2.164,8.78,2.879c0.705,0.312,1.154,0.569,1.385,0.834c0.004-0.024,0.006-0.036,0.008-0.059   c0,0,0.283-1.395,0.088-1.767c-0.168-0.322-0.65-0.621-1.5-0.999c-1.611-0.715-4.424-1.929-8.772-2.877   c-6.762-1.476-14.053-1.476-20.814,0c-4.347,0.949-7.16,2.162-8.771,2.877c-0.85,0.378-1.332,0.676-1.5,0.999   c-0.195,0.372,0.087,1.767,0.087,1.767c0.003,0.023,0.006,0.036,0.009,0.059C48.753,46.459,49.202,46.201,49.907,45.889z' +
                'M59.297,60.445c6.364-0.845,13.252-0.845,19.616,0c4.141,0.55,7.158,1.758,8.266,2.24   c0.846-5.319,1.682-10.64,2.51-15.962c-0.23-0.265-0.68-0.522-1.385-0.834c-1.613-0.716-4.428-1.929-8.78-2.879   c-6.771-1.475-14.065-1.475-20.835,0c-4.353,0.95-7.168,2.163-8.782,2.879c-0.706,0.312-1.154,0.571-1.384,0.834   c0.826,5.323,1.667,10.644,2.508,15.963C52.139,62.203,55.158,60.996,59.297,60.445z' +
                'M86.215,106.429c-0.121-0.672-0.312-1.381-0.505-2.068c0,0-0.239,0.135-0.721,0.332   c-5.031,2.061-10.693,2.529-15.883,2.504c-5.217-0.025-10.749-0.654-15.876-2.545c-0.477-0.176-0.73-0.291-0.73-0.291   c-0.185,0.666-0.371,1.35-0.489,2c-0.75,4.143-1.12,8.438-0.803,12.801c0,0,3.689,1.789,8.84,2.697   c5.784,1.016,12.332,1.016,18.115,0c5.15-0.908,8.841-2.697,8.841-2.697C87.317,114.823,86.955,110.55,86.215,106.429z    M85.738,117.509c0,0-3.433,1.783-8.216,2.686c-5.348,1.01-11.486,1.012-16.834,0c-4.785-0.904-8.215-2.686-8.215-2.686   s-0.446-5.094,0.417-10.893c5.331,1.469,10.879,2.043,16.216,2.051c5.324,0.008,10.918-0.426,16.229-1.963   C86.183,112.464,85.738,117.509,85.738,117.509z' +
                'M52.891,106.616c-0.863,5.799-0.417,10.893-0.417,10.893s3.43,1.781,8.215,2.686   c5.348,1.012,11.486,1.01,16.834,0c4.783-0.902,8.216-2.686,8.216-2.686s0.444-5.045-0.403-10.805   c-5.311,1.537-10.904,1.971-16.229,1.963C63.77,108.659,58.222,108.085,52.891,106.616z' +
                'M47.129,80.905c1.414,0.514,2.123,0.771,3.539,1.285c-0.154-5.492-0.306-10.986-0.456-16.479    c-1.061-6.517-2.106-13.037-3.144-19.559c-0.23,4.063-0.235,8.164-0.135,12.182c0.123,4.882,0.568,9.91,0.535,14.822    C47.443,76.956,47.255,79.573,47.129,80.905z' +
                'M91.081,80.903c-1.414,0.516-2.121,0.771-3.537,1.285c0.154-5.491,0.307-10.984,0.455-16.478    c1.063-6.517,2.105-13.037,3.145-19.559c0.229,4.063,0.234,8.162,0.135,12.181c-0.121,4.884-0.568,9.909-0.535,14.821    C90.769,76.954,90.933,79.608,91.081,80.903z' +
                'M47.009,82.427c1.465,0.654,2.196,0.982,3.664,1.633c0.097,4.594,0.192,9.186,0.289,13.777    c0,0-0.336,1.709-1.751,4.516c-1.613,3.201-2.466,4.088-2.466,4.088C46.67,98.456,46.464,90.397,47.009,82.427z' +
                'M91.204,82.425c-1.467,0.654-2.197,0.982-3.666,1.635c-0.096,4.592-0.193,9.186-0.289,13.777    c0,0,0.336,1.709,1.752,4.516c1.613,3.201,2.467,4.09,2.467,4.09C91.54,98.454,91.743,90.397,91.204,82.425z' +
                'M49.195,19.693c2.374-1.812,3.56-2.72,5.923-4.54c0.622-0.479,0.996-1.209,1.096-1.984    c-1.679,0.62-3.118,1.387-4.193,2.306c-2.082,1.779-3.648,3.076-4.848,4.656C47.849,20.295,48.58,20.163,49.195,19.693z' +
                'M83.093,15.153c2.361,1.82,3.547,2.728,5.922,4.54c0.615,0.469,1.348,0.601,2.023,0.437    c-1.199-1.581-2.766-2.876-4.848-4.655c-1.076-0.919-2.515-1.686-4.193-2.306C82.095,13.944,82.471,14.673,83.093,15.153z' +
            'M98.015,51.214c-0.451-0.617-4.492-1.87-4.492-1.87c-0.797-0.264-1.059,0.481-1.145,1.11    c2.316,0.708,3.477,1.06,5.799,1.759C98.241,51.93,98.257,51.547,98.015,51.214z' +
            'M44.674,49.22c0,0-4.043,1.254-4.493,1.87c-0.27,0.368-0.223,0.795-0.143,1.083    c2.317-0.705,3.476-1.06,5.79-1.771C45.753,49.76,45.5,48.947,44.674,49.22z',
            anchor: new google.maps.Point(70, 70),
            scale: 0.4,
            fillOpacity: 0.8,
            fillColor: 'green',
            strokeColor: 'black',
            strokeOpacity: 1.5,
            strokeWeight: 0.5
        };
        var _SVG_xemay = {
            path: 'M 17.089844 1.667969 C 16.121094 1.925781 15.382812 2.75 15.164062 3.796875 C 15.117188 4.023438 15.101562 4.328125 15.101562 5.179688 L 15.101562 6.273438 L 14.449219 6.605469 C 12.308594 7.703125 10.757812 8.617188 10.222656 9.09375 C 9.527344 9.710938 9.007812 11.140625 8.710938 13.25 C 8.632812 13.808594 8.640625 14.027344 8.734375 14.417969 C 8.753906 14.496094 8.746094 14.496094 7.945312 14.519531 C 6.535156 14.558594 6.105469 14.703125 5.117188 15.496094 C 4.78125 15.761719 3.722656 16.804688 3.371094 17.203125 L 3.148438 17.460938 L 3.191406 17.640625 C 3.21875 17.742188 3.265625 17.910156 3.292969 18.019531 L 3.351562 18.214844 L 3.683594 18.292969 C 4.5625 18.496094 5.605469 18.617188 6.125 18.578125 C 6.796875 18.527344 7.207031 18.386719 7.792969 18.007812 C 8.179688 17.757812 8.421875 17.558594 8.851562 17.144531 L 9.167969 16.84375 L 9.144531 17.464844 C 9.128906 17.808594 9.113281 18.097656 9.097656 18.109375 C 9.085938 18.121094 8.097656 18.441406 6.90625 18.824219 C 5.710938 19.207031 4.675781 19.550781 4.601562 19.585938 C 4.089844 19.839844 3.992188 20.527344 4.40625 20.929688 L 4.527344 21.046875 L 4.34375 21.179688 C 4.125 21.34375 3.835938 21.757812 3.726562 22.054688 C 3.6875 22.171875 3.636719 22.382812 3.613281 22.527344 C 3.585938 22.699219 3.574219 24.628906 3.582031 28.503906 C 3.59375 33.710938 3.601562 34.242188 3.660156 34.429688 C 3.753906 34.734375 3.894531 34.996094 4.101562 35.246094 L 4.289062 35.476562 L 4.226562 35.625 C 4.1875 35.730469 4.167969 35.921875 4.167969 36.25 C 4.164062 36.679688 4.175781 36.746094 4.269531 36.964844 C 4.324219 37.097656 4.429688 37.292969 4.496094 37.394531 C 4.574219 37.511719 5.714844 38.589844 7.453125 40.191406 L 10.277344 42.796875 L 10.289062 43.699219 C 10.296875 44.484375 10.308594 44.640625 10.378906 44.898438 C 10.558594 45.542969 10.839844 46.085938 11.234375 46.5625 L 11.453125 46.820312 L 11.292969 47.003906 C 10.347656 48.054688 9.972656 50.714844 10.441406 52.953125 C 10.722656 54.285156 11.203125 55.363281 12.101562 56.695312 C 12.21875 56.863281 12.289062 57.007812 12.289062 57.074219 C 12.289062 57.136719 12.125 58.496094 11.925781 60.097656 C 11.730469 61.699219 11.558594 63.128906 11.542969 63.277344 C 11.457031 64.21875 12.09375 65.109375 13.046875 65.394531 C 13.339844 65.480469 13.890625 65.472656 14.195312 65.378906 C 14.660156 65.234375 15.035156 64.960938 15.289062 64.582031 C 15.515625 64.246094 15.59375 63.984375 15.675781 63.351562 C 15.71875 63.039062 15.757812 62.757812 15.761719 62.726562 C 15.765625 62.695312 15.835938 62.765625 15.921875 62.878906 C 16.144531 63.195312 16.488281 63.609375 16.878906 64.058594 C 17.125 64.335938 17.234375 64.492188 17.234375 64.554688 C 17.234375 64.632812 17.25 64.648438 17.304688 64.632812 C 17.34375 64.621094 17.390625 64.632812 17.402344 64.65625 C 17.449219 64.734375 17.5 64.695312 17.5 64.574219 C 17.503906 64.46875 17.539062 64.425781 17.714844 64.28125 C 18.070312 64 18.914062 63.167969 19.078125 62.9375 C 19.164062 62.824219 19.242188 62.726562 19.253906 62.726562 C 19.265625 62.726562 19.300781 62.910156 19.324219 63.132812 C 19.347656 63.359375 19.394531 63.671875 19.429688 63.824219 C 19.578125 64.566406 20.144531 65.179688 20.882812 65.394531 C 21.148438 65.46875 21.675781 65.472656 21.96875 65.398438 C 22.710938 65.203125 23.308594 64.5625 23.457031 63.800781 C 23.527344 63.449219 23.558594 63.800781 23.109375 60.132812 C 22.910156 58.527344 22.746094 57.164062 22.742188 57.101562 C 22.738281 57.019531 22.824219 56.863281 23.050781 56.523438 C 23.53125 55.808594 23.867188 55.1875 24.078125 54.664062 C 24.625 53.277344 24.835938 52.109375 24.792969 50.667969 C 24.742188 48.933594 24.363281 47.652344 23.691406 46.941406 L 23.429688 46.671875 L 23.632812 46.433594 C 24.164062 45.808594 24.492188 45.113281 24.613281 44.347656 C 24.660156 44.0625 24.644531 42.886719 24.589844 42.570312 L 24.570312 42.4375 L 27.074219 40.132812 C 28.453125 38.867188 29.679688 37.722656 29.808594 37.59375 C 30.0625 37.335938 30.28125 36.949219 30.363281 36.628906 C 30.429688 36.34375 30.421875 35.859375 30.34375 35.59375 L 30.277344 35.378906 L 30.453125 35.164062 C 30.644531 34.933594 30.742188 34.757812 30.867188 34.433594 L 30.949219 34.222656 L 30.960938 28.371094 C 30.972656 21.945312 30.984375 22.257812 30.742188 21.757812 C 30.6875 21.632812 30.539062 21.425781 30.417969 21.300781 L 30.203125 21.0625 L 30.347656 20.988281 C 30.636719 20.84375 30.777344 20.597656 30.777344 20.246094 C 30.777344 19.996094 30.6875 19.796875 30.496094 19.628906 C 30.390625 19.539062 30.152344 19.445312 29.34375 19.1875 C 28.785156 19.003906 27.789062 18.6875 27.136719 18.472656 L 25.949219 18.089844 L 25.929688 17.9375 C 25.917969 17.851562 25.902344 17.574219 25.894531 17.320312 L 25.886719 16.863281 L 26.207031 17.167969 C 27.050781 17.953125 27.789062 18.402344 28.457031 18.527344 C 28.777344 18.582031 29.632812 18.582031 30.09375 18.527344 C 30.46875 18.476562 31.472656 18.28125 31.617188 18.222656 C 31.6875 18.199219 31.722656 18.121094 31.804688 17.828125 L 31.90625 17.464844 L 31.640625 17.171875 C 30.953125 16.398438 30.089844 15.589844 29.503906 15.171875 C 28.824219 14.683594 28.335938 14.550781 27.09375 14.519531 C 26.402344 14.5 26.289062 14.488281 26.308594 14.441406 C 26.363281 14.292969 26.40625 13.824219 26.382812 13.601562 C 26.265625 12.492188 25.9375 11.09375 25.597656 10.273438 C 25.300781 9.535156 24.960938 9.132812 24.234375 8.648438 C 23.523438 8.175781 21.957031 7.296875 20.785156 6.710938 L 20.324219 6.480469 L 20.304688 5.238281 C 20.289062 4.144531 20.277344 3.960938 20.207031 3.695312 C 19.957031 2.722656 19.324219 2.019531 18.425781 1.699219 C 18.09375 1.582031 17.453125 1.566406 17.089844 1.667969 Z M 12.785156 11.230469 C 12.820312 11.199219 13.457031 11.210938 14.683594 11.265625 C 15.367188 11.296875 17.058594 11.367188 18.449219 11.421875 C 22.324219 11.566406 22.484375 11.574219 22.523438 11.613281 C 22.582031 11.679688 23.007812 13.003906 23.160156 13.617188 C 23.246094 13.949219 23.347656 14.433594 23.394531 14.695312 C 23.484375 15.265625 23.535156 15.890625 23.484375 15.859375 C 23.402344 15.8125 22.066406 15.433594 21.363281 15.265625 C 19.3125 14.769531 17.511719 14.558594 16.101562 14.652344 C 14.695312 14.742188 13.179688 15.097656 12.015625 15.609375 C 11.492188 15.835938 11.527344 15.839844 11.550781 15.582031 C 11.613281 14.808594 11.742188 14.121094 11.988281 13.226562 C 12.15625 12.625 12.402344 11.835938 12.523438 11.535156 C 12.566406 11.425781 12.613281 11.304688 12.632812 11.253906 C 12.660156 11.1875 12.683594 11.179688 12.722656 11.207031 C 12.75 11.230469 12.777344 11.242188 12.785156 11.230469 Z M 27.3125 20.285156 C 27.992188 20.503906 28.578125 20.695312 28.609375 20.703125 C 28.648438 20.71875 28.617188 20.746094 28.511719 20.789062 C 28.074219 20.96875 27.675781 21.332031 27.472656 21.75 C 27.230469 22.234375 27.238281 21.957031 27.242188 28.238281 C 27.242188 31.382812 27.253906 34.03125 27.273438 34.113281 L 27.304688 34.273438 L 27.085938 34.4375 C 26.96875 34.527344 25.992188 35.414062 24.914062 36.402344 C 22.496094 38.628906 22.597656 38.539062 22.582031 38.519531 C 22.574219 38.511719 22.589844 38.382812 22.617188 38.238281 C 22.699219 37.765625 22.953125 37.253906 23.28125 36.882812 L 23.453125 36.691406 L 23.492188 36.859375 L 23.535156 37.027344 L 24.695312 35.300781 L 25.851562 33.578125 L 25.84375 30.890625 C 25.835938 28.039062 25.792969 26.695312 25.699219 26.058594 C 25.574219 25.214844 25.230469 23.921875 24.75 22.480469 C 24.484375 21.679688 24.472656 21.648438 24.378906 21.65625 C 24.289062 21.660156 24.277344 21.644531 24.257812 21.464844 C 24.203125 21.019531 24.1875 21.046875 24.605469 20.886719 C 24.808594 20.8125 25.207031 20.65625 25.488281 20.550781 L 26.003906 20.351562 L 26.015625 20.117188 C 26.023438 19.992188 26.035156 19.886719 26.046875 19.886719 C 26.058594 19.886719 26.625 20.0625 27.3125 20.285156 Z M 9.042969 20.136719 L 9.035156 20.34375 L 10.480469 20.898438 L 10.714844 21.253906 C 10.847656 21.449219 10.953125 21.625 10.953125 21.644531 C 10.957031 21.660156 10.863281 21.664062 10.746094 21.648438 C 10.570312 21.628906 10.539062 21.632812 10.539062 21.6875 C 10.539062 21.714844 10.441406 22.03125 10.324219 22.378906 C 9.898438 23.660156 9.550781 24.941406 9.398438 25.773438 C 9.261719 26.539062 9.242188 27.050781 9.21875 30.332031 L 9.199219 33.5625 L 10.351562 35.289062 C 11.519531 37.035156 11.554688 37.074219 11.5625 36.789062 C 11.566406 36.738281 11.582031 36.703125 11.597656 36.710938 C 11.667969 36.738281 11.949219 37.09375 12.09375 37.339844 C 12.335938 37.753906 12.445312 38.125 12.464844 38.65625 L 12.488281 39.109375 L 12.378906 39.011719 C 12.320312 38.953125 11.214844 37.941406 9.929688 36.761719 C 8.644531 35.574219 7.523438 34.558594 7.445312 34.503906 L 7.300781 34.402344 L 7.304688 28.445312 C 7.304688 21.882812 7.320312 22.300781 7.070312 21.804688 C 6.917969 21.503906 6.558594 21.136719 6.269531 20.984375 L 6.035156 20.859375 L 6.910156 20.578125 C 7.386719 20.425781 8.027344 20.214844 8.332031 20.113281 C 9.0625 19.871094 9.050781 19.871094 9.042969 20.136719 Z M 18.246094 28.144531 C 18.734375 28.222656 19.34375 28.480469 19.816406 28.8125 C 19.953125 28.914062 20.222656 29.148438 20.410156 29.335938 C 22.128906 31.0625 22.726562 34.089844 21.871094 36.726562 C 21.285156 38.527344 20.082031 39.839844 18.613281 40.292969 C 18.304688 40.386719 18.226562 40.394531 17.632812 40.394531 C 17.035156 40.394531 16.960938 40.386719 16.644531 40.289062 C 14.796875 39.722656 13.390625 37.773438 13.066406 35.320312 C 13.003906 34.816406 12.992188 33.804688 13.050781 33.332031 C 13.363281 30.742188 14.804688 28.734375 16.730469 28.203125 C 17.160156 28.085938 17.726562 28.066406 18.246094 28.144531 Z M 13.140625 58.265625 C 13.953125 59.488281 14.207031 59.96875 14.328125 60.542969 C 14.449219 61.117188 14.730469 61.609375 15.25 62.167969 L 15.527344 62.457031 L 15.429688 63.1875 C 15.34375 63.851562 15.320312 63.941406 15.195312 64.195312 C 15.015625 64.5625 14.738281 64.835938 14.359375 65.027344 C 14.066406 65.171875 14.058594 65.171875 13.601562 65.171875 C 13.152344 65.171875 13.140625 65.167969 12.847656 65.03125 C 12.304688 64.773438 11.9375 64.296875 11.832031 63.710938 C 11.789062 63.480469 11.8125 63.261719 12.160156 60.425781 C 12.363281 58.753906 12.539062 57.386719 12.546875 57.386719 C 12.550781 57.386719 12.820312 57.785156 13.140625 58.265625 Z M 22.863281 60.328125 C 23.0625 61.933594 23.21875 63.347656 23.21875 63.484375 C 23.203125 64 22.949219 64.5 22.535156 64.816406 C 22.160156 65.097656 21.9375 65.171875 21.414062 65.171875 C 20.984375 65.171875 20.972656 65.167969 20.683594 65.027344 C 20.324219 64.847656 20.023438 64.5625 19.867188 64.257812 C 19.714844 63.957031 19.683594 63.835938 19.59375 63.109375 C 19.527344 62.609375 19.523438 62.480469 19.5625 62.429688 C 19.589844 62.394531 19.703125 62.265625 19.820312 62.140625 C 20.316406 61.613281 20.589844 61.121094 20.730469 60.503906 C 20.820312 60.101562 20.941406 59.8125 21.246094 59.292969 C 21.484375 58.886719 22.453125 57.425781 22.484375 57.425781 C 22.496094 57.425781 22.667969 58.730469 22.863281 60.328125 Z M 22.863281 60.328125',
            anchor: new google.maps.Point(17, 40), // x, y
            scale: 0.7, // độ to nhỏ icon
            fillOpacity: 0.8, // độ trong suốt bên trong
            fillColor: 'green', // màu xe
            strokeColor: 'black', // màu viền
            strokeOpacity: 1.5, // độ trong suốt viền
            strokeWeight: 1.5 // độ rộng viền
        };
        var _SVG_xetai = {
            path: 'M108.543,225.84h203.328v-43.404v-11.617v-43.403H108.543v43.403  v11.617V225.84L108.543,225.84z M306.76,170.819v11.617v39.623h-0.012v0.037H113.959l0,0h-0.572v-39.66v-11.617v-39.66h0.572v0.001  h192.789v0.036h0.012V170.819L306.76,170.819z M113.959,131.721h192.229v39.098v11.617v39.1H113.959v-39.1v-11.617V131.721  L113.959,131.721z' +
                'M105.992,146.942l3.309,0.062l0.025,9.05h-2.672v15.535l2.746,0.008l-0.016,5.03  l0.016,5.031l-2.746,0.008v15.535h2.672l-0.025,9.051l-3.309,0.061l0.055,3.811l2.625,1.211l-0.303,9.787l-2.928,1.412l-1.211,2.523  H69.115l-2.422-0.707l-0.975,0.227c-3.688,0-10.643-0.096-13.771-1.402c-0.422-0.178-0.774-2.029-1.139-2.291  c-1.566-1.121-2.856-2.498-3.769-4.137c-0.775-1.393-0.848-1.941-1.449-3.537c-2.162-5.74-1.491-12.412-2.568-20.805  c-1.495,0.1-2.125-0.398-1.893-1.492c0.032-2.977,0.021-6.084-0.003-9.172l-0.079-0.002l0.04-0.4l-0.046,0.002  c0.008-1.529,0.022-3.107,0.038-4.713c-0.016-1.605-0.03-3.183-0.038-4.711l0.046,0.002l-0.04-0.402l0.079,0  c0.024-3.089,0.035-6.194,0.003-9.171c-0.232-1.096,0.398-1.594,1.893-1.494c1.077-8.393,0.406-15.064,2.568-20.804  c0.601-1.598,0.673-2.146,1.449-3.538c0.913-1.639,2.203-3.016,3.769-4.137c0.365-0.261,0.717-2.114,1.139-2.291  c3.129-1.307,10.084-1.401,13.771-1.401l0.975,0.225l2.422-0.707h35.115l1.211,2.523l2.928,1.413l0.303,9.788l-2.625,1.21  L105.992,146.942L105.992,146.942z' +
                'M105.482,211.348c-0.658,0.088-5.361-0.658-6.018-0.58  c-0.395,0.047-0.209,7.99-0.602,8.035c-4.801,0.541-9.352,0.203-14.088,0.285c-0.223,0.619-0.773,2.021-2.061,2.025l-5.984,0.018  c-0.744,0.002-1.803-0.805-1.561-2.104c-5.268-0.232-6.244-0.133-11.127-0.578c0.143,1.75,0.816,3.34,1.538,4.299l39.485-0.223  L105.482,211.348L105.482,211.348z M66.1,223.326c0.741,0.691,1.709,1.1,2.914,1.242c12.518,0.184,22.49-0.047,34.9-0.078  l0.654-1.387L66.1,223.326L66.1,223.326z' +
                'M105.482,141.907c-0.658-0.088-5.361,0.659-6.018,0.58  c-0.395-0.047-0.209-7.99-0.602-8.034c-4.801-0.542-9.352-0.203-14.088-0.286c-0.223-0.618-0.773-2.022-2.061-2.025l-5.984-0.017  c-0.744-0.002-1.803,0.805-1.561,2.103c-5.268,0.231-6.244,0.132-11.127,0.577c0.143-1.75,0.816-3.339,1.538-4.299l39.485,0.223  L105.482,141.907L105.482,141.907z M66.1,129.929c0.741-0.691,1.709-1.1,2.914-1.242c12.518-0.184,22.49,0.046,34.9,0.079  l0.654,1.386L66.1,129.929L66.1,129.929z' +
                'M77.104,132.585l5.386,0.012c0.816,0.002,1.48,0.51,1.479,1.129  l-0.004,0.801l-1.414-0.049l0.002-0.153c0.002-0.539-0.486-0.981-1.084-0.983l-4.175-0.009c-0.485-0.001-0.755,0.29-0.839,0.688  c-0.012,0.053-0.459,0.032-0.838,0.024l0.002-0.337C75.621,133.089,76.29,132.583,77.104,132.585L77.104,132.585z' +
                'M77.104,220.67l5.386-0.012c0.816-0.002,1.48-0.51,1.479-1.129  l-0.004-0.801l-1.414,0.049l0.002,0.152c0.002,0.539-0.486,0.982-1.084,0.982l-4.175,0.01c-0.485,0.002-0.755-0.289-0.839-0.688  c-0.012-0.053-0.459-0.031-0.838-0.023l0.002,0.336C75.621,220.166,76.29,220.672,77.104,220.67L77.104,220.67z' +
                'M51.178,210.354c0.054,1.176,2.469,2.172,3.615,2.828l-1.324,3.076  c-1.665-0.66-3.973-1.758-5.102-3.279c-3.201-4.318-3.2-68.384,0-72.701c1.129-1.523,3.437-2.619,5.102-3.281l1.324,3.075  c-1.146,0.657-3.561,1.653-3.615,2.829c-1.497,11.012-1.906,22.519-2.296,33.728C49.271,187.836,49.681,199.342,51.178,210.354  L51.178,210.354z M55.304,139.815c0.32-0.141,0.675-0.266,1.063-0.373c0.903-0.171,1.807-0.333,2.712-0.487  c0.204-0.035,0.084-2.116,0.289-2.15c2.826-0.467,5.208-0.688,8.238-0.731c0.344-0.005,0.97,1.104,1.32,1.09  c5.418-0.216,11.197-0.373,16.693-0.334v-2.026c-6.236-0.254-17.772,0.022-25.984,0.814c-1.781,0.172-3.976,0.762-5.623,1.2  L55.304,139.815L55.304,139.815z M86.193,136.835c4.287,0.046,10.371,0.269,12.271,1.274l-0.244-2.843  c-0.734-0.022-1.475-0.139-2.211-0.219c-3.043-0.333-6.146-0.344-9.816-0.273V136.835L86.193,136.835z M55.304,213.439  c0.32,0.143,0.675,0.266,1.063,0.373c0.903,0.172,1.807,0.334,2.712,0.486c0.204,0.035,0.084,2.117,0.289,2.15  c2.826,0.467,5.208,0.689,8.238,0.73c0.344,0.006,0.97-1.104,1.32-1.09c5.418,0.217,11.197,0.375,16.693,0.334v2.027  c-6.236,0.254-17.772-0.023-25.984-0.814c-1.781-0.172-3.976-0.762-5.623-1.199L55.304,213.439L55.304,213.439z M86.193,216.42  c4.287-0.047,10.371-0.27,12.271-1.275l-0.244,2.844c-0.734,0.021-1.475,0.139-2.211,0.219c-3.043,0.334-6.146,0.344-9.816,0.273  V216.42L86.193,216.42z' +
                'M82.457,138.499c-4.079,0.052-10.184,0.066-13.756,0.21  c-0.91,0.037-0.866-0.926-1.711-0.873c-2.67,0.168-4.768,0.238-6.746,0.475c-0.204,0.024,0.252,1.149,0.061,1.176  c0.031,0.302,4.542,1.289,5.534,1.219c6.708-0.556,12.255-0.722,16.794-0.781c0.676,0.035,1-0.136,0.936-0.513  c0.049-0.183,0.049-0.365,0.049-0.547C83.715,138.659,83.293,138.556,82.457,138.499L82.457,138.499z' +
                'M82.457,214.756c-4.079-0.051-10.184-0.064-13.756-0.211  c-0.91-0.035-0.866,0.928-1.711,0.875c-2.67-0.168-4.768-0.238-6.746-0.475c-0.204-0.025,0.252-1.15,0.061-1.178  c0.031-0.301,4.542-1.287,5.534-1.219c6.708,0.557,12.255,0.723,16.794,0.781c0.676-0.035,1,0.137,0.936,0.514  c0.049,0.182,0.049,0.365,0.049,0.547C83.715,214.598,83.293,214.699,82.457,214.756L82.457,214.756z',

            anchor: new google.maps.Point(160, 180), // x=160, y=180
            scale: 0.2, // độ to nhỏ icon
            fillOpacity: 1, // 0.8, độ trong suốt bên trong
            fillColor: 'green',//,'#3ADF00', // màu xe
            strokeColor: 'black',//'#190707', // màu viền
            strokeOpacity: 1, // 0.5, độ trong suốt viền
            strokeWeight: 1, // độ rộng viền
            rotation: 90

        };

        var _SVG_loaixe = "";
        switch (_CategoryID) {
            case 0:
                break;
            case 2:
                _SVG_loaixe = _SVG_xedulich;
                break;
            case 3:
                _SVG_loaixe = _SVG_xemay;
                break;
            case 4:
                _SVG_loaixe = _SVG_xetai;
                break;
            case 6:
                _SVG_loaixe = _Symbol_arrow;
                break;
            case 7:
                _SVG_loaixe = _SVG_xecon;
                break;
            default:
                _SVG_loaixe = _SVG_xekhach;
                break;
        }
        line = new google.maps.Polyline({
            path: lotrinhpoint,
            icons: [{
                icon: _SVG_loaixe,//_SVG_loaixe,
                offset: '0%' // vị trí nằm đầu tiên

            }],
            strokeOpacity: 0,
            map: map
        });

        //var _icon = line.get('icons'); // đổi hình xe theo device được chọn
        //_icon[0].icon = _SVG_xetai;
        //_icon[0].offset = 0 + '%';
        //line.set('icons', _icon);

        var bounds = new google.maps.LatLngBounds();
        for (var i_ = 0; i_ < line.getPath().getLength() ; i_++) {
            bounds.extend(line.getPath().getAt(i_));
        }
        map.fitBounds(bounds);
    };
    function CreateSelect_dn_camerahanhtrinh(data) {
        var _dn_list_camerahanhtrinh = document.getElementById("dn_list_camerahanhtrinh");
        _dn_list_camerahanhtrinh.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;

            _dn_list_camerahanhtrinh.appendChild(_option);
        }
    };
    function taixe_them_click() {
        if (_arr_dsthietbi_select.length > 0) {
            document.getElementById("taixe_them_tentaixe").value = "";
            document.getElementById("taixe_them_tentaixe").placeholder = "";
            document.getElementById("taixe_them_sodienthoai").value = "";
            document.getElementById("taixe_them_sodienthoai").placeholder = "";
            document.getElementById("taixe_them_socmnd").value = "";
            document.getElementById("taixe_them_sogplx").value = "";
            document.getElementById("taixe_them_sogplx").placeholder = "";
            document.getElementById("taixe_them_hang").value = "";
            document.getElementById("taixe_them_noicap").value = "";
            document.getElementById("taixe_them_ghichu").value = "";
            document.getElementById("btn_modal_taixe_them").click();
            //CreateSelect_taixe_them(dataListStatus);

            var current_date = new Date();
            var curent_Month = (current_date.getMonth() + 1) < 10 ? "0" + (current_date.getMonth() + 1) : (current_date.getMonth() + 1);
            var curent_date = current_date.getDate() < 10 ? "0" + current_date.getDate() : current_date.getDate();
            var current_ddmmyyyy = curent_date + "/" + curent_Month + "/" + current_date.getFullYear();
            document.getElementById("taixe_them_ngaycapgplx").value = current_ddmmyyyy;
            document.getElementById("taixe_them_hethangplx").value = current_ddmmyyyy;
        } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongchonxedethemtaixe)"); }
    };

    function btn_thietbi_sua_confirm() {
        var _VehicleNumber = document.getElementById("thietbi_sua_bienso").value;
        var _Chassis = document.getElementById("thietbi_sua_sokhung").value;
        var _SimNumber = "1";
        var _VehicleCategoryID = document.getElementById("thietbi_sua_loaixe").value;
        var _ParentGroupID = document.getElementById("thietbi_sua_nhomxe").value;
        var _VehicleGroupIDChild = "0";
        var _BarrelNumber = document.getElementById("thietbi_sua_sothung").value;
        var _Capacity = document.getElementById("thietbi_sua_dungtich").value;
        var _Grosston = document.getElementById("thietbi_sua_taitrong").value;
        var _FuelConsumption = document.getElementById("thietbi_sua_muctieuhao").value;
        var _FuelCapacity = document.getElementById("thietbi_sua_dungtich_binh").value;
        var _DeviceID = _arr_dsthietbi_select[0][8];
        var _SimID = _arr_dsthietbi_select[0][15];
        var _VehicleID = _arr_dsthietbi_select[0][9];
        var __ProvinceID = document.getElementById("thietbi_sua_tinh").value;
        var _Business = document.getElementById("thietbi_sua_dnquanly").value;
        var __TypeTransportID = document.getElementById("thietbi_sua_loaivantai").value;
        var __CurrentChildID = "0";

        if (document.getElementById("thietbi_sua_daokhoa").checked == true) { __Switch_ = "1"; }
        else { __Switch_ = "0"; }
        if (document.getElementById("thietbi_sua_daocua").checked == true) { __Switch_Door = "1"; }
        else { __Switch_Door = "0"; }

        $.ajax({
            type: 'POST',
            url: '@(Url.Action("sp_Update_DeviceGroupUserT", "Home"))',
            data: {
                DeviceID: _DeviceID, VehicleID: _VehicleID, VehicleGroupIDChild: _VehicleGroupIDChild, VehicleNumber: _VehicleNumber,
                VehicleCategoryID: _VehicleCategoryID, Capacity: _Capacity, BarrelNumber: _BarrelNumber, SimNumber: _SimNumber, SimID: _SimID,
                _ProvinceID: __ProvinceID, _TypeTransportID: __TypeTransportID, Business: _Business, Chassis: _Chassis, Grosston: _Grosston,
                ParentGroupID: _ParentGroupID, _CurrentChildID: __CurrentChildID, _Switch_: __Switch_, _Switch_Door: __Switch_Door,
                FuelConsumption: _FuelConsumption, FuelCapacity: _FuelCapacity
            },
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data === "1") {
                        //Refersh_list_taixe();
                        //GetInfo_driver(_arr_dsthietbi_select[0][7]);
                        GetList_Devices();
                        document.getElementById("modal_thietbi_close").click();
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbcapnhatthongtinthietbithanhcong)");
                    }
                    else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbcapnhatthongtinthietbithatbai)"); }

                } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbketnoidulieuthatbai)"); }
            },
            dataType: "json"
        });
    };

    function btn_taixe_them_confirm() {
        var _tentaixe = document.getElementById("taixe_them_tentaixe");
        var _sodienthoai = document.getElementById("taixe_them_sodienthoai");
        var _cmnd = document.getElementById("taixe_them_socmnd");
        var _so_gplx = document.getElementById("taixe_them_sogplx");
        var _hang = document.getElementById("taixe_them_hang").value;
        var _ngaycap = document.getElementById("taixe_them_ngaycapgplx").value; // convert "-" -> "/"
        _ngaycap = _ngaycap.replace(/-/g, "/"); // không phân biệt hoa thường thì thêm i -> /-/gi
        var _hethan = document.getElementById("taixe_them_hethangplx").value;
        _hethan = _hethan.replace(/-/g, "/");
        var _noicap = document.getElementById("taixe_them_noicap").value;
        var _ghichu = document.getElementById("taixe_them_ghichu").value;
        //var _deviceid = document.getElementById("taixe_them_chonxe").value;
        var _deviceid = _arr_dsthietbi_select[0][8];

        if (_so_gplx.value === "") {
            _so_gplx.placeholder = "@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongnhapgplx)";
            _so_gplx.focus();
            return;
        } else if (_tentaixe.value === "") {
            _tentaixe.placeholder = "@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongnhaptentaixe)";
            _tentaixe.focus();
            return;
        } else if (_sodienthoai.value === "") {
            _sodienthoai.placeholder = "@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongnhapsodienthoai)";
            _sodienthoai.focus();
            return;
        } else if (_cmnd.value === "") {
            _cmnd.placeholder = "Vui lòng nhập cmnd";
            _cmnd.focus();
            return;
        }
        //else if (_sodienthoai.value) {
        //    console.log(patternNumber(_sodienthoai.value));
        //    patternNumber(_sodienthoai.value) ? alert("ok") : alert("not ok");
        //    return;
        //}

        $.ajax({
            type: 'POST',
            url: '@(Url.Action("sp_Create_DriverT", "Home"))',
            data: {
                DayExpiredLicense: _hethan, DayCreateLicense: _ngaycap, NameDriver: _tentaixe.value, PhoneDriver: _sodienthoai.value, IdCard: _cmnd.value,
                DriverLicense: _so_gplx.value, Rank: _hang, Details: _ghichu, DeviceID: _deviceid, RegPlace: _noicap
            },
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data === "1") {
                        Refersh_list_taixe();
                        GetInfo_driver(_arr_dsthietbi_select[0][8]);
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbthemtaixethanhcong)");
                    }
                    else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbthemtaixethatbai)"); }

                } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbthemtaixethatbai)"); }
            },
            dataType: "json"
        });

        document.getElementById("modal_taixe_close").click();
    };
    function patternNumber(value) {
        var reg = new RegExp('[^0-9]', 'g');;
        return parseInt(value).match(reg);
    }
    function Refersh_list_taixe() {
        if (_arr_dstaixe_select.length > 0) {
            var _taixe_idrow = document.getElementById(_arr_dstaixe_select[0][0].id);
            _taixe_idrow.setAttribute("style", "background-color:white;");
            _arr_dstaixe_select = [];
        }
    };

    function taixe_xoa_click() {
        if (_arr_dstaixe_select.length > 0) {
            var _confirm = confirm("@Html.Raw(khanhhoi.vn.Resources.Language.tbxoataixethanhcong) " + " [" + _arr_dstaixe_select[0][2] + "]");
            if (_confirm == true) {
                var _DriverID = _arr_dstaixe_select[0][5];
                var _DeviceID = _arr_dsthietbi_select[0][8];
                $.ajax({
                    type: 'POST',
                    url: '@(Url.Action("sp_Delete_Driver", "Home"))',
                    data: { DriverID: _DriverID },
                    success: function (data, txtStatus, XMLHttpRequest) {
                        if (data != null) {
                            if (data === "1") {
                                Refersh_list_taixe();
                                GetInfo_driver(_arr_dsthietbi_select[0][8]);
                                alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbxoataixethanhcong)");
                            } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbxoataixethatbai)"); }
                        } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbketnoidulieuthatbai)"); }
                    },
                    dataType: "json"
                });
                document.getElementById("modal_taixe_close").click();
            } else { return; }
        } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongchontaixedexoa)"); }
    };

    function taixe_sua_click() {
        if (_arr_dstaixe_select.length > 0) {
            document.getElementById("taixe_sua_tentaixe").value = _arr_dstaixe_select[0][2];
            document.getElementById("taixe_sua_sodienthoai").value = _arr_dstaixe_select[0][3];
            document.getElementById("taixe_sua_sogplx").value = _arr_dstaixe_select[0][4];
            document.getElementById("taixe_sua_socmnd").value = _arr_dstaixe_select[0][6];
            document.getElementById("taixe_sua_hang").value = _arr_dstaixe_select[0][7];

            var current_date = new Date();
            var curent_Month = (current_date.getMonth() + 1) < 10 ? "0" + (current_date.getMonth() + 1) : (current_date.getMonth() + 1);
            var curent_date = current_date.getDate() < 10 ? "0" + current_date.getDate() : current_date.getDate();
            var current_ddmmyyyy = curent_date + "/" + +curent_Month + "/" + current_date.getFullYear();
            document.getElementById("taixe_them_ngaycapgplx").value = current_ddmmyyyy;
            document.getElementById("taixe_them_hethangplx").value = current_ddmmyyyy;

            var arr_split = _arr_dstaixe_select[0][8].split("/");
            var _ngaycap_ngay = arr_split[0] < 10 ? "0" + arr_split[0] : arr_split[0];
            var _ngaycap_thang = arr_split[1] < 10 ? "0" + arr_split[1] : arr_split[1];
            var _ngaycap = _ngaycap_ngay + "-" + _ngaycap_thang + "-" + arr_split[2];
            document.getElementById("taixe_sua_ngaycapgplx").value = _ngaycap;

            var arr_split2 = _arr_dstaixe_select[0][9].split("/");
            var _hethan_ngay = arr_split2[0] < 10 ? "0" + arr_split2[0] : arr_split2[0];
            var _hethan_thang = arr_split2[1] < 10 ? "0" + arr_split2[1] : arr_split2[1];
            var _hethan = _hethan_ngay + "-" + _hethan_thang + "-" + arr_split2[2];
            document.getElementById("taixe_sua_hethangplx").value = _hethan;

            document.getElementById("taixe_sua_noicap").value = _arr_dstaixe_select[0][10];
            document.getElementById("taixe_sua_ghichu").value = _arr_dstaixe_select[0][11];

            document.getElementById("btn_modal_taixe_sua").click();
            //CreateSelect_taixe_sua(dataListStatus);
            //var _taixe_chonxe = document.getElementById("taixe_sua_chonxe");
            //_taixe_chonxe = document.createTextNode(_arr_dsthietbi_select[0][2]);
        } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongchontaixesuathongtin)"); }
    };

    function btn_taixe_sua_confirm() {
        var _tentaixe = document.getElementById("taixe_sua_tentaixe");
        var _sodienthoai = document.getElementById("taixe_sua_sodienthoai");
        var _cmnd = document.getElementById("taixe_sua_socmnd").value;
        var _so_gplx = document.getElementById("taixe_sua_sogplx");
        var _hang = document.getElementById("taixe_sua_hang").value;
        var _ngaycap = document.getElementById("taixe_sua_ngaycapgplx").value;
        _ngaycap = _ngaycap.replace(/-/g, "/");
        var _hethan = document.getElementById("taixe_sua_hethangplx").value;
        _hethan = _hethan.replace(/-/g, "/");
        var _noicap = document.getElementById("taixe_sua_noicap").value;
        var _ghichu = document.getElementById("taixe_sua_ghichu").value;
        //var _deviceid = document.getElementById("taixe_sua_chonxe").value;
        var _deviceid = _arr_dsthietbi_select[0][8];
        var _ddid = _arr_dstaixe_select[0][13];
        var _driverid = _arr_dstaixe_select[0][5];

        if (_so_gplx.value === "") {
            _so_gplx.placeholder = "@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongnhapgplx)";
            _so_gplx.focus();
            return;
        } else if (_tentaixe.value === "") {
            _tentaixe.placeholder = "@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongnhaptentaixe)";
            _tentaixe.focus();
            return;
        } else if (_sodienthoai.value === "") {
            _sodienthoai.placeholder = "@Html.Raw(khanhhoi.vn.Resources.Language.tbvuilongnhapsodienthoai)";
            _sodienthoai.focus();
            return;
        }

        $.ajax({
            type: 'POST',
            url: '@(Url.Action("sp_Update_DriverT", "Home"))',
            data: {
                DayExpiredLicense: _hethan,
                DayCreateLicense: _ngaycap,
                NameDriver: _tentaixe.value,
                PhoneDriver: _sodienthoai.value,
                IdCard: _cmnd,
                DriverLicense: _so_gplx.value,
                Rank: _hang,
                Details: _ghichu,
                DeviceID: _deviceid,
                DriverID: _driverid,
                RegPlace: _noicap,
                DDID: _ddid
            },
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data === "1") {
                        Refersh_list_taixe();
                        GetInfo_driver(_arr_dsthietbi_select[0][8]);
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbsuatttaixethanhcong)");
                    }
                    else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbsuatttaixethatbai)"); }

                } else { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbketnoidulieuthatbai)"); }
            },
            error: function () { alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbketnoidulieuthatbai)"); },
            dataType: "json"
        });
        document.getElementById("modal_taixe_sua_close").click();
    };

    function loadtoPlayVideo(filename) {
        alert(filename);
        var myvideo = document.getElementById("my-video");
        var source_video_ = document.getElementById("source_video");
        source_video_.setAttribute('src', '~/ContentVideos/0x64190621af9/Video/20191107/' + filename + '.mp4');
        myvideo.load();
    };
    function setDate() {
        //date_form
        if (positionView == 0) {
            positionView = 1;
            if (armarker.length > 0) {
                for (var b = 0; b < armarker.length; b++) {
                    armarker[b][1].setMap(null);
                }
                if (listdata != null) {
                    if (listdata.length > 0) {
                        if (line) line.setMap(null);
                        if (line1) line1.setMap(null);
                        SetupLine(listdata, _CategoryID);
                        drawPointStop(listData_PauseStop);
                    }
                }
            }


        }
        var currentdate = new Date();
        var curentMonth = (currentdate.getMonth() + 1) < 10 ? "0" + (currentdate.getMonth() + 1) : (currentdate.getMonth() + 1);
        var curentdate = currentdate.getDate() < 10 ? "0" + currentdate.getDate() : currentdate.getDate();
        var curentHour = currentdate.getHours() < 10 ? "0" + currentdate.getHours() : currentdate.getHours();
        var curentMinute = currentdate.getMinutes() < 10 ? "0" + currentdate.getMinutes() : currentdate.getMinutes();
        var curentSecond = currentdate.getSeconds() < 10 ? "0" + currentdate.getSeconds() : currentdate.getSeconds();
        var datetimeF = curentdate + "-" + curentMonth + "-" + currentdate.getFullYear();

        // var datetimeF = currentdate.getFullYear() + "-" + curentMonth + "-" + curentdate + "T00:" + "00:00";
        //var datetimeF = currentdate.getFullYear() + "-" + curentMonth + "-" + curentdate;
        // var datetimeE = currentdate.getFullYear() + "-" + curentMonth + "-" + curentdate + "T" + curentHour + ":" + curentMinute + ":" + curentSecond;

        document.getElementById("date_form_h").value = "00:00";
        document.getElementById("date_form_d").value = datetimeF;
        //document.getElementById("date_t_h").value = "23:59";
        //document.getElementById("date_t_d").value = datetimeF;
    };
    var deviceid_gl=0;
    function clickRow(deviceid) {
        deviceid_gl = deviceid;
        for (var i = 0; i < armarker.length; i++) {
            armarker[i][1].setMap(null);
        }
        if (infowindow != null) {
            infowindow.setMap(null);
        }
        marker = null;
        heading = 0;
        infowindow = null;
        var _giamsat_toggle = document.getElementById("giamsat_toggle");
        _giamsat_toggle.style.display = "block";
        $('.sidebar').toggleClass('active');
        $('.sidebarBtn').toggleClass('toggle');
        $('.header__') ? $('.header__').addClass('active') : '';
        $('#content-status.blur_layer') ? $('#content-status').removeClass('blur_layer') : '';

        check_status = true;
        var idRow = 'tr' + deviceid;
        var device_;

        for (var p = 0; p < dataListStatus.length; p++) {
            if (dataListStatus[p].DeviceID == deviceid) {
                device_ = dataListStatus[p];
                break;
            }
        }
        if (device_.status_id == 6 || device_.status_id == 5 || device_.status_id == 3) {
            ShowToast('@Html.Raw(khanhhoi.vn.Resources.Language.tbbellone01c)');
            return;
        }

        var ArrRow = [deviceid, idRow];
        if (ArrMarkerSelect.length > 0) {
            for (var k = 0; k < ArrMarkerSelect.length; k++) {
                if (ArrMarkerSelect[k][0] == deviceid) {
                    ArrMarkerSelect.splice(k, 1);
                    k--;
                    if (armarker.length > 0) {
                        for (var l = 0; l < armarker.length; l++) {
                            if (armarker[l][0] == deviceid) {
                                armarker[l][1].setMap(null);
                                armarker.splice(l, 1);
                                l--;
                                break;
                            }
                        }
                    }
                    break;
                }
                else {
                    if (k == (ArrMarkerSelect.length - 1)) {
                        var rowItem = document.getElementById(idRow);
                        ArrMarkerSelect.push(ArrRow);
                        ShowInfoMap(device_.DeviceID, 0, reURL_IMG(device_));
                        break;
                    }
                }
            }
        }
        else {
            ArrMarkerSelect.push(ArrRow);
            var rowItem = document.getElementById(idRow);
            id__ = device_.DeviceID;
            ShowInfoMap(device_.DeviceID, 0, reURL_IMG(device_));
        }

    };


    function setupMap(lat, lng, mapZoom) {
        var mapLatlng = new google.maps.LatLng(lat, lng);
        var myOptions = {
            zoom: mapZoom,
            center: mapLatlng,
            mapTypeControl: false,
            streetViewControl: true,
            streetViewControlOptions: {
                position: google.maps.ControlPosition.RIGHT_BOTTOM
            },
            fullscreenControl: true,
            fullscreenControlOptions: {
                position: google.maps.ControlPosition.RIGHT_BOTTOM
            },
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.LARGE,
                position: google.maps.ControlPosition.RIGHT_CENTER
            },
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        map = new google.maps.Map(document.getElementById("map"), myOptions);
        MAP_WIDTH = map.getDiv().offsetWidth;
        MAP_HEIGHT = map.getDiv().offsetHeight;

        var styleControl = document.getElementById('style-selector-control');
        map.controls[google.maps.ControlPosition.RIGHT_TOP].push(styleControl);

        var styles = {
            default: null,
            //satellite: map.setMapTypeId('satellite'),
            night: [
              { elementType: 'geometry', stylers: [{ color: '#242f3e' }] },
              { elementType: 'labels.text.stroke', stylers: [{ color: '#242f3e' }] },
              { elementType: 'labels.text.fill', stylers: [{ color: '#746855' }] },
              {
                  featureType: 'administrative.locality',
                  elementType: 'labels.text.fill',
                  stylers: [{ color: '#d59563' }]
              },
              {
                  featureType: 'poi',
                  elementType: 'labels.text.fill',
                  stylers: [{ color: '#d59563' }]
              },
              {
                  featureType: 'poi.park',
                  elementType: 'geometry',
                  stylers: [{ color: '#263c3f' }]
              },
              {
                  featureType: 'poi.park',
                  elementType: 'labels.text.fill',
                  stylers: [{ color: '#6b9a76' }]
              },
              {
                  featureType: 'road',
                  elementType: 'geometry',
                  stylers: [{ color: '#38414e' }]
              },
              {
                  featureType: 'road',
                  elementType: 'geometry.stroke',
                  stylers: [{ color: '#212a37' }]
              },
              {
                  featureType: 'road',
                  elementType: 'labels.text.fill',
                  stylers: [{ color: '#9ca5b3' }]
              },
              {
                  featureType: 'road.highway',
                  elementType: 'geometry',
                  stylers: [{ color: '#746855' }]
              },
              {
                  featureType: 'road.highway',
                  elementType: 'geometry.stroke',
                  stylers: [{ color: '#1f2835' }]
              },
              {
                  featureType: 'road.highway',
                  elementType: 'labels.text.fill',
                  stylers: [{ color: '#f3d19c' }]
              },
              {
                  featureType: 'transit',
                  elementType: 'geometry',
                  stylers: [{ color: '#2f3948' }]
              },
              {
                  featureType: 'transit.station',
                  elementType: 'labels.text.fill',
                  stylers: [{ color: '#d59563' }]
              },
              {
                  featureType: 'water',
                  elementType: 'geometry',
                  stylers: [{ color: '#17263c' }]
              },
              {
                  featureType: 'water',
                  elementType: 'labels.text.fill',
                  stylers: [{ color: '#515c6d' }]
              },
              {
                  featureType: 'water',
                  elementType: 'labels.text.stroke',
                  stylers: [{ color: '#17263c' }]
              }
            ],
        };

        var styleSelector = document.getElementById('style-selector');
        map.setOptions({
            styles: styles[styleSelector.value]
        });

        styleSelector.addEventListener('change', function () {
            if (styleSelector.value === "satellite") { map.setMapTypeId('hybrid'); } // hybrid, satellite
            else {
                map.setMapTypeId('roadmap');
                map.setOptions({ styles: styles[styleSelector.value] });
            }

        });
    };
    function close() {
        alert("closing tab");
    }
    var infowindow;
    var marker;
    var statusid_ = 0;
    function ShowInfoMap(index_F, state, img) {
        var device;
        if (dataListStatus.length > 0) {
            for (var q = 0; q < dataListStatus.length; q++) {
                if (dataListStatus[q].DeviceID == index_F) {
                    device = dataListStatus[q];
                    break;
                }
            }
            if (device.status_id == 6 || device.status_id == 5 || device.status_id == 3) { return; }
        } else { return; }

        var point = new window.google.maps.LatLng(device.Latitude, device.Longitude);
        var Startpoint_ = new window.google.maps.LatLng(device.OldLat_, device.OldLng_);
        var deviceID = device.DeviceID;
        var vehiclenumber = device.VehicleNumber;
        var OilValue = "";
        var FuelTemp = device.OilValue; // gia tri truyen ve; fuelca dung tich
        var speed = device.Speed;
        var status = device.Status;
        var color = device.color;
        strStatus = '';
        sideBar_Status = '';
            infowindow = new google.maps.InfoWindow({
                content: ''
            });

        //Thanh edit
            var ioelement = {
                Ignition: 0,
                Movement: 0,
                GMSSignalStrength: 1,
                SleepMode: 0,
                GNSS: 0,
                Din1: 0,
                EngineCoolant: 0,
                PDOP: 0,
                HDOP: 0,
                ExtVolage: 0,
                Speed: 0,
                BatteryVoltage: 0,
                BatteryCurrent: 0,
                AverageFuelUse: 0,
                RunTimeStart: 0,
                GMSOperator: 0,
                TripOdometer: 0,
                TotalOdometer: 0,
                FuelUseGPS: 0,
                EngineRPM: 0,
            }
            if (device.ioelement != null) {
                var a = device.ioelement.split('|');
                for (var i = 0; i < a.length; i++) {
                    var b = a[i].split('-');
                    switch (b[0]) {
                        case '239': {
                            ioelement.Ignition = b[1];
                            break;
                        }
                        case '240': {
                            ioelement.Movement = b[1];
                            break;
                        }
                        case '21': {
                            ioelement.GMSSignalStrength = b[1];
                            break;
                        }
                        case '200': {
                            ioelement.SleepMode = b[1];
                            break;
                        }
                        case '69': {
                            ioelement.GNSS = b[1];
                            break;
                        }
                        case '1': {
                            ioelement.Din1 = b[1];
                            break;
                        }
                        case '32': {
                            ioelement.EngineCoolant = b[1];
                            break;
                        }
                        case '181': {
                            ioelement.PDOP = b[1];
                            break;
                        }
                        case '182': {
                            ioelement.HDOP = b[1];
                            break;
                        }
                        case '66': {
                            ioelement.ExtVolage = b[1];
                            break;
                        }
                        case '24': {
                            ioelement.Speed = b[1];
                            break;
                        }
                        case '67': {
                            ioelement.BatteryVoltage = b[1];
                            break;
                        }
                        case '68': {
                            ioelement.BatteryCurrent = b[1];
                            break;
                        }
                        case '13': {
                            ioelement.AverageFuelUse = b[1];
                            break;
                        }
                        case '42': {
                            ioelement.RunTimeStart = b[1];
                            break;
                        }
                        case '241': {
                            ioelement.GMSOperator = b[1];
                            break;
                        }
                        case '199': {
                            ioelement.TripOdometer = b[1];
                            break;
                        }
                        case '16': {
                            ioelement.TotalOdometer = b[1];
                            break;
                        }
                        case '12': {
                            ioelement.FuelUseGPS = b[1];
                            break;
                        }
                        case '36': {
                            ioelement.EngineRPM = b[1];
                            break;
                        }
                    }
                }
            }
        // end thanh edit
        try {
            var dt = new Date(parseInt(device.DateSave.replace('/Date(', '')));
            var dateSave = (dt.getDate() < 10 ? ('0' + dt.getDate()) : dt.getDate()) + '/' + ((dt.getMonth() + 1) < 10 ? ('0' + (dt.getMonth() + 1)) : (dt.getMonth() + 1)) + '/' + dt.getFullYear() + ' ' + (dt.getHours() < 10 ? ('0' + dt.getHours()) : dt.getHours()) + ':' + (dt.getMinutes() < 10 ? ('0' + dt.getMinutes()) : dt.getMinutes()) + ':' + (dt.getSeconds() < 10 ? ('0' + dt.getSeconds()) : dt.getSeconds());
        } catch (e) { }

        if (status.indexOf("Đậu") >= 0) { status = status.replace("Đậu", "Đỗ"); }
        if (status.indexOf("phút") >= 0) { }
        else {
            var arr_split_status01 = status.split(' ');
            if (arr_split_status01.length == 2) { // Đỗ 240h12
                try {
                    var arr_split_status02 = arr_split_status01[1].split('h');
                    if (arr_split_status02[0] >= 24) {
                        var _ngay = Math.floor(arr_split_status02[0] / 24); //Math.round()
                        var _gio = arr_split_status02[0] % 24;
                        if (_gio == 0)
                            arr_split_status01[1] = _ngay + " @Html.Raw(khanhhoi.vn.Resources.Language.lbngay)";
                        else
                            arr_split_status01[1] = _ngay + " @Html.Raw(khanhhoi.vn.Resources.Language.lbngay) " + _gio
                                + " @Html.Raw(khanhhoi.vn.Resources.Language.lbgio)";

                        status = arr_split_status01[0] + " " + arr_split_status01[1];
                    }
                } catch (e) { }
            }
            else if (arr_split_status01.length == 3) { // mất GPS. 53h12
                try {
                    var arr_split_status03 = arr_split_status01[2].split('h');
                    if (arr_split_status03[0] >= 24) {
                        var _ngay = Math.floor(arr_split_status03[0] / 24);
                        var _gio = arr_split_status03[0] % 24;
                        if (_gio == 0)
                            arr_split_status01[2] = _ngay + " @Html.Raw(khanhhoi.vn.Resources.Language.lbngay)";
                        else
                            arr_split_status01[2] = _ngay + " @Html.Raw(khanhhoi.vn.Resources.Language.lbngay) " + _gio
                                + " @Html.Raw(khanhhoi.vn.Resources.Language.lbgio)";

                        status = arr_split_status01[0] + " " + arr_split_status01[1] + " " + arr_split_status01[2];
                    }
                } catch (e) { }
            }
            else if (arr_split_status01.length == 4) { //mất liên lạc 200h10
                try {
                    var arr_split_status04 = arr_split_status01[3].split('h');
                    if (arr_split_status04[0] >= 24) {
                        var _ngay = Math.floor(arr_split_status04[0] / 24);
                        var _gio = arr_split_status04[0] % 24;
                        if (_gio == 0)
                            arr_split_status01[3] = _ngay + " @Html.Raw(khanhhoi.vn.Resources.Language.lbngay)";
                        else
                            arr_split_status01[3] = _ngay + " @Html.Raw(khanhhoi.vn.Resources.Language.lbngay) " + _gio
                                + " @Html.Raw(khanhhoi.vn.Resources.Language.lbgio)";

                        status = arr_split_status01[0] + " " + arr_split_status01[1] + " " + arr_split_status01[2] + " " + arr_split_status01[3];
                    }
                } catch (e) { }
            }
        }

        var VehicleCategoryID = device.VehicleCategoryID;
        var DateExpiredSet = eval(device.DateExpired.replace(/\/Date\((\d+)\)\//gi, "new Date($1)"));
        var DateExpired_ = DateExpiredSet.getDate() + "/" + ((DateExpiredSet.getMonth() < 10) ? ('0' + (DateExpiredSet.getMonth() + 1)) : (DateExpiredSet.getMonth() + 1)) + "/" + DateExpiredSet.getFullYear();
        if (device.DayCreateLicense != null) {
            var DayCreateLicenset = eval(device.DayCreateLicense.replace(/\/Date\((\d+)\)\//gi, "new Date($1)"));
            var DayCreateLicense = DayCreateLicenset.getDate() + "/" + (DayCreateLicenset.getMonth() + 1) + "/" + DayCreateLicenset.getFullYear();
        }
        if (device.DayExpiredLicense != null) {
            var DayExpiredLicenset = eval(device.DayExpiredLicense.replace(/\/Date\((\d+)\)\//gi, "new Date($1)"));
            var DayExpiredLicense = DayExpiredLicenset.getDate() + "/" + (DayExpiredLicenset.getMonth() + 1) + "/" + DayExpiredLicenset.getFullYear();
        }
        @*strStatus = '@Html.Raw(khanhhoi.vn.Resources.Language.lbtenthietbi): <b>' + vehiclenumber + '</b><br>'
                + '@Html.Raw(khanhhoi.vn.Resources.Language.lbthoigian): <b>' + dateSave + '</b><br>';
        strStatus += '@Html.Raw(khanhhoi.vn.Resources.Language.lbtrangthai): <b>' + status + '</b><br>';
        strStatus += '@Html.Raw(khanhhoi.vn.Resources.Language.lbtoado): <b>' + device.Latitude + '</b> - <b>' + device.Longitude + '</b><br>' + " "
            + '<span style="white-space: nowrap;">@Html.Raw(khanhhoi.vn.Resources.Language.lbvitri): <b>' + device.Addr + '</b></span><br>';
        strStatus += '@Html.Raw(khanhhoi.vn.Resources.Language.lbcua): <b>' + device.DoorShow + ';</b>' + " "
            + '@Html.Raw(khanhhoi.vn.Resources.Language.lbkhoa): <b>' + device.KeyShow + '</b>';*@


        var Cooler = '@Html.Raw(khanhhoi.vn.Resources.Language.lbmaylanh): <b>';
        if (device.Cooler_ == 1) {
            Cooler += device.Cooler == "0" || device.Cooler == null ? "@Html.Raw(khanhhoi.vn.Resources.Language.lbtat)" :
                "@Html.Raw(khanhhoi.vn.Resources.Language.lbmo)";
        } else { Cooler = ''; }
        strStatus += Cooler;
        //strStatus += '<br><span style="color:black">@Html.Raw(khanhhoi.vn.Resources.Language.lbngayhethandichvu): <b>' + DateExpired_ + '</span></b>';
        if (FuelTemp != 0) {
            var VolumeOilBarrel_ = device.FuelCapacity;
            var Fuel_ = Math.round((FuelTemp * 100) / VolumeOilBarrel_);
            OilValue = FuelTemp + '/' + VolumeOilBarrel_ + '@Html.Raw(khanhhoi.vn.Resources.Language.lblit)' + '(' + Fuel_ + '%)';  //Fuel_ ra % nhien lieu;
            //strStatus += '<br>@Html.Raw(khanhhoi.vn.Resources.Language.lbnhienlieu): <b>' + OilValue + '</b><br>';
        }
         strStatus = '<div onclick="changeItem(1)" class="content-status_item text-center">' +
                        '<img src="/images/icon/map_car.svg" class="icon_header"/>' +
                        '<div class="wrapper_content item_01 d-flex text-left" data-index=1>' +
                            '<div class="content_item item_left">' +
                                '<p class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbtenthietbi): <b>' + vehiclenumber + '</b></p>' +
                                '<p class="mb-flex"><img class="only-pc" src="/images/icon/celander.svg"/><span class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbthoigian): </span> <b> ' + dateSave + '</b></p>' +
                                '<p class="mb-flex"><img src="/images/icon/location.svg" class="only-pc icon_small"/><span class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbvitri): </span> <b> ' + device.Addr + '</b></p> ' +
                                '<p class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbcua): <b>' + device.DoorShow + '</b> @Html.Raw(khanhhoi.vn.Resources.Language.lbkhoa): <b> ' + device.KeyShow + '</b></p>'+
                            '</div>' +
                        '<div class="content_item item_right">' +
                            '<p class="mb-flex"><img src="/images/icon/kmh.svg" class="only-pc km"/><span class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbtrangthai): </span><b> ' + status + '</b></p>' +
                            '<p class="mb-flex"><img src="/images/icon/compass.svg" class="only-pc compass"/><span class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbtoado): </span> <b> ' + device.Latitude + '</b> - <b>' + device.Longitude + '</b></p>' +
                            '<p class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbngayhethandichvu): <b>' + DateExpired_ + '</b></p>' +
                             '<p class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbnhienlieu): <b>' + OilValue + '</b></p>' +
                             '<p class="mb-flex only-pc" data-toggle="modal" data-target="#myModal2"><img class="only-pc icon_footer" src = "/images/icon/more.svg" /> <b>xem chi tiết</b></p>' +
                        '</div>' +
                    '</div>' +
            '</div>';
        sideBar_Status =  '<p>@Html.Raw(khanhhoi.vn.Resources.Language.lbtenthietbi): <b>' + vehiclenumber + '</b></p>' +
                            '<p>@Html.Raw(khanhhoi.vn.Resources.Language.lbthoigian): <b>' + dateSave + '</b></p>' +
                            '<p>@Html.Raw(khanhhoi.vn.Resources.Language.lbvitri): <b>' + device.Addr + '</b></p> ' +
                            '<p>@Html.Raw(khanhhoi.vn.Resources.Language.lbcua): <b>' + device.DoorShow + '</b></p>' +
                             '<p>@Html.Raw(khanhhoi.vn.Resources.Language.lbtrangthai): <b>' + status + '</b></p>' +
                            '<p>@Html.Raw(khanhhoi.vn.Resources.Language.lbtoado): <b>' + device.Latitude + '</b> - <b>' + device.Longitude + '</b></p>' +
                            '<p>@Html.Raw(khanhhoi.vn.Resources.Language.lbngayhethandichvu): <b>' + DateExpired_ + '</b></p>' ;


        if (device.ioelement) {
            //strStatus += '<div style="border-bottom: solid 1px #bdbdbd; padding:2px; "></div>';
            //strStatus += '<span>Động cơ: <b>' + (ioelement.Ignition == '0' ? 'Không hoạt động' : 'Hoạt động') + '</b></span><br>' +
            //    '<div class="d-flex justify-content-between">' +
            //        '<p class="grow">Quãng đường chuyến đi: <b>' + (Number(ioelement.TripOdometer) / 1000).toFixed(2) + ' km;</b></p>' +
            //        '<p>Tổng quãng đường: <b>' + (Number(ioelement.TotalOdometer) / 1000).toFixed(2) + ' km</b></p>' +
            //    '</div>' +
            //    '<div class="d-flex justify-content-between">' +
            //        '<p class="grow">Nhiệt độ két nước: <b>' + ioelement.EngineCoolant + ' C</b></p>' +
            //        '<p>Thời gian chạy: <b>' + ioelement.RunTimeStart + ' s</b></p>' +
            //    '</div>' +
            //    '<div class="d-flex justify-content-between">' +
            //        '<p class="grow">Tuabin động cơ: <b>' + ioelement.EngineRPM + ' rpm</b></p>'
            //        //+
            ////'<p>Xăng dầu tiêu thụ: <b>' + ioelement.FuelUseGPS + ' ml</b></p>' +
            //+ '</b></p>' +
            //    '</div>'
            strStatus += '<div onclick="changeItem(2)" class="content-status_item text-center only-mb">' +
                    '<img src = "/images/icon/machine.svg" />' +
                    '<div class="wrapper_content item_02 d-flex text-left" data-index=2>' +
                        '<div class="content_item item_left">' +
                            '<p  class="only-mb">Động cơ: <b>' + (ioelement.Ignition == '0' ? 'Không hoạt động' : 'Hoạt động') + '</b></p>' +
                            '<p class="only-mb">Quãng đường chuyến đi: <b>' + (Number(ioelement.TripOdometer) / 1000).toFixed(2) + ' km;</b></p>' +
                            '<p class="only-mb">Nhiệt độ két nước: <b>' + ioelement.EngineCoolant + ' C</b></p> ' +
                            '<p class="only-mb">Thời gian chạy: <b>' + ioelement.RunTimeStart + ' s</b></p>' +
                        '</div>' +
                    '<div class="content_item item_right">' +
                        '<p class="only-mb">Tuabin động cơ: <b>' + ioelement.EngineRPM + ' rpm</b></p>' +
                        '<p class="only-mb">Tọa độ: <strong>10.843 - 106.654</strong></p>' +
                        '<p class="only-mb">Xăng dầu tiêu thụ: <b>' + ioelement.FuelUseGPS + ' ml</b></p>' +
                        '</div>' +
                    '</div>' +
                '</div>';
            sideBar_Status += '<p>Động cơ: <b>' + (ioelement.Ignition == '0' ? 'Không hoạt động' : 'Hoạt động') + '</b></p>' +
                '<p>Quãng đường chuyến đi: <b>' + (Number(ioelement.TripOdometer) / 1000).toFixed(2) + ' km;</b></p>' +
                '<p>Nhiệt độ két nước: <b>' + ioelement.EngineCoolant + ' C</b></p> ' +
                '<p>Thời gian chạy: <b>' + ioelement.RunTimeStart + ' s</b></p>' +
                '<p>Tuabin động cơ: <b>' + ioelement.EngineRPM + ' rpm</b></p>' +
                '<p>Tọa độ: <strong>10.843 - 106.654</strong></p>' +
                '<p>Xăng dầu tiêu thụ: <b>' + ioelement.FuelUseGPS + ' ml</b></p>';
        }

        var NameDriver = (device.NameDriver == null || device.NameDriver == 'null') ? '' : device.NameDriver;
        var PhoneDriver = (device.PhoneDriver == null || device.PhoneDriver == 'null') ? '' : device.PhoneDriver;
        var DriverLicense = (device.DriverLicense == null || device.DriverLicense == 'null') ? '' : device.DriverLicense;
        var Rank = (device.Rank == null || device.Rank == 'null') ? '' : device.Rank;
        var RegPlace = (device.RegPlace == 'null' || device.RegPlace == null) ? '' : device.RegPlace;
        @*strStatus += '<div style="border-bottom: solid 1px #bdbdbd; padding:2px; "></div>';
        strStatus += '<span style="white-space: nowrap;">@Html.Raw(khanhhoi.vn.Resources.Language.lbtenlaixe): <b>' + NameDriver + '</b></span><br>' +
            '<span style="white-space: nowrap;">@Html.Raw(khanhhoi.vn.Resources.Language.lbgplx): <b>' + DriverLicense + '</b></span><br>' +
            '<span style="white-space: nowrap;">@Html.Raw(khanhhoi.vn.Resources.Language.lbhang): <b>' + Rank + '</b></span><br>' +
            '<span style="white-space: nowrap;">@Html.Raw(khanhhoi.vn.Resources.Language.lbngaycap): <b>' + ((DayCreateLicense == 'undefined' || DayCreateLicense == null) ? '' : DayCreateLicense) + '</b></span><br>' +
            '<span style="white-space: nowrap;">@Html.Raw(khanhhoi.vn.Resources.Language.lbngayhethan): <b>' + ((DayExpiredLicense == 'undefined' || DayExpiredLicense == null) ? '' : DayExpiredLicense) + '</b></span><br>' +
            '<span style="white-space: nowrap;">@Html.Raw(khanhhoi.vn.Resources.Language.lbnoicap): <b>' + RegPlace + '</b></span><br>';*@
        strStatus += '<div onclick="changeItem(3)" class="content-status_item text-center only-mb">' +
            '<img src = "/images/icon/pass.svg" />' +
            '<div class="wrapper_content item_03 d-flex text-left" data-index=3>' +
            '<div class="content_item item_left">' +
            '<p  class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbtenlaixe): <b>' + NameDriver + '</b></p>' +
            '<p class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbgplx): <b>' + DriverLicense + '</b></p>' +
            '<p class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbhang): <b>' + Rank + '</b></p> ' +
            '</div>' +
            '<div class="content_item item_right">' +
            '<p class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbngayhethan): <b>' + ((DayExpiredLicense == 'undefined' || DayExpiredLicense == null) ? '' : DayExpiredLicense) + '</b></p>' +
            '<p class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbngaycap): <b>' + ((DayCreateLicense == 'undefined' || DayCreateLicense == null) ? '' : DayCreateLicense) + '</b></p>' +
            '<p class="only-mb">@Html.Raw(khanhhoi.vn.Resources.Language.lbnoicap): <b>' + RegPlace + '</b></p>' +
            '</div>' +
            '</div>' +
            '</div>';
        //strStatus += '<div type="button" class="btn btn-demo" data-toggle="modal" data-target="#myModal2">' +
        //                    '<span><img class="icon_footer" src = "/images/icon/more.svg" /></span>' +
        //                    '<b>chi tiết</b>' +
        //              '</div >';
        sideBar_Status += '<p>@Html.Raw(khanhhoi.vn.Resources.Language.lbtenlaixe): <b>' + NameDriver + '</b></p>' +
            '<p>@Html.Raw(khanhhoi.vn.Resources.Language.lbgplx): <b>' + DriverLicense + '</b></p>' +
            '<p>@Html.Raw(khanhhoi.vn.Resources.Language.lbhang): <b>' + Rank + '</b></p> ' +
            '<p>@Html.Raw(khanhhoi.vn.Resources.Language.lbngaycap): <b>' + ((DayCreateLicense == 'undefined' || DayCreateLicense == null) ? '' : DayCreateLicense) + '</b></p>' +
            '<p>@Html.Raw(khanhhoi.vn.Resources.Language.lbngayhethan): <b>' + ((DayExpiredLicense == 'undefined' || DayExpiredLicense == null) ? '' : DayExpiredLicense) + '</b></p>' +
            '<p>@Html.Raw(khanhhoi.vn.Resources.Language.lbnoicap): <b>' + RegPlace + '</b></p>';


        var _Symbol_arrow = {
            path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
            fillOpacity: 1, // 0.8, độ trong suốt bên trong
            fillColor: '#3ADF00', // màu xe
            strokeColor: '#190707', // màu viền
            strokeOpacity: 1, // độ trong suốt viền
            strokeWeight: 1.5, // độ rộng viền
            scale: 6
        };
        var color__; // màu sắc theo trang thái của xe
        if (device) {
            switch (device.status_id) {
                case 14:
                    color__ = 'xanh';
                    break;
                case 1:
                    color__ = 'do';
                    break;
                default:
                    color__ = 'den';
                    break;
            }
        }
        var _SVG_xetai = {
            url: `/images/Xe-tai/${color__}.svg`,
            anchor: new google.maps.Point(36, 36), // x=36, y=36
            scaledSize: new google.maps.Size(75, 75)
        };
        var _SVG_xecon = {
            url: `/images/Xe-con/${color__}.svg`,
            anchor: new google.maps.Point(25, 25), // x=25, y=25
            scaledSize: new google.maps.Size(50, 50),
        }
        var _SVG_xekhach = {
            url: `/images/Xe-khach/${color__}.svg`,
            anchor: new google.maps.Point(25, 25), // x=25, y=25
            scaledSize: new google.maps.Size(75, 75),
        }

        var _SVG_xedulich = {
            url: `/images/Xe-du-lich/${color__}.svg`,
            anchor: new google.maps.Point(26, 26), // x=25, y=25
            scaledSize: new google.maps.Size(55, 55),
        }
        var _SVG_xemay = {
            url: `/images/Xe-may/${color__}.svg`,
            anchor: new google.maps.Point(26, 26), // x=25, y=25
            scaledSize: new google.maps.Size(55, 55),
        }
        var _SVG_loaixe_giamsat = "";

        switch (color) {
            case 'green':
                break;
            default: //black
                _Symbol_arrow.fillColor = '#848484';
                _SVG_xedulich.fillColor = '#848484';
                _SVG_xekhach.fillColor = '#848484';
                _SVG_xecon.fillColor = '#848484';
                _SVG_xemay.fillColor = '#848484';
                _SVG_xetai.fillColor = '#ffffff';
        }

        switch (device.VehicleCategoryID) {
            case 0:
                break;
            case 2:
                _SVG_loaixe_giamsat = _SVG_xedulich;
                break;
            case 3:
                _SVG_loaixe_giamsat = _SVG_xemay;
                break;
            case 4:
                _SVG_loaixe_giamsat = _SVG_xetai;
                break;
            case 6:
                _SVG_loaixe_giamsat = _Symbol_arrow;
                break;
            case 7:
                _SVG_loaixe_giamsat = _SVG_xecon;
                break;
            default:
                _SVG_loaixe_giamsat = _SVG_xekhach;
                break;
        }
        imgUrl = _SVG_loaixe_giamsat.url; // lấy dường dẫn hình query để thay đổi hướng cho hình
        //marker.setIcon(_SVG_loaixe_giamsat);
        if (marker == null || statusid_ != device.statusid) {
            statusid_ = device.statusid;
            marker = new MarkerWithLabel({
                position: point, //Startpoint_
                labelContent: vehiclenumber,
                title: vehiclenumber,
                labelAnchor: new window.google.maps.Point(0, 25),
                labelClass: "markerlabels",
                labelStyle: {
                    opacity: 1.5,
                    fontWeight: "bold",
                    background: "#cfcfcf",
                    textTransform: "uppercase",
                    textShadow: "0 0 1px #666",
                    border: "1px solid #cfcfcf"
                },
                icon: _SVG_loaixe_giamsat
                //map: map, //show all marker on map
            });
            //marker.setMap(map);
        }


        armarkerTemp = [deviceID, marker];
        // bỏ tạo thông tin khi click vào xe trên bản đồ
        //infowindow.setContent('<div class="">' + strStatus + '</div>'); // hiện thông tin thiết bị khi click vào xe
        //google.maps.event.addListener(marker, 'click', function () {
        //    infowindow.open(map, marker);
        //});

        showStatus(strStatus, sideBar_Status);
        if (state == 1) {
            // load all the devices for the first time but don't show them on map.

        } else {
            var limitDistane = 1000;//m
            if (color == 'green') {
                if (old_lat == -1 && old_long == -1) {
                    if (ArrMarkerSelect.length > 0) { //show vị trí và zoom tới khi click trên list xe bên trái, khi interval thì ko panTo.
                        for (var k = 0; k < ArrMarkerSelect.length; k++) {
                            if (ArrMarkerSelect[k][0] == deviceID) {


                                armarker.push(armarkerTemp);
                                map.panTo(Startpoint_);
                                map.setZoom(16);
                                marker.setPosition(Startpoint_);
                                marker.setMap(map);
                                old_lat = device.Latitude;
                                old_long = device.Longitude;
                                var oldpoint = new window.google.maps.LatLng(old_lat, old_long);
                                var distane_temp = google.maps.geometry.spherical.computeDistanceBetween(oldpoint, Startpoint_);
                               // console.log("Bat dau: " + distane_temp);
                                if (distane_temp > limitDistane) {
                                    marker.setPosition(point);
                                    map.panTo(point)
                                }
                                animateMarker(marker, [[point.lat(), point.lng()]], 200, 30, _SVG_loaixe_giamsat);
                                //animateMarker_DirectionService(Startpoint_, point);
                                break;
                            }
                        }

                    }
                }
                else {
                    if (old_lat != device.Latitude && old_long != device.Longitude) {
                        for (var k = 0; k < ArrMarkerSelect.length; k++) {
                            if (ArrMarkerSelect[k][0] == deviceID) {

                                var oldpoint = new window.google.maps.LatLng(old_lat, old_long);
                                var distane_temp = google.maps.geometry.spherical.computeDistanceBetween(oldpoint, point);
                               // console.log(distane_temp);
                                marker.setPosition(oldpoint);
                                //map: map, //show all marker on map
                                armarker.push(armarkerTemp);
                                map.panTo(point); // toạ độ cũ
                                map.setZoom(map.getZoom());
                                marker.setMap(map);
                                old_lat = device.Latitude;
                                old_long = device.Longitude;
                                if (distane_temp > limitDistane) {
                                    marker.setPosition(point);
                                    map.panTo(point)
                                }
                                animateMarker(marker, [[point.lat(), point.lng()]], 200, 30, _SVG_loaixe_giamsat);
                                //animateMarker_DirectionService(Startpoint_, point);
                                break;
                            }
                        }
                    }
                    else {
                        if (ArrMarkerSelect.length > 0) { //show vị trí và zoom tới khi click trên list xe bên trái, khi interval thì ko panTo.
                            for (var k = 0; k < ArrMarkerSelect.length; k++) {
                                if (ArrMarkerSelect[k][0] == deviceID) {
                                    armarker.push(armarkerTemp);
                                    map.setZoom(map.getZoom());
                                    marker.setMap(map);
                                    old_lat = device.Latitude;
                                    old_long = device.Longitude;
                                    break;
                                }
                            }
                        }
                    }
                }
            }
            else { // xe dung, do => set dung im tai vi tri moi
                if (ArrMarkerSelect.length > 0) { //show vị trí và zoom tới khi click trên list xe bên trái, khi interval thì ko panTo.
                    for (var k = 0; k < ArrMarkerSelect.length; k++) {
                        if (ArrMarkerSelect[k][0] == deviceID) {
                            armarker.push(armarkerTemp);
                            map.panTo(point);
                            map.setZoom(map.getZoom());
                            marker.setMap(map);

                            //old_lat = device.Latitude;
                            //old_long = device.Longitude;
                            break;
                        }
                    }
                }
            }
        }
    };
    var img_temp;
    // Thay đổi hướng cho xe khi di chuyển
    function transformIcon() {
        var img = document.querySelector(`img[src="${imgUrl}"]`);
        //console.log(img);
        if (img!=null) {
            img.style.transform = `rotate(${heading}deg)`, img.style.transition = 'all 1s linear';
            img_temp = img;
           // console.log("img!=null");
        }
        else {
            if (img_temp!=null) {
                img = img_temp;
                img.style.transform = `rotate(${heading}deg)`, img.style.transition = 'all 1s linear';
              //  console.log("img==null");
            }
        }

    }
    // tạo hướng di chuyển cho xe
    function angleFromCoordinate(lat1, lon1, lat2, lon2) {
        var p1 = {
            x: lat1,
            y: lon1
        };

        var p2 = {
            x: lat2,
            y: lon2
        };
        // angle in radians
        var angleRadians = Math.atan2(p2.y - p1.y, p2.x - p1.x);
        // angle in degrees
        var angleDeg = Math.atan2(p2.y - p1.y, p2.x - p1.x) * 180 / Math.PI;

        // document.getElementById('rotation').innerHTML = "Rotation : " + angleDeg;
        return angleDeg;

    }

    function animateMarker(marker, coords, km_h, delay, _svg) {
        var heading_temp = 0;
        //heading
        var target = 0;
        function goToPoint() {
            var lat = marker.position.lat();
            var lng = marker.position.lng();
            heading_temp = angleFromCoordinate(lat, lng, coords[target][0], coords[target][1]);
          //  console.log(heading_temp);
            if (heading_temp != 0 && heading_temp!=heading) {
                heading = heading_temp;
            }
            var step = (km_h * 1000 * delay) / 3600000; // in meters
            var dest = new google.maps.LatLng(
            coords[target][0], coords[target][1]);
            distance = google.maps.geometry.spherical.computeDistanceBetween(dest, marker.position); // in meters
            var numStep = distance / step;
            var i = 0;
            var deltaLat = (coords[target][0] - lat) / numStep;
            var deltaLng = (coords[target][1] - lng) / numStep;
            function moveMarker() {
                lat += deltaLat;
                lng += deltaLng;
                i += step;
                transformIcon();
                if (i < distance) {
                    marker.setPosition(new google.maps.LatLng(lat, lng));
                    map.panTo(marker.getPosition());
                    _moveMarker = setTimeout(moveMarker, delay);
                }

            }
            moveMarker();
        }

        goToPoint();
    };

    //-------------------------------------
    //var directionsDisplay = new Array();

    function animateMarker_DirectionService(_Org, _Des, _Org_Coor) {

        //var lat_lng = [];
        //for (var i = 0; i < markers.length; i++) {
        //    var data = markers[i];
        //    var myLatLng = new google.maps.LatLng(data.lat, data.lng);
        //    lat_lng.push(myLatLng);
        //}

        //for (var i = 0; i < lat_lng.length - 1; i++) {
        //    var request = {
        //        origin: lat_lng[i],
        //        destination: lat_lng[i + 1],
        //        travelMode: google.maps.DirectionsTravelMode.DRIVING
        //    };
        //    requestArray.push(request);
        //}
        //if (requestArray.length > 0) {
        //    service.route(requestArray[cur], directionResults);
        //}

        //if (renderArray.length > 0) {
        //    for (var i = 0; i < renderArray.length; i++) {
        //        try { renderArray[i].setMap(null); } catch (e) { }
        //    }
        //    cur = 0, requestArray = [], renderArray = [];
        //}

        var _SVG_xedulich_test = {
            path: 'M100.079,60.742c0.018,1.316-1.748,9.024-1.441,18.999c0.654,21.309,1.363,52.963-0.471,54.744     c-3.248,3.154-47.857,2.615-50.029,0c-1.627-1.957-0.996-33.498-0.412-54.746c0.273-9.973-1.523-17.677-1.508-18.996     c0.072-5.602-1.924-31.316-0.221-45.779c1.107-9.428,2.768-8.209,8.873-10.355c9.051-3.182,27.256-3.52,36.563,0     c6.613,2.502,7.764,0.928,8.875,10.355C102.009,29.426,100.011,55.141,100.079,60.742z' +
                'M100.866,39.122c-0.086,0.539-0.068,1.014-0.068,1.014l8.139,1.951c0,0,0.129-0.223,0.211-0.535      L100.866,39.122z' +
                'M45.497,39.209c0.088,0.537,0.068,1.014,0.068,1.014l-8.139,1.949c0,0-0.129-0.223-0.211-0.535      L45.497,39.209z' +
                'M84.593,43.305c-5.357-0.529-17.523-0.529-22.883,0c-4.855,0.479-8.334,1.42-9.619,1.807     l-3.113-12.488c0.266-0.209,0.789-0.416,1.615-0.668c1.887-0.574,5.166-1.529,10.301-2.314c7.365-1.125,17.15-1.125,24.518,0     c5.133,0.785,8.412,1.74,10.299,2.314c0.826,0.252,1.35,0.459,1.615,0.668l-3.113,12.488     C92.925,44.725,89.448,43.784,84.593,43.305z' +
                'M98.751,11.612c0.059-0.445,0.459-1.695-0.15-2.859c-0.789-1.518-4.24-3.086-6.494-3.756      C92.804,8.596,97.169,10.85,98.751,11.612z' +
                'M48.169,11.612c-0.061-0.445-0.459-1.695,0.15-2.859c0.787-1.518,4.24-3.086,6.494-3.756      C54.114,8.596,49.749,10.85,48.169,11.612z' +
                'M59.524,51.239c0-0.551-0.32-0.998-0.711-0.998l0,0c-0.395,0-0.711,0.447-0.711,0.998v77.015      c0,0.553,0.316,0.998,0.711,0.998l0,0c0.391,0,0.711-0.445,0.711-0.998V51.239z' +
                'M74.507,51.239c0-0.551-0.32-0.998-0.711-0.998l0,0c-0.395,0-0.711,0.447-0.711,0.998v77.015      c0,0.553,0.316,0.998,0.711,0.998l0,0c0.391,0,0.711-0.445,0.711-0.998V51.239z' +
                'M88.329,51.239c0-0.551-0.316-0.998-0.709-0.998l0,0c-0.393,0-0.711,0.447-0.711,0.998v77.015      c0,0.553,0.318,0.998,0.711,0.998l0,0c0.393,0,0.709-0.445,0.709-0.998V51.239z' +
                'M86.647,3.094V8.27H59.655V3.094C67.86,1.064,78.444,1.064,86.647,3.094z',
            anchor: new google.maps.Point(75, 75),
            scale: 0.4,
            fillOpacity: 0.8,
            fillColor: 'red',
            strokeColor: 'black',
            strokeOpacity: 1,
            strokeWeight: 1
        };
        requestArray = [];
        directionsDisplay = [];
        var a = _Org_Coor;
        //debugger;

        rendererOptions = {
            map: map,
            suppressMarkers: true,
            preserveViewport: true
        }

        var request = { //danhdau01
            origin: _Org,
            destination: _Des,
            travelMode: google.maps.DirectionsTravelMode.DRIVING
        };
        requestArray.push(request);
        if (requestArray.length > 0) {
            service.route(requestArray[0], makeRouteCallback(0, directionsDisplay[0])); // directionResults
        }
    };
    //-------------------------------------
    function makeRouteCallback(routeNum, disp) {
        if (polyline[routeNum] && (polyline[routeNum].getMap() != null)) {
            startAnimation(routeNum);
            return;
        }
        return function (response, status) {
            if (status == google.maps.DirectionsStatus.OK) {
                var bounds = new google.maps.LatLngBounds();
                var route = response.routes[0];
                startLocation[routeNum] = new Object();
                endLocation[routeNum] = new Object();

                polyline[routeNum] = new google.maps.Polyline({
                    path: [],
                    strokeColor: '#FFFF00',
                    strokeWeight: 3
                });

                poly2[routeNum] = new google.maps.Polyline({
                    path: [],
                    strokeColor: '#FFFF00',
                    strokeWeight: 3
                });

                // For each route, display summary information.
                var path = response.routes[0].overview_path;
                var legs = response.routes[0].legs;

                disp = new google.maps.DirectionsRenderer(rendererOptions);
                disp.setMap(map);
                disp.setDirections(response);
                directionsDisplay.push(disp);

                //Markers
                for (i = 0; i < legs.length; i++) {
                    if (i == 0) {
                        startLocation[routeNum].latlng = legs[i].start_location;
                        startLocation[routeNum].address = legs[i].start_address;
                        // marker = google.maps.Marker({map:map,position: startLocation.latlng});
                        marker[routeNum] = createMarker(legs[i].start_location, "start", legs[i].start_address, "green");
                    }
                    endLocation[routeNum].latlng = legs[i].end_location;
                    endLocation[routeNum].address = legs[i].end_address;
                    var steps = legs[i].steps;

                    for (j = 0; j < steps.length; j++) {
                        var nextSegment = steps[j].path;
                        var nextSegment = steps[j].path;

                        for (k = 0; k < nextSegment.length; k++) {
                            polyline[routeNum].getPath().push(nextSegment[k]);
                            //bounds.extend(nextSegment[k]);
                        }

                    }
                }
            }
            polyline[routeNum].setMap(map);
            startAnimation(routeNum);
        }
    };
    function startAnimation(index) {
        if (timerHandle[index]) clearTimeout(timerHandle[index]);
        eol[index] = polyline[index].Distance();
        map.setCenter(polyline[index].getPath().getAt(0));
        poly2[index] = new google.maps.Polyline({ path: [polyline[index].getPath().getAt(0)], strokeColor: "#FFFF00", strokeWeight: 3 });
        timerHandle[index] = setTimeout("animate(" + index + ",10)", 50);  // Allow time for the initial map display
    };
    function animate(index, d) {
        if (d > eol[index]) {
            marker[index].setPosition(endLocation[index].latlng);
            return;
        }
        var p = polyline[index].GetPointAtDistance(d);
        //map.panTo(p);
        marker[index].setPosition(p);
        updatePoly(index, d);
        timerHandle[index] = setTimeout("animate(" + index + "," + (d + step) + ")", tick);
    };

    function createMarker(latlng, label, html) {
        var contentString = '<b>' + label + '</b><br>' + html;
        _marker_dir = new google.maps.Marker({
            position: latlng,
            map: map,
            title: label,
            zIndex: Math.round(latlng.lat() * -100000) << 5
        });
        _marker_dir.myname = label;
        google.maps.event.addListener(marker, 'click', function () {
            infowindow.setContent(contentString);
            infowindow.open(map, _marker_dir);
        });
        return _marker_dir;
    };
    function updatePoly(i, d) {
        // Spawn a new polyline every 20 vertices, because updating a 100-vertex poly is too slow
        if (poly2[i].getPath().getLength() > 20) {
            poly2[i] = new google.maps.Polyline([polyline[i].getPath().getAt(lastVertex - 1)]);
        }

        if (polyline[i].GetIndexAtDistance(d) < lastVertex + 2) {
            if (poly2[i].getPath().getLength() > 1) {
                poly2[i].getPath().removeAt(poly2[i].getPath().getLength() - 1)
            }
            poly2[i].getPath().insertAt(poly2[i].getPath().getLength(), polyline[i].GetPointAtDistance(d));
        } else {
            poly2[i].getPath().insertAt(poly2[i].getPath().getLength(), endLocation[i].latlng);
        }
    };
    //-------------------------------------
    function directionResults(result, status) {


        if (status == google.maps.DirectionsStatus.OK) {
            renderArray[cur] = new google.maps.DirectionsRenderer();
            renderArray[cur].setMap(map);
            renderArray[cur].setDirections(result);

        }
        //cur++;
        //if (cur < requestArray.length) {
        //    service.route(requestArray[cur], directionResults);
        //}



    };
    //-------------------------------------

    function mySearch(id_search, list_result, style_search) {
        var _id_search, ul, filter;
        _id_search = document.getElementById(id_search);
        filter = _id_search.value.toUpperCase();
        ul = document.getElementById(list_result);

        if (style_search == 1) {
            var li, a1;
            li = ul.getElementsByTagName('li');
            for (var i = 0; i < li.length; i++) {
                a1 = li[i].getElementsByTagName("a")[0];
                if (a1.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    li[i].style.display = "";
                } else {
                    li[i].style.display = "none";
                }
            }
        }
        else if (style_search == 2) {
            var input, label, span;
            input = ul.getElementsByTagName('input');
            label = ul.getElementsByTagName('label');
            for (i = 0; i < label.length; i++) { // input.length
                if (label[i].innerHTML.toUpperCase().indexOf(filter) > -1) {
                    label[i].style.display = "";
                } else {
                    label[i].style.display = "none";
                }
            }
        }
        else { }
    };
    function ListDeviceSearch(id_search, list_result) {
        var _id_search, _list_result, filter, tr, td;
        _id_search = document.getElementById(id_search);
        _list_result = document.getElementById(list_result);
        tr = _list_result.getElementsByTagName('tr');
        filter = _id_search.value.toUpperCase();

        for (var i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName('td')[3];
            if (td.innerText.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
            }
        }
    };
    function reURL_IMG(device) {
        var color = device.color;
        var VehicleCategoryID = device.VehicleCategoryID;
        var imgurl = '';
        if (device.VehicleNumber == "THAPCAU") { // xử lý image cho user: hado45
            imgurl = '/images/ThapCau/thapcau_01_35.png';
        }
        else {
            switch (VehicleCategoryID) {
                case 2:
                    switch (color) {
                        case 'red':
                            imgurl = '/images/Xe-du-lich/muv-red.png';
                            break;
                        case 'green':
                            imgurl = '/images/Xe-du-lich/muv-green.png';
                            break;
                        case 'blue':
                            imgurl = '/images/Xe-du-lich/muv-green.png';
                            break;
                        default:
                            imgurl = '/images/Xe-du-lich/muv-black.png';
                    }
                    break;
                case 3:
                    switch (color) {
                        case 'red':
                            imgurl = '/images/Xe-may/Motorcycle_red.png';
                            break;
                        case 'green':
                            imgurl = '/images/Xe-may/Motorcycle_green.png';
                            break;
                        case 'blue':
                            imgurl = '/images/Xe-may/Motorcycle_green.png';
                            break;
                        default:
                            imgurl = '/images/Xe-may/Motorcycle_black.png';
                    }
                    break;
                case 4:
                    switch (color) {
                        case 'red':
                            imgurl = '/images/Xe-tai/truck-red.png'; ///
                            break;
                        case 'green':
                            imgurl = '/images/Xe-tai/truck-green.png'; ///
                            break;
                        case 'blue':
                            imgurl = '/images/Xe-tai/truck-green.png';
                            break;
                        default:
                            imgurl = '/images/Xe-tai/truck-black.png'; ///
                    }
                    break;
                case 6:
                    switch (color) {

                        case 'red':
                            imgurl = '/images/Mui-ten/direction-red.png';
                            break;
                        case 'green':
                            imgurl = '/images/Mui-ten/direction-green.png';
                            break;
                        case 'blue':
                            imgurl = '/images/Mui-ten/direction-green.png';
                            break;
                        default:
                            imgurl = '/images/Mui-ten/direction-black.png';

                    }
                    break;
                case 7:
                    switch (color) {
                        case 'red':
                            imgurl = '/images/Xe-con/car-red.png'; //
                            break;
                        case 'green':
                            imgurl = '/images/Xe-con/car-green.png'; //
                            break;
                        case 'blue':
                            imgurl = '/images/Xe-con/car-green.png'; //
                            break;
                        default:
                            imgurl = '/images/Xe-con/car-black.png'; //
                    }
                    break;
                default:
                    switch (color) {
                        case 'red':
                            imgurl = '/images/Xe-khach/bus-red.png';
                            break;
                        case 'green':
                            imgurl = '/images/Xe-khach/bus-green.png';
                            break;
                        case 'blue':
                            imgurl = '/images/Xe-khach/bus-green.png';
                            break;
                        default:
                            imgurl = '/images/Xe-khach/bus-black.png';
                    }
            }
        }

        return imgurl;
    };
    function giamsat_toggle_click(idRow) {

        //if (renderArray.length > 0) {
        //    for (var i = 0; i < renderArray.length; i++) {
        //        try {
        //            renderArray[i].setMap(null);
        //            renderArray[i].setDirections(null);
        //        } catch (e) { }
        //    }
        //    cur = 0, requestArray = [], renderArray = [];
        //}
        //debugger;
        try { //danhdau01
            polyline[0].setMap(null);
            for (var i = 0; i < directionsDisplay.length; i++) {
                directionsDisplay[i].setMap(null);
            }
            _marker_dir.setMap(null);
        } catch (e) { }

        $('.sidebar').toggleClass('active');
        $('.header__.active') ? $('.header__.active').removeClass('active') : '';
        var _giamsattoggle = document.getElementById("giamsat_toggle");
        _giamsattoggle.style.display = "none";
        _giamsattoggle.classList.remove("toggle");
        check_status = false;
        if (armarker.length > 0) {
            armarker[0][1].setMap(null);
            armarker.splice(0, 1);
        }
        try {
            var _idrow = 'tr' + ArrMarkerSelect[0][0];
            //document.getElementById(_idrow).setAttribute("style", "background-color:white;");
            ArrMarkerSelect.splice(0, 1);
        } catch (e) { }
        showStatus(strStatus, sideBar_Status);
        clearTimeout(_moveMarker);
        old_lat = -1;
        old_long = -1;
        distance = -1;
    };
    // hiện trạng thái của thiết bị
    function showStatus(strStatus, sideBar_Status) {
        var content_status = document.getElementById("content-status");
        check_status ? ($('#content-status').html(strStatus),
            $('.readMoreInfo .modal-body').html(sideBar_Status), $('.btn-demo').addClass('active'),
            content_status ? content_status.classList.add('active') : '') : ($('.readMoreInfo').removeClass('in'), $('.readMoreInfo').removeAttr('style'), $('.btn-demo').removeClass('active'), $('#content-status').html(''), $('.readMoreInfo .modal-body').html(''), content_status.classList.remove('active'));
    }
    // chuyển status theo đúng định dạng
    function pareTimeByStatus(device) {
        var arr,
            hour,
            minutes,
            ms, // mang sau khi cat chuoi
            getTime,
            contentStr; // lay thoi gian truoc chu 'h'
        if (device) {
            if (device.status_id == 1) {// xe mất liên lạc
                arr = device.Status.split(" ");
                getTime = arr[arr.length - 1].split('h');
                hour = arr[0];
                minutes = arr[1];
                if (hour > 24) {
                    hour = hour % 24;

                }
                contentStr = "@Html.Raw(khanhhoi.vn.Resources.Language.lbngay) " + minutes + " @Html.Raw(khanhhoi.vn.Resources.Language.lbphut)";
            }
            else if (device.status_id == 11) { // status xe dừng
                arr = device.Status.split(" ");
                ms = arr[1];
                contentStr = "@Html.Raw(khanhhoi.vn.Resources.Language.lbdung) " + ms + " @Html.Raw(khanhhoi.vn.Resources.Language.lbphut)";
            } else if (device.status_id == 12) { // status xe đậu
                arr = device.Status.split(" ");
                contentStr = "@Html.Raw(khanhhoi.vn.Resources.Language.lbdau) " + arr[1] + " @Html.Raw(khanhhoi.vn.Resources.Language.lbphut)";
            } else if (device.status_id == 14) {// xe đang chạy
                contentStr = device.Status;
            }

        }


        return contentStr;

    }
    function createTable(data) {
        var valueItem = document.getElementById("selectState").value; // chọn trạng thái
        if (valueItem_current != valueItem) {
            valueItem_current = valueItem;
            if (armarker.length > 0) {
                var groupXe_ = document.getElementsByClassName("groupXe");
                for (var q = 0; q < q.length; q++) {
                    groupXe_[q].style.backgroundColor = "white";
                }
                for (var k = 0; k < ArrMarkerSelect.length; k++) {
                    ArrMarkerSelect.splice(k, 1);
                    k--;
                    if (armarker.length > 0) {
                        for (var l = 0; l < armarker.length; l++) {
                            armarker[l][1].setMap(null);
                            armarker.splice(l, 1);
                            l--;
                        }
                    }
                }
            }
        }

        var tbl = document.getElementById("tbldata");
        var tongsoxe = document.getElementById("tongsoxe"); // tongsoxe
        var tablebody = document.getElementById('tblbodydata'); // add từng row
        while (tablebody.firstChild)
            tablebody.removeChild(tablebody.firstChild);
        var _count = 0; // đếm số lương theo trạng thái
        tongsoxe.innerHTML = "<b>@khanhhoi.vn.Resources.Language.lbtongsoxe: " + _count + "</b>";

        if (_ArrMarkerDes.length > 0) { // hide marker end lo trinh when tab switcher.
            Gmarker_lotrinh_end.setMap(null);
        }
        var count_item = 0;
        for (var i = 0; i < data.length; i++) {
            var row = document.createElement("tr");
            row.setAttribute("id", "tr" + data[i].DeviceID);
            row.setAttribute("className", "groupXe");
            row.setAttribute("onclick", "clickRow(" + data[i].DeviceID + ");ShowInfoMap(" + data[i].DeviceID + ",1,'');");
            row.setAttribute("data-toggle", "tooltip");
            row.setAttribute("data-placement", "right");
            row.setAttribute("data-html", "true");
            row.setAttribute("class", "tr_hover_select");

            var _vitri = data[i].Addr;
            if (_vitri == "" || _vitri == null)
                _vitri = "Không xác định";
            if (data[i].status_id != 6) {
                row.setAttribute("title", "Vị trí: " + _vitri);
            }

            if (ArrMarkerSelect.length > 0) {
                for (var k = 0; k < ArrMarkerSelect.length; k++) {
                    if (ArrMarkerSelect[k][0] == data[i].DeviceID) {
                        //row.setAttribute("style", "background-color:burlywood;");
                        break;
                    }
                }
            }
            var cell = document.createElement("td");
            var divimg = document.createElement("td");
            var imgurl = reURL_IMG(data[i]);
            var key_status_ = 0;
            if (data[i].Key_ == 1) {
                if (data[i].Switch_ == 1) {
                    key_status_ = data[i].StatusKey == 0 ? 1 : 0;

                }
                else {
                    key_status_ = data[i].StatusKey == 1 ? 1 : 0;
                }
            }
            else {
                key_status_ = 1;
            }

            var cell_stt = document.createElement("td");
            switch (parseInt(valueItem)) {
                case 0: // show all xe
                    imgArr[i] = imgurl;
                    if (deviceid_gl > 0 && deviceid_gl==data[i].DeviceID) {
                        ShowInfoMap(data[i].DeviceID, 0, imgurl);
                    }


                    cell_stt.setAttribute("class", "alignCenter");
                    cell_stt.innerHTML = count_item += 1;
                    row.appendChild(cell_stt);
                    var img_ = document.createElement("img");
                    img_.setAttribute("src", imgurl);
                    divimg.appendChild(img_);
                    cell.appendChild(divimg);
                    var div = document.createElement("td"); //div
                    div.innerHTML = data[i].VehicleNumber;
                    cell.appendChild(div);
                    row.appendChild(cell);

                    var status = data[i].Status;
                    if (status.indexOf("Đậu") >= 0) {
                        status = status.replace("Đậu", "Đỗ");
                    }

                    if (status.indexOf("phút") >= 0) { }
                    else {
                        var arr_split_status01 = status.split(' ');
                        if (arr_split_status01.length == 2) { // Đỗ 240h12
                            try {
                                var arr_split_status02 = arr_split_status01[1].split('h');
                                if (arr_split_status02[0] >= 24) {
                                    var _ngay = Math.floor(arr_split_status02[0] / 24); //Math.round()
                                    var _gio = arr_split_status02[0] % 24;
                                    if (_gio == 0)

                                        arr_split_status01[1] = _ngay + " ";
                                    else
                                        arr_split_status01[1] = _ngay + " @Html.Raw(khanhhoi.vn.Resources.Language.lbngay) " + _gio + " @khanhhoi.vn.Resources.Language.lbgio";

                                    status = arr_split_status01[0] + " " + arr_split_status01[1];
                                }
                            } catch (e) { }
                        }
                        else if (arr_split_status01.length == 3) { // mất GPS. 53h12
                            try {
                                var arr_split_status03 = arr_split_status01[2].split('h');
                                if (arr_split_status03[0] >= 24) {
                                    var _ngay = Math.floor(arr_split_status03[0] / 24);
                                    var _gio = arr_split_status03[0] % 24;
                                    if (_gio == 0) {
                                        arr_split_status01[2] = _ngay + " @Html.Raw(khanhhoi.vn.Resources.Language.lbngay)";
                                    }
                                    else {
                                        arr_split_status01[2] = _ngay + " @Html.Raw(khanhhoi.vn.Resources.Language.lbngay) " + _gio + " @khanhhoi.vn.Resources.Language.lbgio";
                                    }
                                    status = arr_split_status01[0] + " " + arr_split_status01[1] + " " + arr_split_status01[2];
                                }
                            } catch (e) { }
                        }
                        else if (arr_split_status01.length == 4) { //mất liên lạc 200h10
                            try {
                                var arr_split_status04 = arr_split_status01[3].split('h');
                                if (arr_split_status04[0] >= 24) {
                                    var _ngay = Math.floor(arr_split_status04[0] / 24);
                                    var _gio = arr_split_status04[0] % 24;
                                    if (_gio == 0)
                                        arr_split_status01[3] = _ngay + " @Html.Raw(khanhhoi.vn.Resources.Language.lbngay)";
                                    else
                                        arr_split_status01[3] = _ngay + " @Html.Raw(khanhhoi.vn.Resources.Language.lbngay) " + _gio + " @khanhhoi.vn.Resources.Language.lbgio";

                                    status = arr_split_status01[0] + " " + arr_split_status01[1] + " " + arr_split_status01[2] + " " + arr_split_status01[3];
                                }
                            } catch (e) { }
                        }
                    }

                    var cellText1 = document.createTextNode(status);
                    var cell1 = document.createElement("td");
                    cell1.appendChild(cellText1);
                    row.appendChild(cell1);

                    try {
                        var dt = new Date(parseInt(data[i].DateSave.replace('/Date(', '')));
                        var dateSave = (dt.getHours() < 10 ? ('0' + dt.getHours()) : dt.getHours()) + ':' + (dt.getMinutes() < 10 ? ('0' + dt.getMinutes()) : dt.getMinutes()) + ':' + (dt.getSeconds() < 10 ? ('0' + dt.getSeconds()) : dt.getSeconds());
                    } catch (e) { }

                    var cell2 = document.createElement("td");
                    var cellText2 = document.createTextNode(dateSave);
                    cell2.appendChild(cellText2);
                    row.appendChild(cell2);

                    var _td_address = document.createElement("td");
                    _td_address.innerHTML = data[i].Addr;
                    row.appendChild(_td_address);
                    tablebody.appendChild(row);
                    tongsoxe.innerHTML = "<b>@khanhhoi.vn.Resources.Language.lbtongsoxe: " + data.length + "</b>";
                    break;
                case 1: // mở máy
                    if (key_status_ == 1 && (data[i].status_id != 1 && data[i].status_id != 2 && data[i].status_id != 3 && data[i].status_id != 4 && data[i].status_id != 5)) {
                        imgArr[i] = imgurl;
                        if (deviceid_gl > 0 && deviceid_gl==data[i].DeviceID) {
                            ShowInfoMap(data[i].DeviceID, 0, imgurl);
                        }
                        cell_stt.setAttribute("class", "alignCenter");
                        cell_stt.innerHTML = count_item += 1;
                        row.appendChild(cell_stt);
                        var img_ = document.createElement("img");
                        img_.setAttribute("src", imgurl);
                        divimg.appendChild(img_);
                        cell.appendChild(divimg);
                        var div = document.createElement("td");
                        div.innerHTML = data[i].VehicleNumber;
                        cell.appendChild(div);
                        row.appendChild(cell);
                        var cell1 = document.createElement("td");
                        var cellText1 = document.createTextNode(data[i].Status);
                        cell1.appendChild(cellText1);
                        row.appendChild(cell1);
                        try {
                            var dt = new Date(parseInt(data[i].DateSave.replace('/Date(', '')));
                            var dateSave = (dt.getHours() < 10 ? ('0' + dt.getHours()) : dt.getHours()) + ':' + (dt.getMinutes() < 10 ? ('0' + dt.getMinutes()) : dt.getMinutes()) + ':' + (dt.getSeconds() < 10 ? ('0' + dt.getSeconds()) : dt.getSeconds());
                        } catch (e) { }
                        var cell2 = document.createElement("td");
                        var cellText2 = document.createTextNode(dateSave);
                        cell2.appendChild(cellText2);
                        row.appendChild(cell2);

                        var col_diachi = document.createElement("td");
                        col_diachi.innerHTML = data[i].Addr;
                        row.appendChild(col_diachi);

                        tablebody.appendChild(row);
                        _count++;
                        tongsoxe.innerHTML = "<b>@khanhhoi.vn.Resources.Language.lbtongsoxe: " + _count + "</b>";
                    }
                    break;
                case 2: // tắt máy
                    if (key_status_ == 0 && (data[i].status_id != 1 && data[i].status_id != 2 && data[i].status_id != 3 && data[i].status_id != 4 && data[i].status_id != 5)) {

                        imgArr[i] = imgurl;
                        if (deviceid_gl > 0 && deviceid_gl==data[i].DeviceID) {
                            ShowInfoMap(data[i].DeviceID, 0, imgurl);
                        }
                        cell_stt.setAttribute("class", "alignCenter");
                        cell_stt.innerHTML = count_item += 1;
                        row.appendChild(cell_stt);
                        var img_ = document.createElement("img");
                        img_.setAttribute("src", imgurl);
                        divimg.appendChild(img_);
                        cell.appendChild(divimg);
                        var div = document.createElement("td");

                        div.innerHTML = data[i].VehicleNumber;
                        cell.appendChild(div);
                        row.appendChild(cell);
                        var cell1 = document.createElement("td");
                        var cellText1 = document.createTextNode(data[i].Status);
                        cell1.appendChild(cellText1);
                        row.appendChild(cell1);
                        try {
                            var dt = new Date(parseInt(data[i].DateSave.replace('/Date(', '')));
                            var dateSave = (dt.getHours() < 10 ? ('0' + dt.getHours()) : dt.getHours()) + ':' + (dt.getMinutes() < 10 ? ('0' + dt.getMinutes()) : dt.getMinutes()) + ':' + (dt.getSeconds() < 10 ? ('0' + dt.getSeconds()) : dt.getSeconds());
                        } catch (e) { }
                        var cell2 = document.createElement("td");
                        var cellText2 = document.createTextNode(dateSave);
                        cell2.appendChild(cellText2);
                        row.appendChild(cell2);

                        var col_diachi = document.createElement("td");
                        col_diachi.innerHTML = data[i].Addr;
                        row.appendChild(col_diachi);

                        tablebody.appendChild(row);
                        _count++;
                        tongsoxe.innerHTML = "<b>@khanhhoi.vn.Resources.Language.lbtongsoxe: " + _count + "</b>";
                    }
                    break;
                case 3: // di chuyển
                    if (data[i].Speed > 0 && (data[i].status_id != 1 && data[i].status_id != 2 && data[i].status_id != 3 && data[i].status_id != 4 && data[i].status_id != 5)) {
                        imgArr[i] = imgurl;
                        if (deviceid_gl > 0 && deviceid_gl==data[i].DeviceID) {
                            ShowInfoMap(data[i].DeviceID, 0, imgurl);
                        }
                        cell_stt.setAttribute("class", "alignCenter");
                        cell_stt.innerHTML = count_item += 1;
                        row.appendChild(cell_stt);
                        var img_ = document.createElement("img");
                        img_.setAttribute("src", imgurl);
                        divimg.appendChild(img_);
                        cell.appendChild(divimg);
                        var div = document.createElement("td");
                        div.innerHTML = data[i].VehicleNumber;
                        cell.appendChild(div);
                        row.appendChild(cell);
                        var cell1 = document.createElement("td");
                        var cellText1 = document.createTextNode(data[i].Status);
                        cell1.appendChild(cellText1);
                        row.appendChild(cell1);
                        try {
                            var dt = new Date(parseInt(data[i].DateSave.replace('/Date(', '')));
                            var dateSave = dt.getHours() + ':' + dt.getMinutes() + ':' + dt.getSeconds();
                        } catch (e) { }
                        var cell2 = document.createElement("td");
                        var cellText2 = document.createTextNode(dateSave);
                        cell2.appendChild(cellText2);
                        row.appendChild(cell2);

                        var col_diachi = document.createElement("td");
                        col_diachi.innerHTML = data[i].Addr;
                        row.appendChild(col_diachi);

                        tablebody.appendChild(row); // add the row to the end of the table body
                        _count++;
                        tongsoxe.innerHTML = "<b>@khanhhoi.vn.Resources.Language.lbtongsoxe: " + _count + "</b>";
                    }
                    break;
                case 4: // dừng đỗ
                    if (data[i].status_id == 11 || data[i].status_id == 12) {
                        imgArr[i] = imgurl;
                        if (deviceid_gl > 0 && deviceid_gl==data[i].DeviceID) {
                            ShowInfoMap(data[i].DeviceID, 0, imgurl);
                        }
                        cell_stt.setAttribute("class", "alignCenter");
                        cell_stt.innerHTML = count_item += 1;
                        row.appendChild(cell_stt);
                        var img_ = document.createElement("img");
                        img_.setAttribute("src", imgurl);
                        divimg.appendChild(img_);
                        cell.appendChild(divimg);
                        var div = document.createElement("td");

                        div.innerHTML = data[i].VehicleNumber;
                        cell.appendChild(div);
                        row.appendChild(cell);
                        var cell1 = document.createElement("td");
                        var cellText1 = document.createTextNode(data[i].Status);
                        cell1.appendChild(cellText1);
                        row.appendChild(cell1);
                        try {
                            var dt = new Date(parseInt(data[i].DateSave.replace('/Date(', '')));
                            var dateSave = (dt.getHours() < 10 ? ('0' + dt.getHours()) : dt.getHours()) + ':' + (dt.getMinutes() < 10 ? ('0' + dt.getMinutes()) : dt.getMinutes()) + ':' + (dt.getSeconds() < 10 ? ('0' + dt.getSeconds()) : dt.getSeconds());
                        } catch (e) { }
                        var cell2 = document.createElement("td");
                        var cellText2 = document.createTextNode(dateSave);
                        cell2.appendChild(cellText2);
                        row.appendChild(cell2);

                        var col_diachi = document.createElement("td");
                        col_diachi.innerHTML = data[i].Addr;
                        row.appendChild(col_diachi);

                        tablebody.appendChild(row);
                        _count++;
                        tongsoxe.innerHTML = "<b>@khanhhoi.vn.Resources.Language.lbtongsoxe: " + _count + "</b>";
                    }
                    break;
                case 5: //  mất tín hiệu
                    if (data[i].status_id == 1 || data[i].status_id == 2 || data[i].status_id == 3) {
                        imgArr[i] = imgurl;
                        if (deviceid_gl > 0 && deviceid_gl==data[i].DeviceID) {
                            ShowInfoMap(data[i].DeviceID, 0, imgurl);
                        }
                        cell_stt.setAttribute("class", "alignCenter");
                        cell_stt.innerHTML = count_item += 1;
                        row.appendChild(cell_stt);
                        var img_ = document.createElement("img");
                        img_.setAttribute("src", imgurl);
                        divimg.appendChild(img_);
                        cell.appendChild(divimg);
                        var div = document.createElement("td");

                        div.innerHTML = data[i].VehicleNumber;
                        cell.appendChild(div);
                        row.appendChild(cell);
                        var cell1 = document.createElement("td");
                        var cellText1 = document.createTextNode(data[i].Status);
                        cell1.appendChild(cellText1);
                        row.appendChild(cell1);
                        try {
                            var dt = new Date(parseInt(data[i].DateSave.replace('/Date(', '')));
                            var dateSave = (dt.getHours() < 10 ? ('0' + dt.getHours()) : dt.getHours()) + ':' + (dt.getMinutes() < 10 ? ('0' + dt.getMinutes()) : dt.getMinutes()) + ':' + (dt.getSeconds() < 10 ? ('0' + dt.getSeconds()) : dt.getSeconds());
                        } catch (e) { }
                        var cell2 = document.createElement("td");
                        var cellText2 = document.createTextNode(dateSave);
                        cell2.appendChild(cellText2);
                        row.appendChild(cell2);

                        var col_diachi = document.createElement("td");
                        col_diachi.innerHTML = data[i].Addr;
                        row.appendChild(col_diachi);

                        tablebody.appendChild(row);
                        _count++;
                        tongsoxe.innerHTML = "<b>@khanhhoi.vn.Resources.Language.lbtongsoxe: " + _count + "</b>";
                    }
                    break;
                case 6: // hết hạn dịch vụ
                    if (data[i].status_id == 6) {
                        imgArr[i] = imgurl;
                        if (deviceid_gl > 0 && deviceid_gl==data[i].DeviceID) {
                            ShowInfoMap(data[i].DeviceID, 0, imgurl);
                        }
                        cell_stt.setAttribute("class", "alignCenter");
                        cell_stt.innerHTML = count_item += 1;
                        row.appendChild(cell_stt);
                        var img_ = document.createElement("img");
                        img_.setAttribute("src", imgurl);
                        divimg.appendChild(img_);
                        cell.appendChild(divimg);
                        var div = document.createElement("td");

                        div.innerHTML = data[i].VehicleNumber;
                        cell.appendChild(div);
                        row.appendChild(cell);
                        var cell1 = document.createElement("td");
                        var cellText1 = document.createTextNode(data[i].Status);
                        cell1.appendChild(cellText1);
                        row.appendChild(cell1);
                        try {
                            var dt = new Date(parseInt(data[i].DateSave.replace('/Date(', '')));
                            var dateSave = (dt.getHours() < 10 ? ('0' + dt.getHours()) : dt.getHours()) + ':' + (dt.getMinutes() < 10 ? ('0' + dt.getMinutes()) : dt.getMinutes()) + ':' + (dt.getSeconds() < 10 ? ('0' + dt.getSeconds()) : dt.getSeconds());
                        } catch (e) { }
                        var cell2 = document.createElement("td");
                        var cellText2 = document.createTextNode(dateSave);
                        cell2.appendChild(cellText2);
                        row.appendChild(cell2);

                        var col_diachi = document.createElement("td");
                        col_diachi.innerHTML = data[i].Addr;
                        row.appendChild(col_diachi);

                        tablebody.appendChild(row);
                        _count++;
                        tongsoxe.innerHTML = "<b>@khanhhoi.vn.Resources.Language.lbtongsoxe: " + _count + "</b>";
                    }
                    break;
                default:
                    _count = 0;
                    break;
            }

        }
        tbl.appendChild(tablebody);
        loaddata = 1;
    };
    function ajaxGetdata() {
        var l = 0;
        var infoContent = [];
        if (infowindow != null) {
            infowindow.setMap(null);
        }
         infowindow = new google.maps.InfoWindow();

        if (flag_interval == false) {
            var obj = document.querySelector('.preloader'), inner = document.querySelector('.preloader_inner'), page = document.querySelector('.main');
            obj.classList.add('show');
            page.classList.remove('show');
        }

        $.ajax({
            type: 'POST',
            url: '@(Url.Action("LoadStatusDe", "Home"))',
            data: {},
            success: function (data, txtStatus, XMLHttpRequest) {
                availableTags = data; // availableTags ???
                if (data != null) {
                    if (data == 0) {
                        alert("@Html.Raw(khanhhoi.vn.Resources.Language.tbchuacodulieu)");
                    }
                    if (data == -1) {
                        //obj.classList.remove('show');
                        //page.classList.add('show');
                        window.location.href = '@(Url.Action("Login", "Home"))';
                    }
                    else {
                        if (flag_interval == false) {
                            obj.classList.remove('show');
                            page.classList.add('show');
                            flag_interval = true;
                        }
                        dataListStatus = data;

                        for (var i = 0; i < armarker.length; i++) {
                            //armarker[i][1].setMap(null);
                        }
                        imgArr = [];
                        armarker = [];

                        var tongsoxe = document.getElementById("tongsoxe");
                        tongsoxe.innerHTML = "<b>@khanhhoi.vn.Resources.Language.lbtongsoxe: " + data.length + "</b>";
                        if (positionView == 0) {
                            createTable(data);
                            CreateSelect(data);

                        }

                        if (load_exp_dv == 0) {
                            load_exp_dv = 1;
                            GetDiviceExperedbyUserID();
                        }
                    }
                }
            },
            dataType: "json"
        });
    };
    //tài khoản
    function CreateSelect_listxe(data, select_id) {
        var _dsxe = document.getElementById(select_id);
        _dsxe.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _dsxe.appendChild(_option);
        }
    };
    function modal_dsxe_click(_userid) {
        //var obj = document.querySelector('.preloader'), inner = document.querySelector('.preloader_inner'), page = document.querySelector('.main');
        //obj.classList.add('show');
        //page.classList.remove('show');

        document.getElementById("btn_modal_taikhoan_dsxe").click();
        _first_click = true; // kiểm tra user có chọn xe chưa, nếu có thì lưu lại
        _arr_dsxe_select = []; // khoi tao dsxe rong, luu dsxe tu trang thai _first_click
        _arr_dsxe_unselect = [];
        if (dataListStatus.length > 0) {
            var _tbody = document.getElementById("tbody_taikhoan_dsxe");
            _tbody.innerHTML = "";
            _stt_rows = 0;

            for (var r = 0; r < dataListStatus.length; r++) {
                var _tr = document.createElement("tr");
                for (var s = 0; s < _arr_dsxe_byuserid.length; s++) {
                    if (dataListStatus[r].DeviceID == _arr_dsxe_byuserid[s][1]) {
                        _tr.setAttribute("style", "background-color:burlywood;");
                    }
                }

                _tr.setAttribute("id", "tk_dsxe_row" + r);
                _tr.setAttribute("onclick", "taikhoan_dsxe_selectrow(" + r + "," + _userid + ");");

                var _td0 = document.createElement("td");
                _td0.setAttribute("class", "alignCenter");
                _td0.setAttribute("align", "center");
                _td0.setAttribute("valign", "middle");
                _td0.innerHTML = _stt_rows + 1;
                _tr.appendChild(_td0);

                var _td1 = document.createElement("td");
                _td1.setAttribute("valign", "middle");
                _td1.innerHTML = dataListStatus[r].VehicleNumber;
                _tr.appendChild(_td1);

                var _td2 = document.createElement("td");
                _td2.setAttribute("valign", "middle");
                _td2.innerHTML = dataListStatus[r].VehicleGroup;
                _tr.appendChild(_td2);

                var _td3 = document.createElement("td");
                _td3.setAttribute("style", "display:none;");
                _td3.innerHTML = dataListStatus[r].DeviceID;
                _tr.appendChild(_td3);

                _tbody.appendChild(_tr);
                _stt_rows++;
            }
            //obj.classList.remove('show');
            //page.classList.add('show');

        } else { alert("@khanhhoi.vn.Resources.Language.tbchuacodulieu"); }
    };

    // bộ giao thông
    function CreateSelect_bgt_vipham4h(data) {
        var _bgt_listxe_vipham4h = document.getElementById("bgt_listxe_vipham4h");
        _bgt_listxe_vipham4h.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _bgt_listxe_vipham4h.appendChild(_option);
        }
    };
    function CreateSelect_bgt_vipham10h(data) {
        var _bgt_listxe_vipham10h = document.getElementById("bgt_listxe_vipham10h");
        _bgt_listxe_vipham10h.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _bgt_listxe_vipham10h.appendChild(_option);
        }
    };
    function CreateSelect_bgt_hanhtrinh(data) {
        var _bgt_listxe_hanhtrinh = document.getElementById("bgt_listxe_hanhtrinh");
        _bgt_listxe_hanhtrinh.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _bgt_listxe_hanhtrinh.appendChild(_option);
        }
    };
    function CreateSelect_bgt_tocdo(data) {
        var _bgt_listxe_tocdo = document.getElementById("bgt_listxe_tocdo");
        _bgt_listxe_tocdo.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _bgt_listxe_tocdo.appendChild(_option);
        }
    };
    function CreateSelect_bgt_quatocdogioihan(data) {
        var _bgt_listxe_quatocdo = document.getElementById("bgt_listxe_quatocdogioihan");
        _bgt_listxe_quatocdo.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _bgt_listxe_quatocdo.appendChild(_option);
        }
    };
    function CreateSelect_bgt_laixelientuc(data) {
        var _bgt_listxe_laixelientuc = document.getElementById("bgt_listxe_thoigianlaixelientuc");
        _bgt_listxe_laixelientuc.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _bgt_listxe_laixelientuc.appendChild(_option);
        }
    };
    function CreateSelect_bgt_laixetrongngay(data) {
        var _bgt_listxe_laixetrongngay = document.getElementById("bgt_listxe_thoigianlaixetrongngay");
        _bgt_listxe_laixetrongngay.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _bgt_listxe_laixetrongngay.appendChild(_option);
        }
    };
    function CreateSelect_bgt_tonghopxe(data) {
        var _bgt_listxe_tonghopxe = document.getElementById("bgt_listxe_tonghopxe");
        _bgt_listxe_tonghopxe.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _bgt_listxe_tonghopxe.appendChild(_option);
        }
    };
    function CreateSelect_bgt_dungdo(data) {
        var _bgt_listxe_dungdo = document.getElementById("bgt_listxe_dungdo");
        _bgt_listxe_dungdo.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _bgt_listxe_dungdo.appendChild(_option);
        }
    };
    function CreateSelect_bgt_laixe(data) {
        var _bgt_listxe_laixe = document.getElementById("bgt_listxe_laixe");
        _bgt_listxe_laixe.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _bgt_listxe_laixe.appendChild(_option);
        }
    };
    // doanh nghiệp
    function CreateSelect(data) {
        var _list_xelotrinh = document.getElementById("list_xelotrinh");
        _list_xelotrinh.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _list_xelotrinh.appendChild(_option);
        }
    };
    function CreateSelect_dn_dungdo(data) {
        var _dn_listxe_dungdo = document.getElementById("dn_listxe_dungdo");
        _dn_listxe_dungdo.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _dn_listxe_dungdo.appendChild(_option);
        }
    };
    function CreateSelect_dn_tonghopkm(data) {
        var _dn_listxe_tonghopkm = document.getElementById("dn_listxe_tonghopkm");
        _dn_listxe_tonghopkm.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _dn_listxe_tonghopkm.appendChild(_option);
        }
    };
    function CreateSelect_dn_maylanh(data) {
        var _dn_listxe_maylanh = document.getElementById("dn_listxe_maylanh");
        _dn_listxe_maylanh.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _dn_listxe_maylanh.appendChild(_option);
        }
    };
    function CreateSelect_dn_camerahanhtrinh(data) {
        var _dn_listxe_camerahanhtrinh = document.getElementById("dn_list_camerahanhtrinh");
        _dn_listxe_camerahanhtrinh.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _dn_listxe_camerahanhtrinh.appendChild(_option);
        }
    };
    function CreateSelect_dn_ngugat(data) {
        var _dn_listxe_ngugat = document.getElementById("dn_list_ngugat");
        _dn_listxe_ngugat.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _dn_listxe_ngugat.appendChild(_option);
        }
    };
    function CreateSelect_dn_tonghop(data) {
        var _dn_listxe_tonghop = document.getElementById("dn_listxe_tonghop");
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _dn_listxe_tonghop.appendChild(_option);
        }
    };
    function CreateSelect_dn_chitiet(data) {
        var _dn_listxe_chitiet = document.getElementById("dn_listxe_chitiet");
        _dn_listxe_chitiet.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _dn_listxe_chitiet.appendChild(_option);
        }
    };
    function CreateSelect_dn_nhienlieu_tonghop(data) {
        var _dn_listxe_nhienlieu_tonghop = document.getElementById("dn_listxe_nhienlieu_tonghop");
        _dn_listxe_nhienlieu_tonghop.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _dn_listxe_nhienlieu_tonghop.appendChild(_option);
        }
    };
    function CreateSelect_dn_mototai(data) {
        var _dn_list_mototai = document.getElementById("dn_list_mototai");
        _dn_list_mototai.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            _dn_list_mototai.appendChild(_option);
        }
    };
    function CreateSelect_dn_khoadien(data) {
        var _dn_list_khoadien = document.getElementById("dn_list_khoadien");
        _dn_list_khoadien.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;

            _dn_list_khoadien.appendChild(_option);
        }
    };
    function CreateSelect_taixe_them(data) {
        var list_dsxe_them = document.getElementById("taixe_them_chonxe");
        list_dsxe_them.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            list_dsxe_them.appendChild(_option);
        }
    };
    function CreateSelect_taixe_sua(data) {
        var list_dsxe_sua = document.getElementById("taixe_sua_chonxe");
        list_dsxe_sua.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].DeviceID;
            _option.innerHTML = data[i].VehicleNumber;
            list_dsxe_sua.appendChild(_option);
        }
    };

    function GetList_nhomxe_forDDL() {
        $.ajax({
            type: 'POST',
            dataType: "json",
            url: '@(Url.Action("sp_GetAll_VehicleGroup_byUserIDT", "Home"))',
            data: {},
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data.length > 0) { list_thietbi_nhomxe = data; }
                } else { console.log("tải danh sách nhóm xe thất bại."); }
            }
        });
    };
    function thietbi_nhomxe_DDL(data) {
        var list_nhomxe = document.getElementById("thietbi_sua_nhomxe");
        list_nhomxe.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].VehicleGroupID;
            _option.innerHTML = data[i].VehicleGroup;
            list_nhomxe.appendChild(_option);
        }
    };
    function GetList_loaixe_forDDL() {
        $.ajax({
            type: 'POST',
            dataType: "json",
            url: '@(Url.Action("sp_GetAll_VehicleCategory", "Home"))',
            data: {},
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data.length > 0) { list_thietbi_loaixe = data; }
                } else { console.log("tải danh sách loại xe thất bại."); }
            }
        });
    };
    function thietbi_loaixe_DDL(data) {
        var list_loaixe = document.getElementById("thietbi_sua_loaixe");
        list_loaixe.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.setAttribute("id", "ddl_thietbi_loaixe_id" + i);
            //_option.id = "ddl_thietbi_loaixe_id" + i;
            _option.value = data[i].VehicleCategoryID;
            _option.innerHTML = data[i].VehicleCategory;
            list_loaixe.appendChild(_option);
        }
    };
    function GetList_tinh_forDDL() {
        $.ajax({
            type: 'POST',
            dataType: "json",
            url: '@(Url.Action("sp_GetAll_Province", "Home"))',
            data: {},
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data.length > 0) { list_thietbi_tinh = data; }
                } else { console.log("tải danh sách tỉnh thất bại."); }
            }
        });
    };
    function thietbi_tinh_DDL(data) {
        var list_tinh = document.getElementById("thietbi_sua_tinh");
        list_tinh.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            var _option = document.createElement("option");
            _option.value = data[i].ProvinceID;
            _option.innerHTML = data[i].ProvinceName;
            list_tinh.appendChild(_option);
        }
    };
    function GetList_loaivantai_forDDL() {
        $.ajax({
            type: 'POST',
            dataType: "json",
            url: '@(Url.Action("sp_GetAll_TypeTranport", "Home"))',
            data: {},
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data.length > 0) { list_thietbi_loaivantai = data; }
                } else { console.log("tải danh sách loại vận tải thất bại."); }
            }
        });
    };
    function thietbi_loaivantai_DDL(data) {
        var list_loaivantai = document.getElementById("thietbi_sua_loaivantai");
        list_loaivantai.innerHTML = "";
        for (var i = data.length - 1; i >= 0; i--) {
            var _option = document.createElement("option");
            _option.value = data[i].TypeTransportID;
            _option.innerHTML = data[i].TypeTransportName;
            list_loaivantai.appendChild(_option);
        }
    };

    function GetDiviceExperedbyUserID() {
        $.ajax({
            type: 'POST',
            dataType: "json",
            url: '@(Url.Action("GetDiviceExperedbyUserID", "Home"))',
            data: {},
            success: function (data, txtStatus, XMLHttpRequest) {
                if (data != null) {
                    if (data == "0000") { //send successful
                        location.href = "Logout";
                    }
                    else if (data.length > 0) {
                        var body_dv_exp = document.getElementById("body_dv_exp");
                        body_dv_exp.innerHTML = "";
                        for (var i = 0; i < data.length; i++) {
                            var tr_exp = document.createElement("tr");
                            var td_exp1 = document.createElement("td");
                            td_exp1.setAttribute("class", "alignCenter");
                            td_exp1.setAttribute("valign", "middle");
                            td_exp1.appendChild(document.createTextNode(i + 1));//STT
                            var td_exp2 = document.createElement("td");
                            td_exp2.setAttribute("class", "alignCenter");
                            td_exp2.setAttribute("valign", "middle");
                            td_exp2.appendChild(document.createTextNode(data[i].Content)); //BienSo
                            var td_exp3 = document.createElement("td");
                            td_exp3.setAttribute("class", "alignCenter");
                            td_exp3.setAttribute("valign", "middle");
                            td_exp3.appendChild(document.createTextNode(data[i].Title));//Ngay het han
                            var td_exp4 = document.createElement("td");
                            td_exp4.setAttribute("class", "alignCenter");
                            td_exp4.setAttribute("valign", "middle");
                            var _arr_split_date = data[i].Title.split("/");
                            var _convert_date = _arr_split_date[1] + "/" + _arr_split_date[0] + "/" + _arr_split_date[2];
                            var _ExpDate = new Date(_convert_date);
                            var _now = new Date();
                            var _offset = _ExpDate.getTime() - _now.getTime();
                            var totalDays = Math.round(_offset / 1000 / 60 / 60 / 24);

                            if (totalDays <= 0)
                                td_exp4.innerHTML = data[i].ghichu;
                            else if (totalDays > 0 && totalDays <= 7)
                                td_exp4.innerHTML = "@khanhhoi.vn.Resources.Language.lbcon " + totalDays
                                    + " @Html.Raw(khanhhoi.vn.Resources.Language.lbngay)";

                            tr_exp.appendChild(td_exp1);
                            tr_exp.appendChild(td_exp2);
                            tr_exp.appendChild(td_exp3);
                            tr_exp.appendChild(td_exp4);
                            body_dv_exp.appendChild(tr_exp);
                        }
                        document.getElementById("btn_modal_exp").click();
                    }
                    else {
                        document.getElementById("closeModal").click();
                        document.querySelector(".blur").classList.remove('active');
                    }
                }

            }
        });
    };

</script>
<div class="demo">
    <div class="text-center">
        @*<button type="button" class="btn btn-demo" data-toggle="modal" data-target="#myModal2">
            Xem chi tiết
        </button>*@
    </div>
    <!-- Modal -->
    <div class="readMoreInfo modal right fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    @*<h4 class="modal-title" id="myModalLabel2">Right Sidebar</h4>*@
                </div>
                <div class="modal-body">
                </div>
            </div><!-- modal-content -->
        </div><!-- modal-dialog -->
    </div><!-- modal -->
</div><!-- container -->
<div id="content-status" class="d-flex between">
</div>
<!-- begin: group 1 -->
<div id="rounded">
    <button id="giamsat_toggle" class="sidebarBtn" style="display:none" onclick="giamsat_toggle_click();">
        <span></span>
    </button>
    <div class="sidebar active">
        <div class="p-t-5">
            <ul class="nav nav-tabs">
                <li class="active"><a href="#1" onclick="GiamSat();" data-toggle="tab">@khanhhoi.vn.Resources.Language.lbgiamsat</a></li>
                <li><a href="#2" onclick="setDate();" data-toggle="tab">@khanhhoi.vn.Resources.Language.lbxemlailotrinh</a></li>
                @*<li><i class="fa fa-chevron-left"></i></li>*@
            </ul>
            <div class="tab-content">
                <!--Tab giám sát-->
                <div class="tab-pane active" id="1">
                    <table border="0" cellpadding="0" width="100%">
                        <tbody>
                            <tr>
                                <td>
                                    <div class="m-b-5 m-t-5 has-feedback has-search">
                                        <i class="fa fa-search form-control-feedback"></i>
                                        <input id="search_dsxe" type="text" class="form-control" placeholder="Search" onkeyup="ListDeviceSearch('search_dsxe', 'tblbodydata');">
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <select class="form-control" style="width:100%;" id="selectState" onchange="createTable(dataListStatus);">
                                        <option value="0">@khanhhoi.vn.Resources.Language.lbtatca</option>
                                        <option value="1">@khanhhoi.vn.Resources.Language.lbmomay</option>
                                        <option value="2">@khanhhoi.vn.Resources.Language.lbtatmay</option>
                                        <option value="3">@khanhhoi.vn.Resources.Language.lbdichuyen</option>
                                        <option value="4">@khanhhoi.vn.Resources.Language.lbdungdo</option>
                                        <option value="5">@khanhhoi.vn.Resources.Language.lbmattinhieu</option>
                                        <option value="6">@khanhhoi.vn.Resources.Language.lbhethandichvu</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="fl title-menu m-t-5">@khanhhoi.vn.Resources.Language.lbdanhsachxe</div>
                                    <div class="fr m-t-5">
                                        <a href="#" data-toggle="tooltip" data-placement="left" title="@khanhhoi.vn.Resources.Language.lbynghiabieutuongxe"><img src="~/images/icon/Apps-Help-Info-icon.png" id="MeaningOfIcon" /></a>
                                    </div>
                                    <div class="table-responsive-cus clear table-scroll">
                                        <table id="tbldata" class="table-bordered table">
                                            <thead style="white-space:nowrap;">
                                                <tr>
                                                    <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbstt</th>
                                                    <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                                    <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtrangthai</th>
                                                    <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigian</th>
                                                    <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiachi</th>
                                                </tr>
                                            </thead>
                                            <tbody id="tblbodydata"></tbody>
                                        </table>
                                    </div>

                                </td>
                            </tr>
                            <tr class="m-t-5">
                                <td>
                                    <div class="p-10 text-center text-danger" id="tongsoxe"></div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!--End Tab giám sát-->
                <!-- Tab xem lại lộ trình-->
                <div class="tab-pane" id="2">
                    <table border="0" cellpadding="0" width="100%">
                        <tbody>
                            <tr>
                                <td colspan="2">
                                    <div class="form-date m-t-5">
                                        @*<label>@khanhhoi.vn.Resources.Language.lbtu</label>
                                            <div class="input-group date form_time m-l-5" data-date="" data-date-format="hh:ii" data-link-field="dtp_input3" data-link-format="hh:ii">
                                                <input class="form-control" size="5" id="date_form_h" type="hidden" style="height:26px" readonly>
                                                <span class="input-group-addon"><i class="fa fa-clock-o" aria-hidden="true"></i></span>
                                            </div>*@
                                        <input type="hidden" id="dtp_input3" />
                                        <div class="input-group date form_date end-date" data-date="" data-date-format="dd-mm-yyyy" data-link-field="dtp_input2" data-link-format="dd-mm-yyyy">
                                            <input class="form-control" size="5" id="date_form_h" type="hidden" style="height:26px" readonly>
                                            <input class="form-control" type="text" id="date_form_d" style="height:26px" readonly>
                                            <span class="input-group-addon"><i class="fa fa-calendar" aria-hidden="true"></i></span>
                                        </div>
                                        <input type="hidden" id="dtp_input2" />
                                    </div>
                                </td>
                            </tr>
                            @*<tr>
                                    <td colspan="2">
                                        <div class="form-date m-t-5">
                                            <label>@khanhhoi.vn.Resources.Language.lbden</label>
                                            <div class="input-group date form_time" data-date="" data-date-format="hh:ii" data-link-field="dtp_input3" data-link-format="hh:ii">
                                                <input class="form-control" size="5" type="text" id="date_t_h" style="height:26px" readonly>
                                                <span class="input-group-addon"><i class="fa fa-clock-o" aria-hidden="true"></i></span>
                                            </div>
                                            <input type="hidden" id="dtp_input3" />
                                            <div class="input-group date form_date" data-date="" data-date-format="dd-mm-yyyy" data-link-field="dtp_input2" data-link-format="dd-mm-yyyy">
                                                <input class="form-control" type="text" id="date_t_d" style="height:26px" readonly>
                                                <span class="input-group-addon"><i class="fa fa-calendar" aria-hidden="true"></i></span>
                                            </div>
                                            <input type="hidden" id="dtp_input2" />
                                        </div>
                                    </td>
                                </tr>*@
                            <tr>
                                <td>
                                    <div class="m-t-5 input-group">
                                        <select id="list_xelotrinh" class="form-control select2 fl" style="width:100%"></select>
                                        <span class="input-group-btn">
                                            <button class="btn btn-primary" type="button" onclick="LoadLotrinh();" value="@khanhhoi.vn.Resources.Language.lbxemlotrinh">
                                                <i class="fa fa-search"></i>
                                                @khanhhoi.vn.Resources.Language.lbtimkiem
                                            </button>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="range m-t-5" style="display:flex">
                                        <a href="javascript:changeStateButton();"><i title="Play" id="player" class="fa fa-play" style="width:20px;font-size:20px;"></i></a>
                                        <div class="range-slider" style="width:100%">
                                            <input class="range-slider__range" type="range" id="range" value="0" min="0" max="1000">
                                            <span class="range-slider__value" style="display:none">0</span>
                                        </div>
                                        <a href="javascript:setSpeed();" data-toggle="tooltip" title="x1"><i title="forward" id="speed" class="fa fa-forward" style="width:20px;font-size:20px;"></i></a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="table-responsive-cus clear m-t-5 table-scroll">
                                        <table class="table-bordered table text-center">
                                            <thead>
                                                <tr>
                                                    <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                                    <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbvantockmh</th>
                                                    <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigian</th>
                                                </tr>
                                            </thead>
                                            <tbody id="body_data_lotrinh"></tbody>
                                        </table>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!--End Tab xem lại lộ trình-->

            </div>
        </div>

        <!--Ý nghĩa icon xe-->
        <div id="popUpBox_theMeaningOfIcon" class="popUpBox_theMeaningOfIcon">
            <div class="content">
                <table>
                    <tbody>
                        <tr>
                            <td colspan="3">
                                <div class="fl header-title">
                                    @khanhhoi.vn.Resources.Language.lbynghiabieutuongxe
                                </div>
                                <div class="fr">
                                    <a href="#">
                                        <img id="closeMeaningOfIcon" src="~/images/icon/delete-icon.png" alt="" title="@khanhhoi.vn.Resources.Language.lbdong">
                                    </a>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 34px;">
                                <img src="/images/Xe-tai/truck-black.png" alt="">
                            </td>
                            <td>
                                @khanhhoi.vn.Resources.Language.lbxedungdo
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <img src="/images/Xe-tai/truck-green.png" alt="">
                            </td>
                            <td>
                                @khanhhoi.vn.Resources.Language.lbxedichuyen
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <img src="/images/Xe-tai/truck-red.png" alt="">
                            </td>
                            <td>
                                @khanhhoi.vn.Resources.Language.lbxemattinhieu
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!--End Ý nghĩa icon xe-->
        <!--Cấu hình hiển thị lộ trình-->
        <form>
            <div id="divListConfigViewRoute" class="popUpBox_theMeaningOfIcon" style="background-color: #ffffff;">
                <div class="content">
                    <table>
                        <tbody>
                            <tr>
                                <td colspan="3">
                                    <div class="fl header-title">
                                        @khanhhoi.vn.Resources.Language.lbcauhinhhienthilotrinh
                                    </div>
                                    <div class="fr">
                                        <a href="#">
                                            <img src="~/images/icon/delete-icon.png" alt="X" id="btnClose" title="@khanhhoi.vn.Resources.Language.lbdong">
                                        </a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @khanhhoi.vn.Resources.Language.lbbienso
                                </td>
                                <td>
                                    <input type="text" class="form-control" id="txtVehiclePlate" name="txtVehiclePlate" title="@khanhhoi.vn.Resources.Language.lbnhapnhieuxe01">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    @khanhhoi.vn.Resources.Language.lbchoncauhinh
                                </td>
                                <td>
                                    <select class="form-control m-t-5">
                                        <option>@khanhhoi.vn.Resources.Language.lbgopdungdo</option>
                                        <option>@khanhhoi.vn.Resources.Language.lbghichumattinhieu</option>
                                    </select>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </form>

        <!--End cấu hình hiển thị lộ trình-->
    </div>
    <div id="style-selector-control" class="map-control" style="top: 100px !important; z-index: 0; position: absolute; right: 0px;">
        <select id="style-selector" class="selector-control" style="width:100px;height:40px">
            <option value="default" selected="selected">@khanhhoi.vn.Resources.Language.lbmacdinh</option>
            <option value="satellite">@khanhhoi.vn.Resources.Language.lbvetinh</option>
            <option value="night">@khanhhoi.vn.Resources.Language.lbdem</option>
        </select>
    </div>
    <div id="map"></div>
</div>

<div class="main" id="list-bgt" style="display:none;">
    <div class="wrapper">
        <div id="sidebar" class="list-group">
            <a href="#sub-menu" class="list-group-item active" data-toggle="collapse" data-parent="#main-menu"> @khanhhoi.vn.Resources.Language.lbbaocaott09_bgt<span class="caret pull-right m-t-5"></span></a>
            <div class="collapse list-group-level1 in" id="sub-menu">
                @*<a id="" href="#" class="list-group-item" data-parent="#sub-menu"><img src="~/images/icon/clipboard.png" /> Chi tiết vi phạm tốc độ xe chạy</a>
                    <a href="#" class="list-group-item" data-parent="#sub-menu"><img src="~/images/icon/clipboard.png" /> Thống kê vi phạm về tốc độ theo đơn vị vận tải</a>*@
                <a id="menu-bgt-chitiet-vipham4h" href="#" class="list-group-item" data-parent="#sub-menu"><img src="~/images/icon/clipboard.png" /> @khanhhoi.vn.Resources.Language.lbchitietvipham4gio</a>
                <a id="menu-bgt-chitiet-vipham10h" href="#" class="list-group-item" data-parent="#sub-menu"><img src="~/images/icon/clipboard.png" /> @khanhhoi.vn.Resources.Language.lbchitietvipham10gio</a>
                @*<a href="#" class="list-group-item" data-parent="#sub-menu"><img src="~/images/icon/clipboard.png" /> Tổng hợp tình hình vi phạm theo đơn vị vận tải</a>
                    <a href="#" class="list-group-item" data-parent="#sub-menu"><img src="~/images/icon/clipboard.png" /> Chi tiết vi phạm truyền dữ liệu theo đơn vị vận tải</a>*@
            </div>
            <a href="#sub-sub-menu" class="list-group-item active" data-toggle="collapse" data-parent="#sub-menu">@khanhhoi.vn.Resources.Language.lbbaocaott73_bgt<span class="caret pull-right m-t-5"></span></a>
            <div class="collapse list-group-level2 in" id="sub-sub-menu">
                <a id="menu-bgt-hanhtrinh" href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/destination.png" /> @khanhhoi.vn.Resources.Language.lbhanhtrinhxechay</a>
                <a id="menu-bgt-tocdo" href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/Dashboard-icon.png" /> @khanhhoi.vn.Resources.Language.lbtocdocuaxe</a>
                <a id="menu-bgt-quatocdogioihan" href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/car.png" /> @khanhhoi.vn.Resources.Language.lbquatocdogioihan</a>
                <a id="menu-bgt-thoigianlaixelientuc" href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/24-hours.png" /> @khanhhoi.vn.Resources.Language.lbthoigianlaixelientuc</a>
                <a id="menu-bgt-dungdo" href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/parking.png" /> @khanhhoi.vn.Resources.Language.lbbaocaodungdo</a>
                <a id="menu-bgt-tonghopxe" href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/report-car.png" /> @khanhhoi.vn.Resources.Language.lbbaocaotonghoptheoxe</a>
                <a id="menu-bgt-laixe" href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/report-car.png" /> @khanhhoi.vn.Resources.Language.lbbaocaotonghoptheolaixe</a>
                <a id="menu-bgt-thoigianlaixetrongngay" href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/report.png" /> @khanhhoi.vn.Resources.Language.lbbaocaothoigianlaixetrongngay</a>
            </div>
        </div>

        @* Start Report vi phạm 4h *@
        <div id="content-bgt-chitiet-vipham4h" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaochitietvipham4gio_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-bgt-vipham4h-date" class="form-control report_dn" type="text" name="" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="bgt_listxe_vipham4h" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_BGT_ViPham4h();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_bgt_vipham4h" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtaixe</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbgplx</th>
                                        <th class="headerAlignCenter">@Html.Raw(khanhhoi.vn.Resources.Language.lbngay)</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbatdau</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbketthuc</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianlai</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiachibatdau</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiachiketthuc</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtoadobatdau</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtoadoketthuc</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbquangduong</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_bgt_vipham4h"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report vi phạm 4h *@

        @* Start Report vi phạm 10h *@
        <div id="content-bgt-chitiet-vipham10h" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse-1"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaochitietvipham10gio_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-bgt-vipham10h-date" class="form-control report_dn" type="text" name="" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="bgt_listxe_vipham10h" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_BGT_ViPham10h();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_bgt_vipham10h" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtaixe</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbgplx</th>
                                        <th class="headerAlignCenter">@Html.Raw(khanhhoi.vn.Resources.Language.lbngay)</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbatdau</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbketthuc</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianlai</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiachibatdau</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiachiketthuc</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtoadobatdau</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtoadoketthuc</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbquangduong</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_bgt_vipham10h"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report vi phạm 10h *@

        @* Start Report hành trình xe chạy *@
        <div id="content-bgt-hanhtrinh" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse-2"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaohanhtrinhxechay_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay (tối đa 2 ngày)</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-bgt-hanhtrinh-date" class="form-control" type="text" name="datefilter" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="bgt_listxe_hanhtrinh" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_BGT_HanhTrinhXeChay();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_bgt_hanhtrinh" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                        <th class="headerAlignCenter">@Html.Raw(khanhhoi.vn.Resources.Language.lbngay)</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtrangthai</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiachi</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_bgt_hanhtrinh"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report hành trình xe chạy *@

        @* Start Report tốc độ xe chạy *@
        <div id="content-bgt-tocdo" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse-3"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaotocdoxechay_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-bgt-tocdo-date" class="form-control report_dn" type="text" name="" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="bgt_listxe_tocdo" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_BGT_TocDoXeChay();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_bgt_tocdo" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtungay</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdenngay</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbvantoctrungbinh</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbvantoctoida</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbquangduong</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_bgt_tocdo"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report tốc độ xe chạy *@

        @* Start Report quá tốc độ giới hạn *@
        <div id="content-bgt-quatocdogioihan" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse-4"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaoquatocdogioihan_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-bgt-quatocdogioihan-date" class="form-control report_dn" type="text" name="" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="bgt_listxe_quatocdogioihan" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_BGT_QuaTocDoGioiHan();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_bgt_quatocdogioihan" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                        <th class="headerAlignCenter">@Html.Raw(khanhhoi.vn.Resources.Language.lbngay)</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtocdotoida</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbquatocdogioihan</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiadiemgannhat</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_bgt_quatocdogioihan"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report quá tốc độ giới hạn *@

        @* Start Report thời gian lái xe liên tục *@
        <div id="content-bgt-thoigianlaixelientuc" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse-5"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaothoigianlaixelientuc_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-bgt-thoigianlaixelientuc-date" class="form-control report_dn" type="text" name="" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="bgt_listxe_thoigianlaixelientuc" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_BGT_ThoiGianLaiXeLienTuc();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_bgt_thoigianlaixelientuc" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianlai</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtungay</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdenngay</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiadiembatdau</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiadiemketthuc</th>

                                    </tr>
                                </thead>
                                <tbody id="tbody_bgt_thoigianlaixelientuc"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report thời gian lái xe liên tục *@

        @* Start Report thời gian lái xe trong ngày *@
        <div id="content-bgt-thoigianlaixetrongngay" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse-6"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaothoigianlaixetrongngay_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-bgt-thoigianlaixetrongngay-date" class="form-control report_dn" type="text" name="" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="bgt_listxe_thoigianlaixetrongngay" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_BGT_ThoiGianLaiXeTrongNgay();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_bgt_thoigianlaixetrongngay" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianlai</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtungay</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdenngay</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiadiembatdau</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiadiemketthuc</th>

                                    </tr>
                                </thead>
                                <tbody id="tbody_bgt_thoigianlaixetrongngay"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report thời gian lái xe trong ngày *@

        @* Start Report dừng đỗ *@
        <div id="content-bgt-dungdo" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse-7"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaodungdo_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay (Xem tối đa 15 ngày)</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-bgt-dungdo-date" class="form-control" type="text" name="datefilter" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="bgt_listxe_dungdo" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_BGT_DungDo();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_bgt_dungdo" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter" style="width:25px">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigian</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianngunghoatdong</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtoado</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiachi</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_bgt_dungdo"></tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report dừng đỗ *@

        @* Start Report tổng hợp theo lái xe *@
        <div id="content-bgt-laixe" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse-8"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaotonghoptheolaixe</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay (Xem tối đa 30 ngày)</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-bgt-laixe-date" class="form-control" type="text" name="datefilter" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="bgt_listxe_laixe" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_BGT_LaiXe();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_bgt_laixe" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter" style="width:25px">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@Html.Raw(khanhhoi.vn.Resources.Language.lbngay)</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtaixe</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbquangduong</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_bgt_laixe"></tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report tổng hợp theo lái xe *@

        @* Start Report tổng hợp theo xe *@
        <div id="content-bgt-tonghopxe" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaotonghoptheoxe</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay (Xem tối đa 30 ngày)</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-bgt-tonghopxe-date" class="form-control" type="text" name="datefilter" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="bgt_listxe_tonghopxe" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_BGT_TongHopXe();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_bgt_tonghopxe" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianbatdau</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianketthuc</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbquangduong</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtocdotrungbinh</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtocdotoida</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_bgt_tonghopxe"></tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report tổng hợp theo xe *@

    </div>

</div>

<div class="main" id="list_business" style="display:none;">
    <div class="wrapper">
        <div id="sidebar" class="list-group">
            <a href="#sub-menu-1" class="list-group-item active" data-toggle="collapse" data-parent="#main-menu"> @khanhhoi.vn.Resources.Language.lbbaocaotonghop<span class="caret pull-right m-t-5"></span></a>
            <div class="collapse list-group-level1 in" id="sub-menu-1">
                <a id="menu-dn-tonghop" href="#" class="list-group-item" data-parent="#sub-menu"><img src="~/images/icon/business.png" /> @khanhhoi.vn.Resources.Language.lbbaocaotonghophoatdong</a>
                <a id="menu-dn-chitiet" href="#" class="list-group-item" data-parent="#sub-menu"><img src="~/images/icon/bar-chart.png" /> @khanhhoi.vn.Resources.Language.lbbaocaochitiethoatdong</a>
                <a id="menu-dn-tonghopkm" href="#" class="list-group-item" data-parent="#sub-menu"><img src="~/images/icon/route.png" /> @khanhhoi.vn.Resources.Language.lbbaocaotonghopkmxehoatdong</a>
            </div>
            <a href="#sub-menu-2" class="list-group-item active" data-toggle="collapse" data-parent="#sub-menu"> @khanhhoi.vn.Resources.Language.lbbaocaohoatdong<span class="caret pull-right m-t-5"></span></a>
            <div class="collapse list-group-level2 in" id="sub-menu-2">
                <a id="menu-dn-dungdo" href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/parking.png" /> @khanhhoi.vn.Resources.Language.lbbaocaodungdo</a>
                @*<a href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/park.png" /> Báo cáo ra vào trạm</a>*@
                <a id="menu-dn-maylanh" href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/air-conditioning.png" /> @khanhhoi.vn.Resources.Language.lbbaocaobatdieuhoa</a>
            </div>
            <a href="#sub-menu-3" class="list-group-item active" data-toggle="collapse" data-parent="#sub-menu"> @khanhhoi.vn.Resources.Language.lbbaocaonhienlieu<span class="caret pull-right m-t-5"></span></a>
            <div class="collapse list-group-level2 in" id="sub-menu-3">
                <a id="menu-dn-nhienlieu-tonghop" href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/gas-pump.png" /> @khanhhoi.vn.Resources.Language.lbbaocaotonghoptieuhaonhienlieu</a>
                @*<a href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/gas-pump.png" /> Báo cáo tiêu hao nhiên liệu</a>
                    <a href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/gas-pump.png" /> Báo cáo đỗ hút nhiên liệu</a>*@
            </div>
            @*<a href="#sub-menu-4" class="list-group-item active" data-toggle="collapse" data-parent="#sub-menu">Báo cáo hệ thống <span class="caret pull-right m-t-5"></span></a>
                <div class="collapse list-group-level2 in" id="sub-menu-4">
                    <a href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/destination.png" /> Báo cáo hành trình </a>
                    <a href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/Signal-Tower-icon.png" /> Báo cáo mất tín hiệu</a>
                </div>*@
            <a href="#sub-menu-5" class="list-group-item active" data-toggle="collapse" data-parent="#sub-menu"> @khanhhoi.vn.Resources.Language.lbbaocaothapcau<span class="caret pull-right m-t-5"></span></a>
            <div class="collapse list-group-level2 in" id="sub-menu-5">
                @*bỏ in để default close*@
                <a id="menu-dn-khoadien" href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/ThapCau/tatmo_khoadien_24.png" /> @khanhhoi.vn.Resources.Language.lbbaocaotatmokhoadien</a>
                <a id="menu-dn-mototai" href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/ThapCau/moto_tai_22.png" /> @khanhhoi.vn.Resources.Language.lbbaocaotatmomototai</a>
            </div>
            <a href="#sub-menu-6" class="list-group-item active" data-toggle="collapse" data-parent="#sub-menu">Camera<span class="caret pull-right m-t-5"></span></a>
            <div class="collapse list-group-level2 in" id="sub-menu-5">
                <a id="menu-dn-camerahanhtrinh" href="#" class="list-group-item" data-parent="#sub-sub-menu">
                    <img src="~/images/ThapCau/film.png" />
                    @khanhhoi.vn.Resources.Language.lbcamera
                </a>
                <a id="menu-dn-ngugat" href="#" class="list-group-item" data-parent="#sub-sub-menu">
                    <img src="~/images/ThapCau/warning.png" />
                    @khanhhoi.vn.Resources.Language.lbcanhbaongugat
                </a>
            </div>
        </div>

        @* Start Report tổng hợp *@
        <div id="content-dn-tonghop" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaotonghophoatdong_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-dn-tonghop-date" class="form-control report_dn" type="text" name="datefilter_trongngay" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="dn_listxe_tonghop" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_DN_TongHop();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_dn_tonghop" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianbatdau</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianketthuc</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbquangduong</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtocdotrungbinh</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtocdotoida</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_dn_tonghop"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report tổng hợp *@

        @* Start Report chi tiết *@
        <div id="content-dn-chitiet" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaochitiethoatdong_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-dn-chitiet-date" class="form-control report_dn" type="text" name="" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="dn_listxe_chitiet" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_DN_ChiTiet();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_dn_chitiet" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianbatdau</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianketthuc</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianngunghoatdong</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbquangduong</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtocdotoida</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianlai</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiadiembatdau</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiadiemketthuc</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_dn_chitiet"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report chi tiết *@

        @* Start Report tổng hợp km xe hoạt động *@
        <div id="content-dn-tonghopkm" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaotonghopkmxehoatdong_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-dn-tonghopkm-date" class="form-control report_dn" type="text" name="" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="dn_listxe_tonghopkm" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_DN_TongHopKm();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_dn_tonghopkm" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter" style="width:24px">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter" style="width:45px">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                        <th class="headerAlignCenter" style="width:35px">@Html.Raw(khanhhoi.vn.Resources.Language.lbngay)</th>
                                        <th class="headerAlignCenter" style="width:103px">@khanhhoi.vn.Resources.Language.lbthoigianbatdau</th>
                                        <th class="headerAlignCenter" style="width:103px">@khanhhoi.vn.Resources.Language.lbthoigianketthuc</th>
                                        <th class="headerAlignCenter" style="width:120px">@khanhhoi.vn.Resources.Language.lbdiachibatdau</th>
                                        <th class="headerAlignCenter" style="width:120px">@khanhhoi.vn.Resources.Language.lbdiachiketthuc</th>
                                        <th class="headerAlignCenter" style="width:45px">@khanhhoi.vn.Resources.Language.lbtongkm</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_dn_tonghopkm"></tbody>
                                <tfoot id="tfoot_dn_tonghopkm" style="display:none">
                                    <tr>
                                        <th class="headerAlignCenter">Tổng</th>
                                        <th class="headerAlignCenter"></th>
                                        <th class="headerAlignCenter"></th>
                                        <th class="headerAlignCenter"></th>
                                        <th class="headerAlignCenter"></th>
                                        <th class="headerAlignCenter"></th>
                                        <th class="headerAlignCenter"></th>
                                        <th class="headerAlignCenter" id="sum_tongkm_dn_tonghopkm"></th>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report tổng hợp km xe hoạt động *@

        @* Start Report dừng đỗ *@
        <div id="content-dn-dungdo" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaodungdo_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-dn-dungdo-date" class="form-control report_dn" type="text" name="" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="dn_listxe_dungdo" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_DN_DungDo();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_dn_dungdo" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter" style="width:25px">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigian</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianngunghoatdong</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtoado</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbdiachi</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_dn_dungdo"></tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report dừng đỗ *@

        @* Start Report dừng đỗ *@
        <div id="content-dn-maylanh" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaomaylanh_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-dn-maylanh-date" class="form-control report_dn" type="text" name="" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="dn_listxe_maylanh" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_DN_MayLanh();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_dn_maylanh" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter" style="width:25px">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtaixe</th>
                                        <th class="headerAlignCenter" style="width:80px">@khanhhoi.vn.Resources.Language.lbkeodai</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbmo</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtat</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_dn_maylanh"></tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report máy lạnh *@

        @* Start Report tổng hợp tiêu hao nhiên liệu *@
        <div id="content-dn-nhienlieu-tonghop" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaotonghoptieuhaonhienlieu_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-dn-nhienlieu-tonghop-date" class="form-control report_dn" type="text" name="" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="dn_listxe_nhienlieu_tonghop" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_DN_NhienLieu_TongHop();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <div>
                                <canvas id="canvas_oil"></canvas>
                            </div>
                            <table id="table_dn_nhienlieu_tonghop" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        @*colspan="2" -> mer 2 cột, rowspan="2" -> mer 2 dòng*@
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@Html.Raw(khanhhoi.vn.Resources.Language.lbngay)</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbsoluongdau</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_dn_nhienlieu_tonghop"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report tổng hợp tiêu hao nhiên liệu *@

        @* Start Report tắt/mở mô tở tải *@
        <div id="content-dn-mototai" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaotatmomototai</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-dn-mototai-date" class="form-control report_dn" type="text" name="" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="dn_list_mototai" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input id="btn_dn_mototai" type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_DN_TatMoMoToTai();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_dn_mototai" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbstt</th> @*colspan="2" -> mer 2 cột, rowspan="2" -> mer 2 dòng*@
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtaixe</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbkeodai</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigianmo</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthoigiantat</th>
                                        @*<th class="headerAlignCenter">Địa chỉ mở</th>*@
                                        @*<th class="headerAlignCenter">Địa chỉ Tắt</th>*@
                                        @*<th class="headerAlignCenter">Địa chỉ</th>*@
                                        @*<th class="headerAlignCenter">Toạ độ mở</th>
                                            <th class="headerAlignCenter">Toạ độ tắt</th>*@
                                    </tr>
                                </thead>
                                <tbody id="tbody_dn_mototai"></tbody>
                                @*<tfoot>
                                        <tr>
                                            <th>Tổng</th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                    </tfoot>*@
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report tắt/mở mô tở tải *@

        @* Start Report tắt/mở khoá điện *@
        <div id="content-dn-khoadien" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbbaocaotatmokhoadien_content</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <input id="content-dn-khoadien-date" class="form-control report_dn" type="text" name="" value="" />
                                        <span class="input-group-addon">
                                            <i class="fa fa-calendar"></i>&nbsp;
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="dn_list_khoadien" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input id="btn_dn_khoadien" type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_DN_TatMoKhoaDien();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_dn_khoadien" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter" style="width:25px">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtaixe</th>
                                        <th class="headerAlignCenter" style="width:80px">@khanhhoi.vn.Resources.Language.lbkeodai</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbmokhoadien</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtatkhoadien</th>
                                        @*<th class="headerAlignCenter">Địa chỉ mở</th>
                                            <th class="headerAlignCenter">Địa chỉ Tắt</th>
                                            <th class="headerAlignCenter">Toạ độ mở</th>
                                            <th class="headerAlignCenter">Toạ độ tắt</th>*@
                                    </tr>
                                </thead>
                                <tbody id="tbody_dn_khoadien"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report tắt/mở khoá điện *@


        @* Start Report ngủ gật *@
        <div id="content-dn-ngugat" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbcanhbaongugat</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action=".">
                            <div id="" class="form-group required">
                                <div class="col-md-3">
                                    <label for="id_password1" class="control-label requiredField">@khanhhoi.vn.Resources.Language.lbchonngay</label>
                                </div>
                                <div class="controls col-md-7">
                                    <div class="input-group date m-b-5">
                                        <div class="input-group date form_date" data-date="" data-date-format="dd-mm-yyyy" data-link-field="dtp_input_dozy" data-link-format="dd-mm-yyyy">
                                            <input class="form-control" type="text" id="date_form_dozy" style="height:26px" readonly>
                                            <span class="input-group-addon"><i class="fa fa-calendar" aria-hidden="true"></i></span>
                                        </div>
                                        <input type="hidden" id="dtp_input_dozy" />
                                    </div>
                                </div>
                                <div class="col-md-2" style="display:none;">#</div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label class="control-label"> @khanhhoi.vn.Resources.Language.lbbienso <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-5">
                                    <select id="dn_list_ngugat" class="form-control select2 fl" style="width:100%"></select>
                                </div>
                                <div class="col-md-4">
                                    <input id="btn_dn_ngugat" type="button" name="Signup" value="@khanhhoi.vn.Resources.Language.lbxem" class="btn btn-primary btn" style="width:135px;" onclick="Report_DN_CanhBaoNguGat();" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_dn_khoadien" class="table  table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter" style="width:25px">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtaixe</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtocdo</th>
                                        <th class="headerAlignCenter" style="width:80px">@khanhhoi.vn.Resources.Language.lbthoigian</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtoado</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbhinhanh</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_dn_canhbaongugat"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report ngủ gật *@

    </div>
</div>

<div class="main" id="content_comment" style="display:none;">
    <div class="content">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lblangnghedephattrien</div>
            </div>
            <div class="panel-body">
                <!-- nếu bạn chưa có đánh giá nào -->
                <p class="center">Bạn chưa có đánh giá nào</p>
                <!-- nếu bạn đã có đánh giá -->
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th class="headerAlignCenter">STT</th>
                                <th class="headerAlignCenter">Title</th>
                                <th class="headerAlignCenter">Content</th>
                                <th class="headerAlignCenter">Date Feedback</th>
                                <th class="headerAlignCenter">Người trả lời</th>
                                <th class="headerAlignCenter">Reply Feedback Content</th>
                                <th class="headerAlignCenter">Reply Time</th>
                                <th class="headerAlignCenter">Trạng thái</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="tr_hover_select" data-toggle="modal" data-target="#myFeedback">
                                <td>1</td>
                                <td>AAA</td>
                                <td>
                                    <p class="break_wrord">
                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                    </p>
                                </td>
                                <td>
                                    <p>25/06/2020</p>
                                </td>
                                <td>
                                    <p>Nguyễn Văn A</p>
                                </td>
                                <td>
                                    <p class="break_wrord">
                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                    </p>
                                </td>
                                <td>
                                    <p>25/06/2020</p>
                                </td>
                                <td class="center icon_status_feedback">
                                    <img src="~/images/icon/tick.svg" alt="Alternate Text" />
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="panel-footer text-right">
                    <button data-toggle="modal" data-target="#createFeedback" class="btn btn-primary">Tạo đánh giá</button>
                </div>
            </div>
        </div>
        <!-- Modal create Feeback-->
        <div id="createFeedback" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Tạo phản hồi</h4>
                    </div>
                    <div class="modal-body">

                        <div class="form-group">
                            <label>@khanhhoi.vn.Resources.Language.lbchude</label>
                            <select class="form-control" id="sel1" value="1">
                                <option selected="selected" value="1" id="feedback_chude">AAA</option>
                                <option value="2">BBB</option>
                                <option value="3">CCC</option>
                                <option value="4">khác...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="feedback_comment">@khanhhoi.vn.Resources.Language.lbnoidung</label>
                            <textarea class="form-control" id="feedback_comment" rows="15" placeholder="@khanhhoi.vn.Resources.Language.lbnoidunggopy"></textarea>

                        </div>
                    </div>
                    <div class="modal-footer">
                        <input id="feedback_send" type="submit" name="Signup" value="@khanhhoi.vn.Resources.Language.lbguiphanhoi" class="btn btn-primary btn pull-right">

                    </div>
                </div>
            </div>
        </div>
        <!-- Modal view detail Feeback-->
        <div id="myFeedback" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Chi tiết đánh giá</h4>
                    </div>
                    <div class="modal-body">
                        <div class="form-group bg_blue">
                            <label>Title</label>
                            <p>
                                AAA
                            </p>
                        </div>
                        <div class="form-group bg_blue">
                            <label>Content</label>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                                exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute
                            </p>
                        </div>
                        <div class="form-group bg_blue">
                            <label>Date Feedback</label>
                            <p>
                                25/06/2020
                            </p>
                        </div>
                        <div class="form-group bg_blue">
                            <label>Người trả lời</label>
                            <p>
                                Nguyễn Văn A
                            </p>
                        </div>
                        <div class="form-group bg_blue">
                            <label>Nội dung trả lời</label>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                                incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                                exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute
                            </p>
                        </div>
                        <div class="form-group bg_blue">
                            <label>Ngày trả lời</label>
                            <p>
                                25/06/2020
                            </p>
                        </div>
                        <div class="form-group bg_blue">
                            <label for="feedback_commentreply">@khanhhoi.vn.Resources.Language.lbnoidung</label>
                            <textarea required class="form-control" id="feedback_commentreply" rows="15" placeholder="@khanhhoi.vn.Resources.Language.lbnoidunggopy"></textarea>

                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" type="button" id="send_Feedbackreply">Send</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="list-admin" class="main" style="display:none;">
    <div class="wrapper">
        @*<div id="sidebar" class="list-group">
                <a href="#sub-menu" class="list-group-item active" data-toggle="collapse" data-parent="#main-menu">Quản trị hệ thống <span class="caret pull-right m-t-5"></span></a>
                <div class="collapse list-group-level1 in" id="sub-menu">
                    <a href="#" class="list-group-item" data-parent="#sub-menu"><img src="~/images/icon/Actions-list-add-user-icon.png" /> Tạo người dùng</a>
                </div>

                <a href="#sub-sub-menu-4" class="list-group-item active" data-toggle="collapse" data-parent="#sub-menu">Phí dịch vụ <span class="caret pull-right m-t-5"></span></a>
                <div class="collapse list-group-level2 in" id="sub-sub-menu-4">
                    <a href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/Blue-Documents-icon.png" /> Hướng dẫn trả phí </a>
                    <a href="#" class="list-group-item" data-parent="#sub-sub-menu"><img src="~/images/icon/Blue-Documents-icon.png" /> Điều khoản dịch vụ </a>
                </div>
            </div>*@

        @*Start thông tin tài khoản*@
        <div class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    @*<button class="btn-info btn-cus pull-left" id="sidebarCollapse"><i class="fa fa-align-left"></i></button>*@
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbthongtinnguoidung</div>
                    </div>
                    <div class="panel-body">
                        <div class="col-sm-3">
                            <!--left col-->
                            <div class="text-center">
                                <img src="http://ssl.gstatic.com/accounts/ui/avatar_2x.png" class="avatar img-circle img-thumbnail" alt="avatar">
                                <h6>@khanhhoi.vn.Resources.Language.lbchonhinh</h6>
                                <input type="file" class="text-center center-block file-upload" placeholder="abc">
                            </div></hr><br>
                        </div><!--/col-3-->
                        <div class="col-sm-9">
                            <ul class="nav nav-tabs">
                                <li class="active"><a data-toggle="tab" href="#change_info">@khanhhoi.vn.Resources.Language.lbthongtintaikhoan</a></li>
                                <li><a data-toggle="tab" href="#change_password">@khanhhoi.vn.Resources.Language.lbthaydoimatkhau</a></li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane active" id="change_info">
                                    <!-- tab thông tin người dùng -->
                                    <form class="form" action="##" method="post" id="registrationForm">
                                        <div class="col-xs-6">
                                            <label for="tb_name">@khanhhoi.vn.Resources.Language.lbhovaten</label>
                                            <div class="form-group">
                                                <input type="text" class="form-control" id="tb_name">
                                            </div>
                                        </div>
                                        <div class="col-xs-6">
                                            <label for="tb_address">@khanhhoi.vn.Resources.Language.lbdiachi</label>
                                            <div class="form-group">
                                                <input type="text" class="form-control" id="tb_address">
                                            </div>
                                        </div>
                                        <div class="col-xs-6">
                                            <label for="tb_email">Email</label>
                                            <div class="form-group">
                                                <input type="text" class="form-control" id="tb_email">
                                            </div>
                                        </div>
                                        <div class="col-xs-6">
                                            <label for="tb_phone">@khanhhoi.vn.Resources.Language.lbsodienthoai</label>
                                            <div class="form-group">
                                                <input type="text" class="form-control" id="tb_phone">
                                            </div>
                                        </div>
                                        <div class="col-xs-12">
                                            <div class="form-group">
                                                <button id="show_admin_reload" class="btn pull-right m-l-5" type="button">
                                                    <i class="glyphicon glyphicon-repeat"></i>
                                                    @khanhhoi.vn.Resources.Language.lbtailaitrang
                                                </button>
                                                <button class="btn btn-success pull-right" type="button" onclick="Update_info();">
                                                    <i class="glyphicon glyphicon-ok-sign"></i>
                                                    @khanhhoi.vn.Resources.Language.lbluu
                                                </button>
                                                @*<button class="btn" type="reset"><i class="glyphicon glyphicon-repeat"></i>Nhập mới</button>*@
                                            </div>
                                        </div>
                                    </form>
                                    <hr>
                                </div>
                                <div class="tab-pane" id="change_password">
                                    <!-- tab thay đổi mật khẩu -->
                                    <form class="form" action="##" method="post" id="change_password">
                                        <div class="col-xs-12">
                                            <div class="form-group">
                                                <label for="pw_old">@khanhhoi.vn.Resources.Language.lbmatkhaucu</label>
                                                <input type="password" class="form-control" id="pw_old">
                                                <span toggle="#pw_old" class="fa fa-fw fa-2x fa-eye field-icon toggle-password"></span>
                                            </div>
                                            <div class="form-group m-t-5">
                                                <label for="pw_new">@khanhhoi.vn.Resources.Language.lbmatkhaumoi</label>
                                                <input type="password" class="form-control" id="pw_new" required>
                                                <span toggle="#pw_new" class="fa fa-fw fa-2x fa-eye field-icon toggle-password"></span>
                                            </div>
                                            <div class="form-group m-t-5">
                                                <label for="pw_confirm">@khanhhoi.vn.Resources.Language.lbnhaplaimatkhaumoi</label>
                                                <input type="password" class="form-control" id="pw_confirm" required>
                                                <span toggle="#pw_confirm" class="fa fa-fw fa-2x fa-eye field-icon toggle-password"></span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-xs-12">
                                                <br>
                                                <button class="btn btn-success pull-right" type="button" onclick="UpdatePassword();"><i class="glyphicon glyphicon-ok-sign"></i>@khanhhoi.vn.Resources.Language.lbluu</button>
                                                <!--<button class="btn btn-lg" type="reset"><i class="glyphicon glyphicon-repeat"></i> Reset</button>-->
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div><!--/tab-pane-->
                        </div><!--/tab-content-->
                    </div>
                </div>
            </div>
        </div>
        @*End thông tin tài khoản*@
    </div>
</div>

<div id="content-taikhoan" class="contaner-fuild" style="display:none;">
    <!-- Start body -->
    <div id="content-taikhoan-body">
        <div class="content">
            <div class="">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbthongtintaikhoan</div>
                    </div>
                    <div class="panel-body">
                        <form method="post" action="." class="form-horizontal">
                            <fieldset>
                                <div class="form-group">
                                    <div class="col-md-2">
                                        <label for="thongtin_nguoitao" class="control-label">
                                            @khanhhoi.vn.Resources.Language.lbnguoitao
                                        </label>
                                    </div>
                                    <div class="col-md-4">
                                        <input id="thongtin_nguoitao" type="text" class="form-control" readonly />
                                    </div>
                                    <div class="col-md-2">
                                        <label for="thongtin_taikhoan" class="control-label">
                                            @khanhhoi.vn.Resources.Language.lbtaikhoan
                                        </label>
                                    </div>
                                    <div class="col-md-4">
                                        <input id="thongtin_taikhoan" type="text" class="form-control" readonly />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-2">
                                        <label for="thongtin_tenkhachhang" class="control-label">
                                            @khanhhoi.vn.Resources.Language.lbtenkhachhang
                                        </label>
                                    </div>
                                    <div class="col-md-4">
                                        <input id="thongtin_tenkhachhang" type="text" class="form-control" readonly />
                                    </div>
                                    <div class="col-md-2">
                                        <label for="thongtin_sodienthoai" class="control-label">
                                            @khanhhoi.vn.Resources.Language.lbsodienthoai
                                        </label>
                                    </div>
                                    <div class="col-md-4">
                                        <input id="thongtin_sodienthoai" type="text" class="form-control" readonly />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-2">
                                        <label for="thongtin_email" class="control-label">
                                            Email
                                        </label>
                                    </div>
                                    <div class="col-md-4">
                                        <input id="thongtin_email" type="text" class="form-control" readonly />
                                    </div>
                                    <div class="col-md-2">
                                        <label for="thongtin_diachi" class="control-label">
                                            @khanhhoi.vn.Resources.Language.lbdiachi
                                        </label>
                                    </div>
                                    <div class="col-md-4">
                                        <input id="thongtin_diachi" type="text" class="form-control" readonly />
                                    </div>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
            <div class="">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <div class="panel-title text-center">
                            @khanhhoi.vn.Resources.Language.lbdanhsachtaikhoan
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-12 m-b-5">
                                <button id="btn_refresh_dstaikhoan" class="btn btn-primary m-l-5" onclick="GetList_User_Refresh()"
                                        title="Tải lại danh sách" style="display:none">
                                    <span><i class="fa fa-refresh" aria-hidden="true"></i></span>
                                </button>
                                <button id="item-taikhoan-them" class="btn btn-success" onclick="taikhoan_them_click()" data-toggle="tooltip"
                                        data-placement="top" title="@khanhhoi.vn.Resources.Language.lbthem">
                                    <span><i class="fa fa-plus" aria-hidden="true"></i></span>
                                </button>
                                <button id="item-taikhoan-sua" class="btn btn-warning" onclick="taikhoan_sua_click()" data-toggle="tooltip"
                                        data-placement="top" title="@khanhhoi.vn.Resources.Language.lbsua">
                                    <span><i class="fa fa-pencil-square-o" aria-hidden="true"></i></span>
                                </button>
                                <button id="item-taikhoan-xoa" class="btn btn-danger" onclick="taikhoan_xoa_click()" data-toggle="tooltip"
                                        data-placement="top" title="@khanhhoi.vn.Resources.Language.lbxoa">
                                    <span><i class="fa fa-trash-o" aria-hidden="true"></i></span>
                                </button>
                                <button id="item-taikhoan-back" class="btn btn-warning" onclick="taikhoan_back_click()" data-toggle="tooltip" data-placement="top" title="@khanhhoi.vn.Resources.Language.btnquaylai" style="display:none">
                                    <span><i class="fa fa-arrow-left" aria-hidden="true"></i></span>
                                </button>
                                <button id="item-taikhoan-save" class="btn btn-primary" title="Lưu" onclick="EditInfo_Acc()" data-toggle="tooltip" data-placement="top" title="@khanhhoi.vn.Resources.Language.lbluu" style="display:none">
                                    <span><i class="fa fa-floppy-o" aria-hidden="true"></i></span>
                                </button>
                            </div>
                        </div>
                        <div class="my-custom-scrollbar table-wrapper-scroll-y table-scroll">
                            <table id="table_taikhoan" class="table table-bordered table-hover main-table" style="cursor:pointer">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter" style="width:25px">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter" style="width:80px">@khanhhoi.vn.Resources.Language.lbtaikhoan</th>
                                        <th class="headerAlignCenter" style="width:70px">@khanhhoi.vn.Resources.Language.lbmatkhau</th>
                                        <th class="headerAlignCenter" style="width:100px">@khanhhoi.vn.Resources.Language.lbhovaten</th>
                                        <th class="headerAlignCenter" style="width:80px">@khanhhoi.vn.Resources.Language.lbsodienthoai</th>
                                        <th class="headerAlignCenter" style="width:100px">@khanhhoi.vn.Resources.Language.lbdiachi</th>
                                        <th class="headerAlignCenter" style="width:80px">Email</th>
                                        <th class="headerAlignCenter" style="width:100px">@khanhhoi.vn.Resources.Language.lbghichu</th>
                                        <th class="headerAlignCenter" hidden>userid</th>
                                        <th class="headerAlignCenter" style="width:100px">@khanhhoi.vn.Resources.Language.lbdanhsachxe</th>

                                    </tr>
                                </thead>
                                <tbody id="tbody_taikhoan"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End body -->
</div>

<div id="content-thietbi-taixe" class="main" style="display:none;">
    <div class="wrapper">
        <!-- Start body -->
        <div id="content-thietbi-body" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbdanhsachthietbi</div>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <div class="table-responsive-dsthietbi table-scroll">
                                <table id="table_thietbi" class="table table-bordered table-hover" style="width:100%;cursor:pointer;">
                                    <thead>
                                        <tr>
                                            <th class="headerAlignCenter" style="width:50px">@khanhhoi.vn.Resources.Language.lbsua</th>
                                            <th class="headerAlignCenter" style="width:40px">@khanhhoi.vn.Resources.Language.lbstt</th>
                                            <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                            <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtenthietbi</th>
                                            <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbphienban</th>
                                            <th class="headerAlignCenter">Imei</th>
                                            <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbnhomxe</th>
                                            <th class="headerAlignCenter" style="width:90px">@khanhhoi.vn.Resources.Language.lbngayhethan</th>
                                            <th class="headerAlignCenter" hidden>DeviceID</th>
                                            <th class="headerAlignCenter" hidden>VehicleID</th>
                                            <th class="headerAlignCenter" hidden>VehicleGroupIDChild</th>
                                            <th class="headerAlignCenter" hidden>VehicleCategoryID</th>
                                            <th class="headerAlignCenter" hidden>Capacity</th>
                                            <th class="headerAlignCenter" hidden>BarrelNumber</th>
                                            <th class="headerAlignCenter" hidden>SimNumber</th>
                                            <th class="headerAlignCenter" hidden>SimID</th>
                                            <th class="headerAlignCenter" hidden>ProvinceID</th>
                                            <th class="headerAlignCenter" hidden>TypeTransportID</th>
                                            <th class="headerAlignCenter" hidden>Business</th>
                                            <th class="headerAlignCenter" hidden>Chassis</th>
                                            <th class="headerAlignCenter" hidden>Grosston</th>
                                            <th class="headerAlignCenter" hidden>ParentGroupID</th>
                                            <th class="headerAlignCenter" hidden>CurrentChildID</th>
                                            <th class="headerAlignCenter" hidden>Switch_</th>
                                            <th class="headerAlignCenter" hidden>Switch_Door</th>
                                            <th class="headerAlignCenter" hidden>FuelConsumption</th>
                                            <th class="headerAlignCenter" hidden>FuelCapacity</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbody_thietbi"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel panel-primary ">
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbthongtintaixe</div>
                    </div>
                    <div class="p-10 ">
                        <div class="p-10-wrapper">
                            <div class="row">
                                <div class="col-md-12 m-b-5">
                                    <button id="item-taixe-them" class="btn btn-success" onclick="taixe_them_click()" data-toggle="tooltip"
                                            data-placement="bottom" title="@khanhhoi.vn.Resources.Language.lbthem">
                                        <span><i class="fa fa-plus" aria-hidden="true"></i></span>
                                    </button>
                                    <button id="item-taixe-sua" class="btn btn-warning" onclick="taixe_sua_click()" data-toggle="tooltip"
                                            data-placement="bottom" title="@khanhhoi.vn.Resources.Language.lbsua">
                                        <span><i class="fa fa-pencil-square-o" aria-hidden="true"></i></span>
                                    </button>
                                    <button id="item-taixe-xoa" class="btn btn-danger" onclick="taixe_xoa_click()" data-toggle="tooltip"
                                            data-placement="bottom" title="@khanhhoi.vn.Resources.Language.lbxoa">
                                        <span><i class="fa fa-trash-o" aria-hidden="true"></i></span>
                                    </button>
                                </div>
                            </div>
                            <div class="table-responsive-thongtintaixe">
                                <table id="table_taixe" class="table table-bordered table-hover" style="width:100%;cursor:pointer;">
                                    <thead>
                                        <tr>
                                            <th class="headerAlignCenter" style="width:40px">@khanhhoi.vn.Resources.Language.lbstt</th>
                                            <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbtenlaixe</th>
                                            <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbsodienthoai</th>
                                            <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbgplx</th>
                                            <th class="headerAlignCenter" style="display:none">driverid</th>
                                            <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbsocmnd</th>
                                            <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbhang</th>
                                            <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbngaycap</th>
                                            <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbngayhethan</th>
                                            <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbnoicap</th>
                                            <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbghichu</th>
                                            <th class="headerAlignCenter" style="display:none">deviceid</th>
                                            <th class="headerAlignCenter" style="display:none">ddid</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbody_taixe"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End body -->
        <!-- Start thêm -->
        <!-- End thêm -->

    </div>
</div>

<div id="list-tienich" class="main" style="display:none;">
    <div class="wrapper__">
        <div id="sidebar" class="list-group">
            <a href="#sub-menu" class="list-group-item active" data-toggle="collapse" data-parent="#main-menu">
                @khanhhoi.vn.Resources.Language.lbquantridangkiem
                <span class="caret pull-right m-t-5"></span>
            </a>
            <div class="collapse list-group-level1 in" id="sub-menu">
                @*<a href="#" class="list-group-item" data-parent="#sub-menu">
                        <img src="~/images/icon/Window-Enter-icon.png" />
                        @khanhhoi.vn.Resources.Language.lbnhapthongtindangkiem
                    </a>*@
                <a id="menu-tienich-thongtinthietbi" href="javascript:getAllDevice();" class="list-group-item" data-parent="#sub-menu">
                    <img src="~/images/icon/Info-icon.png" />
                    @khanhhoi.vn.Resources.Language.lbthongtinthietbi
                </a>
            </div>
        </div>
        @* Start thông tin thiết bị *@
        <div id="content-tienich-thongtinthietbi" style="display:none;" class="content">
            <div id="signupbox" class="mainbox">
                <div class="panel panel-primary">
                    <button class="btn-primary btn-cus pull-left" id="sidebarCollapse"><i class="fa fa-align-left"></i></button>
                    <div class="panel-heading">
                        <div class="panel-title text-center">@khanhhoi.vn.Resources.Language.lbthongtinthietbi_content</div>
                    </div>
                    <div class="p-10">
                        <div class="p-10-wrapper">
                            <table id="table_tienich_thongtinthietbi" class="table table-bordered" style="width:100%">
                                <thead>
                                    <tr>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbstt</th>
                                        <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbthongtin</th>
                                    </tr>
                                </thead>
                                <tbody id="tbody_tienich_thongtinthietbi"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* End Report thông tin thiết bị *@

    </div>
</div>

<!-- end: group 1 -->
<!-- begin: group 2 -->
<div class="preloader">
    <div class="preloader_inner">@khanhhoi.vn.Resources.Language.lbdangcapnhatdulieu</div>
</div>
<div id="snackbar">Some text some message..</div>
<button type="button" id="btn_modal_exp" style="display:none" class="btn btn-primary" data-toggle="modal"
        data-target="#exampleModalCenter"></button>
<button type="button" id="btn_modal_taikhoan_them" style="display:none" class="btn btn-primary" data-toggle="modal"
        data-target="#Modal_taikhoan_them" data-backdrop="static" data-keyboard="false"></button>
<button type="button" id="btn_modal_taikhoan_dsxe" style="display:none" class="btn btn-primary" data-toggle="modal"
        data-target="#Modal_taikhoan_dsxe" data-backdrop="static" data-keyboard="false"></button>
<button type="button" id="btn_modal_taixe_them" style="display:none" class="btn btn-primary" data-toggle="modal"
        data-target="#Modal_taixe_them" data-backdrop="static" data-keyboard="false"></button>
<button type="button" id="btn_modal_taixe_sua" style="display:none" class="btn btn-primary" data-toggle="modal"
        data-target="#Modal_taixe_sua" data-backdrop="static" data-keyboard="false"></button>
<button type="button" id="btn_modal_dsthietbi_sua" style="display:none" class="btn btn-primary" data-toggle="modal"
        data-target="#Modal_dsthietbi_sua" data-backdrop="static" data-keyboard="false"></button>
<!-- begin: group 2 -->
<!-- begin: Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalCenterTitle">@khanhhoi.vn.Resources.Language.tbdanhsachxehethandv</h5>
                <button type="button" class="close" id="closeModal" data-dismiss="modal" aria-label="Close" style="display:none">
                    <span aria-hidden="true">&times;</span>
                </button>

            </div>
            <div class="modal-body">
                <div class="table-responsive-taikhoan-them table-scroll">
                    <table class="table table-bordered table-hover">
                        <thead class="thead-dark">
                            <tr>
                                <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbstt</th>
                                <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbngayhethan</th>
                                <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbghichu</th>
                            </tr>
                        </thead>
                        <tbody id="body_dv_exp"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="Modal_taikhoan_them" tabindex="-1" role="dialog" aria-labelledby="Modal_taikhoan_them_title" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="Modal_taikhoan_them_title">@khanhhoi.vn.Resources.Language.lbthongtintaikhoan</h5>
            </div>
            <form id="taikhoan_form_submit" autocomplete="off" class="form-horizontal">
                <fieldset>
                    <div class="modal-body">
                        <div class="panel-body">
                            <div class="col-xs-5">
                                <div class="form-group">
                                    <label class="control-label">@khanhhoi.vn.Resources.Language.lbtendangnhap</label>
                                    <input id="taikhoan_tendangnhap" type="text" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label class="control-label">@khanhhoi.vn.Resources.Language.lbmatkhau</label>
                                    <input id="taikhoan_matkhau" type="password" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label class="control-label">@khanhhoi.vn.Resources.Language.lbhovaten</label>
                                    <input id="taikhoan_hoten" class="form-control" type="text" />
                                </div>
                                <div class="form-group">
                                    <label class="control-label">Email</label>
                                    <input id="taikhoan_email" class="form-control" type="email" placeholder="nguyenvana@gmail.com" />
                                </div>
                                <div class="form-group">
                                    <label class="control-label">@khanhhoi.vn.Resources.Language.lbdienthoai</label>
                                    <input type="text" id="taikhoan_dienthoai" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label class="control-label">@khanhhoi.vn.Resources.Language.lbdiachi</label>
                                    <input id="taikhoan_diachi" class="form-control" type="text" />
                                </div>
                                <div class="form-group">
                                    <label class="control-label">@khanhhoi.vn.Resources.Language.lbghichu</label>
                                    <textarea id="taikhoan_ghichu" class="form-control" rows="5" required></textarea>
                                </div>
                            </div>
                            <div class="col-xs-7">
                                <label style="display:block;text-align:center">@khanhhoi.vn.Resources.Language.lbdanhsachxe</label>
                                <div class="table-responsive-taikhoan-them">
                                    <table id="table_taikhoan_them" class="table table-bordered  table-hover" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th class="headerAlignCenter" style="width:20px">@khanhhoi.vn.Resources.Language.lbstt</th>
                                                <th class="headerAlignCenter" style="width:100px">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                                <th class="headerAlignCenter">@khanhhoi.vn.Resources.Language.lbnhomxe</th>
                                            </tr>
                                        </thead>
                                        <tbody id="tbody_taikhoan_them"></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" id="modal_taikhoan_confirm" onclick="CreateInfo_Acc();">
                            @khanhhoi.vn.Resources.Language.btnxacnhan
                        </button>
                        <button type="button" class="btn btn-secondary" id="modal_taikhoan_close" data-dismiss="modal">@khanhhoi.vn.Resources.Language.btnhuy</button>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="Modal_taikhoan_dsxe" tabindex="-1" role="dialog" aria-labelledby="Modal_taikhoan_dsxe_title" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="Modal_taikhoan_dsxe_title">@khanhhoi.vn.Resources.Language.lbdanhsachxe</h5>
            </div>
            <form id="taikhoan_form_dsxe">
                <div class="modal-body">
                    <div class="panel-body">
                        <div class="row">
                            <div class="table-responsive-taikhoan-them table-scroll">
                                <table id="table_taikhoan_dsxe" class="table table-bordered  table-hover" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th class="headerAlignCenter" style="width:20px">@khanhhoi.vn.Resources.Language.lbstt</th>
                                            <th class="headerAlignCenter" style="width:100px">@khanhhoi.vn.Resources.Language.lbbienso</th>
                                            <th class="headerAlignCenter" style="width:100px">@khanhhoi.vn.Resources.Language.lbnhomxe</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbody_taikhoan_dsxe"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="modal_taikhoan_dsxe_confirm" onclick="modal_taikhoan_dsxe_confirm_click()">
                        @khanhhoi.vn.Resources.Language.btnxacnhan
                    </button>
                    <button type="button" class="btn btn-secondary" id="modal_taikhoan_dsxe_close" data-dismiss="modal">@khanhhoi.vn.Resources.Language.btnhuy</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="Modal_taixe_them" tabindex="-1" role="dialog" aria-labelledby="Modal_taixe_them_title" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content modal-content-taixe">
            <div class="modal-header">
                <h5 class="modal-title" id="Modal_taixe_them_title">@khanhhoi.vn.Resources.Language.lbtaomoithongtinlaixe</h5>
            </div>
            <form id="taixe_form_them_submit" autocomplete="off" class="form-horizontal">
                <div class="modal-body">
                    <div class="row">
                        <fieldset class="groupbox-border">
                            <legend class="groupbox-border">@khanhhoi.vn.Resources.Language.lbgiaypheplaixe</legend>
                            <div class="row form-group">
                                <div class="col-lg-4">
                                    <label class="control-label text-danger">@khanhhoi.vn.Resources.Language.lbso</label>
                                </div>
                                <div class="col-lg-8">
                                    <input id="taixe_them_sogplx" class="form-control" type="text" />
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-lg-4">
                                    <label class="control-label">@khanhhoi.vn.Resources.Language.lbhang</label>
                                </div>
                                <div class="col-lg-8">
                                    <input id="taixe_them_hang" class="form-control " type="text" />
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-lg-4">
                                    <label class="control-label">@khanhhoi.vn.Resources.Language.lbngaycap</label>
                                </div>
                                <div class="col-lg-8">
                                    <div class="input-group date form_date" data-date="" data-date-format="dd-mm-yyyy" data-link-field="dtp_input2" data-link-format="dd-mm-yyyy">
                                        <input class="form-control " type="text" id="taixe_them_ngaycapgplx" style="height:34px;" readonly>
                                        <span class="input-group-addon"><i class="fa fa-calendar" aria-hidden="true"></i></span>
                                    </div>
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-lg-4">
                                    <label class="control-label">@khanhhoi.vn.Resources.Language.lbngayhethan</label>
                                </div>
                                <div class="col-lg-8">
                                    <div class="input-group date form_date" data-date="" data-date-format="dd-mm-yyyy" data-link-field="dtp_input2" data-link-format="dd-mm-yyyy">
                                        <input class="form-control " type="text" id="taixe_them_hethangplx" style="height:34px;" readonly>
                                        <span class="input-group-addon"><i class="fa fa-calendar" aria-hidden="true"></i></span>
                                    </div>
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-lg-4">
                                    <label class="control-label">@khanhhoi.vn.Resources.Language.lbnoicap</label>
                                </div>
                                <div class="col-lg-8">
                                    <input id="taixe_them_noicap" class="form-control " type="text" />
                                </div>
                            </div>
                        </fieldset>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label class="control-label text-danger">@khanhhoi.vn.Resources.Language.lbtentaixe</label>
                        </div>
                        <div class="col-lg-8">
                            <input id="taixe_them_tentaixe" class="form-control" type="text" />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label class="control-label text-danger">@khanhhoi.vn.Resources.Language.lbsodienthoai</label>
                        </div>
                        <div class="col-lg-8">
                            <input id="taixe_them_sodienthoai" class="form-control" type="text" />
                        </div>

                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label class="control-label text-danger">@khanhhoi.vn.Resources.Language.lbsocmnd</label>
                        </div>
                        <div class="col-lg-8">
                            <input id="taixe_them_socmnd" class="form-control" type="text" />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label class="control-label">@khanhhoi.vn.Resources.Language.lbghichu</label>
                        </div>
                        <div class="col-lg-8">
                            <textarea id="taixe_them_ghichu" class="form-control" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="modal_taixe_confirm" onclick="btn_taixe_them_confirm()">
                        @khanhhoi.vn.Resources.Language.btnxacnhan
                    </button>
                    <button type="button" class="btn btn-secondary" id="modal_taixe_close" data-dismiss="modal">
                        @khanhhoi.vn.Resources.Language.btnhuy
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="Modal_taixe_sua" tabindex="-1" role="dialog" aria-labelledby="Modal_taixe_sua_title" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content modal-content-taixe">
            <div class="modal-header">
                <h5 class="modal-title" id="Modal_taixe_sua_title">@khanhhoi.vn.Resources.Language.lbsuathongtinlaixe</h5>
            </div>
            <form autocomplete="off" class="form-horizontal">
                <fieldset>
                    <div class="modal-body">
                        <div class="row">
                            <fieldset class="groupbox-border">
                                <legend class="groupbox-border">@khanhhoi.vn.Resources.Language.lbgiaypheplaixe</legend>
                                <div class="row form-group">
                                    <div class="col-lg-4">
                                        <label class="control-label">@khanhhoi.vn.Resources.Language.lbso</label>
                                    </div>
                                    <div class="col-lg-8">
                                        <input id="taixe_sua_sogplx" class="form-control" type="text" />
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <div class="col-lg-4">
                                        <label class="control-label">@khanhhoi.vn.Resources.Language.lbhang</label>
                                    </div>
                                    <div class="col-lg-8">
                                        <input id="taixe_sua_hang" class="form-control " type="text" />
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <div class="col-lg-4">
                                        <label class="control-label">@khanhhoi.vn.Resources.Language.lbngaycap</label>
                                    </div>
                                    <div class="col-lg-8">
                                        <div class="input-group date form_date" data-date="" data-date-format="dd-mm-yyyy" data-link-field="dtp_input2" data-link-format="dd-mm-yyyy">
                                            <input class="form-control " type="text" id="taixe_sua_ngaycapgplx" style="height:34px;" readonly>
                                            <span class="input-group-addon"><i class="fa fa-calendar" aria-hidden="true"></i></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <div class="col-lg-4">
                                        <label class="control-label">@khanhhoi.vn.Resources.Language.lbngayhethan</label>
                                    </div>
                                    <div class="col-lg-8">
                                        <div class="input-group date" data-date="" data-date-format="dd-mm-yyyy" data-link-field="dtp_input2" data-link-format="dd-mm-yyyy">
                                            <input class="form-control form_date form_date_" type="text" id="taixe_sua_hethangplx" style="height:34px;" readonly>
                                            <span class="input-group-addon"><i class="fa fa-calendar" aria-hidden="true"></i></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <div class="col-lg-4">
                                        <label class="control-label">@khanhhoi.vn.Resources.Language.lbnoicap</label>
                                    </div>
                                    <div class="col-lg-8">
                                        <input id="taixe_sua_noicap" class="form-control" type="text" />
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <div class="row form-group">
                            <div class="col-lg-4">
                                <label class="text-danger control-label">@khanhhoi.vn.Resources.Language.lbtentaixe</label>
                            </div>
                            <div class="col-lg-8">
                                <input id="taixe_sua_tentaixe" class="form-control" type="text" />
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-lg-4">
                                <label class="text-danger control-label">@khanhhoi.vn.Resources.Language.lbsodienthoai</label>
                            </div>
                            <div class="col-lg-8">
                                <input id="taixe_sua_sodienthoai" class="form-control" type="text" />
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-lg-4">
                                <label class="control-label">@khanhhoi.vn.Resources.Language.lbsocmnd</label>
                            </div>
                            <div class="col-lg-8">
                                <input id="taixe_sua_socmnd" class="form-control" type="text" />
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-lg-4">
                                <label class="control-label">@khanhhoi.vn.Resources.Language.lbghichu</label>
                            </div>
                            <div class="col-lg-8">
                                <textarea id="taixe_sua_ghichu" class="form-control" rows="3"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" id="modal_taixe_sua_confirm" onclick="btn_taixe_sua_confirm()">
                            @khanhhoi.vn.Resources.Language.btnxacnhan
                        </button>
                        <button type="button" class="btn btn-secondary" id="modal_taixe_sua_close" data-dismiss="modal">
                            @khanhhoi.vn.Resources.Language.btnhuy
                        </button>
                    </div>
                </fieldset>

            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="Modal_dsthietbi_sua" tabindex="-1" role="dialog" aria-labelledby="Modal_dsthietbi_sua_title" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content modal-content-taixe">
            <div class="modal-header">
                <h5 class="modal-title" id="Modal_dsthietbi_sua_title">@khanhhoi.vn.Resources.Language.lbsuathongtinthietbi</h5>
            </div>
            <form id="thietbi_form_sua_submit" autocomplete="off" class="form-horizontal">
                <div class="modal-body">
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label class="control-label">@khanhhoi.vn.Resources.Language.lbbienso</label>
                        </div>
                        <div class="col-lg-8">
                            <input id="thietbi_sua_bienso" class="form-control" type="text" />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label class="control-label">@khanhhoi.vn.Resources.Language.lbso</label>
                        </div>
                        <div class="col-lg-8">
                            <input id="thietbi_sua_sokhung" class="form-control" type="text" />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label class="control-label">@khanhhoi.vn.Resources.Language.lbloaixe</label>
                        </div>
                        <div class="col-lg-8">
                            <select id="thietbi_sua_loaixe" class="form-control select2 fl" style="width:100%"></select>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <div class="paragraph-thongtintaikhoan"><label>@khanhhoi.vn.Resources.Language.lbnhomxe</label></div>
                        </div>
                        <div class="col-lg-8">
                            <select id="thietbi_sua_nhomxe" class="form-control select2 fl" style="width:100%"></select>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label class="control-label">@khanhhoi.vn.Resources.Language.lbsothung</label>
                        </div>
                        <div class="col-lg-8">
                            <input id="thietbi_sua_sothung" class="form-control" type="text" />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label class="control-label">@khanhhoi.vn.Resources.Language.lbdungtich</label>
                        </div>
                        <div class="col-lg-8">
                            <input id="thietbi_sua_dungtich" class="form-control" type="text" />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label class="control-label">@khanhhoi.vn.Resources.Language.lbtaitrong</label>
                        </div>
                        <div class="col-lg-8">
                            <input id="thietbi_sua_taitrong" class="form-control" type="text" />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label>@khanhhoi.vn.Resources.Language.lbmuctieuhaonhienlieu100km</label>
                        </div>
                        <div class="col-lg-8">
                            <input id="thietbi_sua_muctieuhao" class="form-control" type="text" />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label>@khanhhoi.vn.Resources.Language.lbdungtichbinhnhienlieu</label>
                        </div>
                        <div class="col-lg-8">
                            <input id="thietbi_sua_dungtich_binh" class="form-control" type="text" />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label class="control-label">@khanhhoi.vn.Resources.Language.lbtinh</label>
                        </div>
                        <div class="col-lg-8">
                            <select id="thietbi_sua_tinh" class="form-control select2 fl" style="width:100%"></select>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label>@khanhhoi.vn.Resources.Language.lbdnquanly</label>
                        </div>
                        <div class="col-lg-8">
                            <input id="thietbi_sua_dnquanly" class="form-control" type="text" />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-lg-4">
                            <label class="control-label">@khanhhoi.vn.Resources.Language.lbloaivantai</label>
                        </div>
                        <div class="col-lg-8">
                            <select id="thietbi_sua_loaivantai" class="form-control select2 fl" style="width:100%"></select>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-md-4"></div>
                        <div class="col-md-8">
                            <div class="checkbox">
                                <label style="padding:0">
                                    <input type="checkbox" value="">
                                    <span class="cr"><i id="thietbi_sua_daokhoa" class="cr-icon fa fa-check"></i></span>@khanhhoi.vn.Resources.Language.lbdaokhoa
                                </label>
                                <label>
                                    <input type="checkbox" value="">
                                    <span class="cr"><i id="thietbi_sua_daocua" class="cr-icon fa fa-check"></i></span>@khanhhoi.vn.Resources.Language.lbdaocua
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="modal_thietbi_confirm" onclick="btn_thietbi_sua_confirm()">
                        @khanhhoi.vn.Resources.Language.btnxacnhan
                    </button>
                    <button type="button" class="btn btn-secondary" id="modal_thietbi_close" data-dismiss="modal">
                        @khanhhoi.vn.Resources.Language.btnhuy
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="blur"></div>
<div class="blur"></div>

<!-- end: Modal -->

<script type="text/javascript">
    $(function () {

        $('input[name="datefilter"]').daterangepicker({
            autoUpdateInput: true,
            locale: {
                cancelLabel: '@khanhhoi.vn.Resources.Language.lbdong', //Close
                format: 'DD/MM/YYYY'
            },
            maxDate: new Date()
        });

        $('input[name="datefilter"]').on('apply.daterangepicker', function (ev, picker) {
            $(this).val(picker.startDate.format('DD/MM/YYYY') + ' - ' + picker.endDate.format('DD/MM/YYYY'));
        });

        $('input[name="datefilter"]').on('cancel.daterangepicker', function (ev, picker) {
            $(this).val('');
            $(this).val(picker.startDate.format('DD/MM/YYYY') + ' - ' + picker.endDate.format('DD/MM/YYYY'));
        });

    });
</script>
<script type="text/javascript">
    $('.report_dn').datetimepicker({
        language: 'vi',
        weekStart: 1,
        todayBtn: 1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        minView: 2,
        forceParse: 0,
        format: 'dd/mm/yyyy',
        val: new Date(),
        endDate: new Date()
    })
    $('.form_datetime').datetimepicker({
        //language:  'fr',
        weekStart: 1,
        todayBtn: 1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        forceParse: 0,
        showMeridian: 1,
        format: 'dd-mm-yyyy'
        //endDate: new Date()
    });
    $('.form_date').datetimepicker({
        language: 'vi',
        weekStart: 1,
        todayBtn: 1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        minView: 2,
        forceParse: 0,
        format: 'dd-mm-yyyy',

    });
    $('.form_date_').datetimepicker({
        endDate: new Date()
    });
    $('.form_time').datetimepicker({
        language: 'vi',
        weekStart: 1,
        todayBtn: 1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 1,
        minView: 0,
        maxView: 1,
        forceParse: 0,
        format: 'dd-mm-yyyy'
        //endDate: new Date()
    });
    $('.select2').select2();

</script>


